/*! For license information please see main.681d1bcb.js.LICENSE.txt */
(()=>{"use strict";var e={219:(e,t,n)=>{var r=n(86),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?s:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=d(n);u&&(s=s.concat(u(n)));for(var o=l(t),m=l(n),g=0;g<s.length;++g){var b=s[g];if(!a[b]&&(!r||!r[b])&&(!m||!m[b])&&(!o||!o[b])){var v=h(n,b);try{c(t,b,v)}catch(y){}}}}return t}},123:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,s,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(o[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(o[s[d]]=a[s[d]])}}return o}},730:(e,t,n)=>{var r=n(43),i=n(123),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var o=new Set,l={};function c(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=b.hasOwnProperty(t)?b[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);b[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,A=60106,E=60107,k=60108,C=60114,_=60109,T=60110,P=60112,O=60113,M=60120,R=60115,I=60116,L=60121,D=60128,N=60129,z=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;S=j("react.element"),A=j("react.portal"),E=j("react.fragment"),k=j("react.strict_mode"),C=j("react.profiler"),_=j("react.provider"),T=j("react.context"),P=j("react.forward_ref"),O=j("react.suspense"),M=j("react.suspense_list"),R=j("react.memo"),I=j("react.lazy"),L=j("react.block"),j("react.scope"),D=j("react.opaque.id"),N=j("react.debug_trace_mode"),z=j("react.offscreen"),F=j("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function $(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function W(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case A:return"Portal";case C:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case L:return G(e._render);case I:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function ce(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function de(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==ue.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ae(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,_e=null,Te=null;function Pe(e){if(e=ni(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Ce(e.stateNode,e.type,t))}}function Oe(e){_e?Te?Te.push(e):Te=[e]:_e=e}function Me(){if(_e){var e=_e,t=Te;if(Te=_e=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function Ie(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var De=Re,Ne=!1,ze=!1;function Fe(){null===_e&&null===Te||(Le(),Me())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Be=!1;if(u)try{var He={};Object.defineProperty(He,"passive",{get:function(){Be=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(me){Be=!1}function $e(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var We=!1,Ue=null,Ve=!1,qe=null,Ge={onError:function(e){We=!0,Ue=e}};function Xe(e,t,n,r,i,a,s,o,l){We=!1,Ue=null,$e.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ye(e)!==e)throw Error(s(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Qe(i),e;if(a===r)return Qe(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],st=null,ot=null,lt=null,ct=new Map,dt=new Map,ut=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ot=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ft(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){bt(e)&&n.delete(t)}function yt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&bt(st)&&(st=null),null!==ot&&bt(ot)&&(ot=null),null!==lt&&bt(lt)&&(lt=null),ct.forEach(vt),dt.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yt)))}function xt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ot&&wt(ot,e),null!==lt&&wt(lt,e),ct.forEach(t),dt.forEach(t),n=0;n<ut.length;n++)(r=ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ut.length&&null===(n=ut[0]).blockedOn;)gt(n),null===n.blockedOn&&ut.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var At={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Et={},kt={};function Ct(e){if(Et[e])return Et[e];if(!At[e])return e;var t,n=At[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Et[e]=n[t];return e}u&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete At.animationend.animation,delete At.animationiteration.animation,delete At.animationstart.animation),"TransitionEvent"in window||delete At.transitionend.transition);var _t=Ct("animationend"),Tt=Ct("animationiteration"),Pt=Ct("animationstart"),Ot=Ct("transitionend"),Mt=new Map,Rt=new Map,It=["abort","abort",_t,"animationEnd",Tt,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Mt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Dt=8;function Nt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function zt(e,t){var n=e.pendingLanes;if(0===n)return Dt=0;var r=0,i=0,a=e.expiredLanes,s=e.suspendedLanes,o=e.pingedLanes;if(0!==a)r=a,i=Dt=15;else if(0!==(a=134217727&n)){var l=a&~s;0!==l?(r=Nt(l),i=Dt):0!==(o&=a)&&(r=Nt(o),i=Dt)}else 0!==(a=n&~s)?(r=Nt(a),i=Dt):0!==o&&(r=Nt(o),i=Dt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Nt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?jt(10,t):e;case 10:return 0===(e=Bt(192&~t))?jt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Bt(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $t(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/Vt|0)|0},Ut=Math.log,Vt=Math.LN2;var qt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Xt=!0;function Yt(e,t,n,r){Ne||Le();var i=Qt,a=Ne;Ne=!0;try{Ie(i,e,t,n,r)}finally{(Ne=a)||Fe()}}function Kt(e,t,n,r){Gt(qt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ot=mt(ot,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,mt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dt.set(a,mt(dt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Lr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var a=Ye(i);if(null===a)i=null;else{var s=a.tag;if(13===s){if(null!==(i=Ke(a)))return i;i=null}else if(3===s){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function on(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var ln,cn,dn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=on(un),fn=i({},un,{view:0,detail:0}),pn=on(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(ln=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=ln=0,dn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=on(mn),bn=on(i({},mn,{dataTransfer:0})),vn=on(i({},fn,{relatedTarget:0})),yn=on(i({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(wn),Sn=on(i({},un,{data:0})),An={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function _n(){return Cn}var Tn=i({},fn,{key:function(e){if(e.key){var t=An[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Tn),On=on(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Rn=on(i({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(In),Dn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,zn=null;u&&"documentMode"in document&&(zn=document.documentMode);var Fn=u&&"TextEvent"in window&&!zn,jn=u&&(!Nn||zn&&8<zn&&11>=zn),Bn=String.fromCharCode(32),Hn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Nr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Yn=null;function Kn(e){Tr(e,0)}function Qn(e){if(Q(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(u){var er;if(u){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Xn&&(Xn.detachEvent("onpropertychange",ir),Yn=Xn=null)}function ir(e){if("value"===e.propertyName&&Qn(Yn)){var t=[];if(Gn(t,Yn,e,ke(e)),e=Kn,Ne)e(t);else{Ne=!0;try{Re(e,t)}finally{Ne=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(rr(),Yn=n,(Xn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Yn)}function or(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function ur(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,wr=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&ur(wr,r)||(wr=r,0<(r=Nr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(It,2);for(var Ar="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ar.length;Er++)Rt.set(Ar[Er],0);d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function _r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Xe.apply(this,arguments),We){if(!We)throw Error(s(198));var d=Ue;We=!1,Ue=null,Ve||(Ve=!0,qe=d)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;_r(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;_r(i,o,c),a=l}}}if(Ve)throw e=qe,Ve=!1,qe=null,e}function Pr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Or]||(e[Or]=!0,o.forEach((function(t){Cr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var s=ai(a),o=e+"__"+(t?"capture":"bubble");s.has(o)||(t&&(i|=4),Ir(a,e,i,t),s.add(o))}function Ir(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Kt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=ti(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}!function(e,t,n){if(ze)return e(t,n);ze=!0;try{return De(e,t,n)}finally{ze=!1,Fe()}}((function(){var r=a,i=ke(n),s=[];e:{var o=Mt.get(e);if(void 0!==o){var l=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case _t:case Tt:case Pt:l=yn;break;case Ot:l=Rn;break;case"scroll":l=pn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=je(p,h))&&d.push(Dr(p,m,f)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(u=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:ri(l),f=null==c?o:ri(c),(o=new d(m,p+"leave",l,n,i)).target=u,o.relatedTarget=f,m=null,ti(i)===r&&((d=new d(h,p+"enter",c,n,i)).target=f,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,p=0,f=d=l;f;f=zr(f))p++;for(f=0,m=h;m;m=zr(m))f++;for(;0<p-f;)d=zr(d),p--;for(;0<f-p;)h=zr(h),f--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=zr(d),h=zr(h)}d=null}else d=null;null!==l&&Fr(s,o,l,d,!1),null!==c&&null!==u&&Fr(s,u,c,d,!0)}if("select"===(l=(o=r?ri(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(qn(o))if(Zn)g=lr;else{g=sr;var b=ar}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(s,g,n,i):(b&&b(e,o,r),"focusout"===e&&(b=o._wrapperState)&&b.controlled&&"number"===o.type&&ie(o,"number",o.value)),b=r?ri(r):window,e){case"focusin":(qn(b)||"true"===b.contentEditable)&&(vr=b,yr=r,wr=null);break;case"focusout":wr=yr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(s,n,i);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Sr(s,n,i)}var v;if(Nn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?$n(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Un=!0)),0<(b=Nr(r,y)).length&&(y=new Sn(y,e,null,n,i),s.push({event:y,listeners:b}),v?y.data=v:null!==(v=Wn(n))&&(y.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Nn&&$n(e,t)?(e=nn(),tn=en=Zt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Nr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Tr(s,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Dr(e,a,i)),null!=(a=je(e,t))&&r.push(Dr(e,a,i))),e=e.return}return r}function zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=je(n,a))&&s.unshift(Dr(n,l,o)):i||null!=(l=je(n,a))&&s.push(Dr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function jr(){}var Br=null,Hr=null;function $r(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ur="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Kr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Kr,Jr="__reactProps$"+Kr,Zr="__reactContainer$"+Kr,ei="__reactEvents$"+Kr;function ti(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Qr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Qr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],oi=-1;function li(e){return{current:e}}function ci(e){0>oi||(e.current=si[oi],si[oi]=null,oi--)}function di(e,t){oi++,si[oi]=e.current,e.current=t}var ui={},hi=li(ui),fi=li(!1),pi=ui;function mi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bi(){ci(fi),ci(hi)}function vi(e,t,n){if(hi.current!==ui)throw Error(s(168));di(hi,t),di(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(s(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,pi=hi.current,di(hi,e),di(fi,fi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=yi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(fi),ci(hi),di(hi,e)):ci(fi),di(fi,n)}var Si=null,Ai=null,Ei=a.unstable_runWithPriority,ki=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,_i=a.unstable_shouldYield,Ti=a.unstable_requestPaint,Pi=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Mi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Di=a.unstable_IdlePriority,Ni={},zi=void 0!==Ti?Ti:function(){},Fi=null,ji=null,Bi=!1,Hi=Pi(),$i=1e4>Hi?Pi:function(){return Pi()-Hi};function Wi(){switch(Oi()){case Mi:return 99;case Ri:return 98;case Ii:return 97;case Li:return 96;case Di:return 95;default:throw Error(s(332))}}function Ui(e){switch(e){case 99:return Mi;case 98:return Ri;case 97:return Ii;case 96:return Li;case 95:return Di;default:throw Error(s(332))}}function Vi(e,t){return e=Ui(e),Ei(e,t)}function qi(e,t,n){return e=Ui(e),ki(e,t,n)}function Gi(){if(null!==ji){var e=ji;ji=null,Ci(e)}Xi()}function Xi(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),ki(Mi,Gi),n}finally{Bi=!1}}}var Yi=x.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=li(null),Ji=null,Zi=null,ea=null;function ta(){ea=Zi=Ji=null}function na(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ds=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(s(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var sa=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;sa=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var c=l,d=c.next;c.next=null,null===o?s=d:o.next=d,o=c;var u=e.alternate;if(null!==u){var h=(u=u.updateQueue).lastBaseUpdate;h!==o&&(null===h?u.firstBaseUpdate=d:h.next=d,u.lastBaseUpdate=c)}}if(null!==s){for(h=a.baseState,o=0,u=d=c=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,h,l):p)||void 0===l)break e;h=i({},h,l);break e;case 2:sa=!0}}null!==s.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(d=u=f,c=h):u=u.next=f,o|=l;if(null===(s=s.next)){if(null===(l=a.shared.pending))break;s=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===u&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,Ho|=o,e.lanes=o,e.memoizedState=h}}function fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var pa=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hl(),i=fl(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hl(),i=fl(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hl(),r=fl(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),da(e,i),pl(e,r,n)}};function ba(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function va(e,t,n){var r=!1,i=ui,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=gi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=gi(t)?pi:hi.current,i.context=mi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Aa(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Sa(e,t,n),r.return=e,r):((r=Gl(n.type,n.key,n.props,null,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Xl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Kl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Gl(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case A:return(t=Ql(t,e.mode,n)).return=e,t}if(xa(t)||$(t))return(t=Xl(t,e.mode,n,null)).return=e,t;Aa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===E?u(e,t,n.props.children,r,i):c(e,t,n,r):null;case A:return n.key===i?d(e,t,n,r):null}if(xa(n)||$(n))return null!==i?null:u(e,t,n,r,null);Aa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===E?u(t,e,r.props.children,i,r.key):c(t,e,r,i);case A:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||$(r))return u(t,e=e.get(n)||null,r,i,null);Aa(t,r)}return null}function m(i,s,o,l){for(var c=null,d=null,u=s,m=s=0,g=null;null!==u&&m<o.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var b=f(i,u,o[m],l);if(null===b){null===u&&(u=g);break}e&&u&&null===b.alternate&&t(i,u),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,u=g}if(m===o.length)return n(i,u),c;if(null===u){for(;m<o.length;m++)null!==(u=h(i,o[m],l))&&(s=a(u,s,m),null===d?c=u:d.sibling=u,d=u);return c}for(u=r(i,u);m<o.length;m++)null!==(g=p(u,i,m,o[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),s=a(g,s,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(i,e)})),c}function g(i,o,l,c){var d=$(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,m=o,g=o=0,b=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var y=f(i,m,v.value,c);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(i,m),o=a(y,o,g),null===u?d=y:u.sibling=y,u=y,m=b}if(v.done)return n(i,m),d;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===u?d=v:u.sibling=v,u=v);return d}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===u?d=v:u.sibling=v,u=v);return e&&m.forEach((function(e){return t(i,e)})),d}return function(e,r,a,l){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var d="object"===typeof a&&null!==a;if(d)switch(a.$$typeof){case S:e:{for(d=a.key,c=r;null!==c;){if(c.key===d){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Sa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Xl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Gl(a.type,a.key,a.props,null,e.mode,l)).ref=Sa(e,r,a),l.return=e,e=l)}return o(e);case A:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(a,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Kl(a,e.mode,l)).return=e,e=r),o(e);if(xa(a))return m(e,r,a,l);if($(a))return g(e,r,a,l);if(d&&Aa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,G(e.type)||"Component"))}return n(e,r)}}var ka=Ea(!0),Ca=Ea(!1),_a={},Ta=li(_a),Pa=li(_a),Oa=li(_a);function Ma(e){if(e===_a)throw Error(s(174));return e}function Ra(e,t){switch(di(Oa,t),di(Pa,e),di(Ta,_a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Ta),di(Ta,t)}function Ia(){ci(Ta),ci(Pa),ci(Oa)}function La(e){Ma(Oa.current);var t=Ma(Ta.current),n=fe(t,e.type);t!==n&&(di(Pa,e),di(Ta,n))}function Da(e){Pa.current===e&&(ci(Ta),ci(Pa))}var Na=li(0);function za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,ja=null,Ba=!1;function Ha(e,t){var n=Ul(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $a(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=ja;if(t){var n=t;if(!$a(e,t)){if(!(t=Gr(n.nextSibling))||!$a(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Fa=e);Ha(Fa,n)}Fa=e,ja=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Fa=e}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Va(e){if(e!==Fa)return!1;if(!Ba)return Ua(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=ja;t;)Ha(e,t),t=Gr(t.nextSibling);if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Fa?Gr(e.stateNode.nextSibling):null;return!0}function qa(){ja=Fa=null,Ba=!1}var Ga=[];function Xa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ya=x.ReactCurrentDispatcher,Ka=x.ReactCurrentBatchConfig,Qa=0,Ja=null,Za=null,es=null,ts=!1,ns=!1;function rs(){throw Error(s(321))}function is(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function as(e,t,n,r,i,a){if(Qa=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ms:Rs,e=n(r,i),ns){a=0;do{if(ns=!1,!(25>a))throw Error(s(301));a+=1,es=Za=null,t.updateQueue=null,Ya.current=Is,e=n(r,i)}while(ns)}if(Ya.current=Os,t=null!==Za&&null!==Za.next,Qa=0,es=Za=Ja=null,ts=!1,t)throw Error(s(300));return e}function ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===es?Ja.memoizedState=es=e:es=es.next=e,es}function os(){if(null===Za){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===es?Ja.memoizedState:es.next;if(null!==t)es=t,Za=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===es?Ja.memoizedState=es=e:es=es.next=e}return es}function ls(e,t){return"function"===typeof t?t(e):t}function cs(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=o=a=null,c=i;do{var d=c.lane;if((Qa&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var u={lane:d,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(o=l=u,a=r):l=l.next=u,Ja.lanes|=d,Ho|=d}c=c.next}while(null!==c&&c!==i);null===l?a=r:l.next=o,cr(r,t.memoizedState)||(Ds=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ds(e){var t=os(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);cr(a,t.memoizedState)||(Ds=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function us(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qa&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(s(350))}function hs(e,t,n,r){var i=Io;if(null===i)throw Error(s(349));var a=t._getVersion,o=a(t._source),l=Ya.current,c=l.useState((function(){return us(i,t,n)})),d=c[1],u=c[0];c=es;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=Ja;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=d;var e=a(t._source);if(!cr(o,e)){e=n(t._source),cr(u,e)||(d(e),e=fl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Wt(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:u}).dispatch=d=Ps.bind(null,Ja,e),c.queue=e,c.baseQueue=null,u=us(i,t,n),c.memoizedState=c.baseState=u),u}function fs(e,t,n){return hs(os(),e,t,n)}function ps(e){var t=ss();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e}).dispatch=Ps.bind(null,Ja,e),[t.memoizedState,e]}function ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function gs(e){return e={current:e},ss().memoizedState=e}function bs(){return os().memoizedState}function vs(e,t,n,r){var i=ss();Ja.flags|=e,i.memoizedState=ms(1|t,n,void 0,void 0===r?null:r)}function ys(e,t,n,r){var i=os();r=void 0===r?null:r;var a=void 0;if(null!==Za){var s=Za.memoizedState;if(a=s.destroy,null!==r&&is(r,s.deps))return void ms(t,n,a,r)}Ja.flags|=e,i.memoizedState=ms(1|t,n,a,r)}function ws(e,t){return vs(516,4,e,t)}function xs(e,t){return ys(516,4,e,t)}function Ss(e,t){return ys(4,2,e,t)}function As(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Es(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ys(4,2,As.bind(null,t,e),n)}function ks(){}function Cs(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&is(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _s(e,t){var n=os();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&is(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ts(e,t){var n=Wi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ka.transition;Ka.transition=1;try{e(!1),t()}finally{Ka.transition=n}}))}function Ps(e,t,n){var r=hl(),i=fl(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?a.next=a:(a.next=s.next,s.next=a),t.pending=a,s=e.alternate,e===Ja||null!==s&&s===Ja)ns=ts=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=s(o,n);if(a.eagerReducer=s,a.eagerState=l,cr(l,o))return}catch(c){}pl(e,i,r)}}var Os={readContext:aa,useCallback:rs,useContext:rs,useEffect:rs,useImperativeHandle:rs,useLayoutEffect:rs,useMemo:rs,useReducer:rs,useRef:rs,useState:rs,useDebugValue:rs,useDeferredValue:rs,useTransition:rs,useMutableSource:rs,useOpaqueIdentifier:rs,unstable_isNewReconciler:!1},Ms={readContext:aa,useCallback:function(e,t){return ss().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,vs(4,2,As.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vs(4,2,e,t)},useMemo:function(e,t){var n=ss();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ss();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ps.bind(null,Ja,e),[r.memoizedState,e]},useRef:gs,useState:ps,useDebugValue:ks,useDeferredValue:function(e){var t=ps(e),n=t[0],r=t[1];return ws((function(){var t=Ka.transition;Ka.transition=1;try{r(e)}finally{Ka.transition=t}}),[e]),n},useTransition:function(){var e=ps(!1),t=e[0];return gs(e=Ts.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ss();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},hs(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(s(355))})),n=ps(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,ms(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ps(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Rs={readContext:aa,useCallback:Cs,useContext:aa,useEffect:xs,useImperativeHandle:Es,useLayoutEffect:Ss,useMemo:_s,useReducer:cs,useRef:bs,useState:function(){return cs(ls)},useDebugValue:ks,useDeferredValue:function(e){var t=cs(ls),n=t[0],r=t[1];return xs((function(){var t=Ka.transition;Ka.transition=1;try{r(e)}finally{Ka.transition=t}}),[e]),n},useTransition:function(){var e=cs(ls)[0];return[bs().current,e]},useMutableSource:fs,useOpaqueIdentifier:function(){return cs(ls)[0]},unstable_isNewReconciler:!1},Is={readContext:aa,useCallback:Cs,useContext:aa,useEffect:xs,useImperativeHandle:Es,useLayoutEffect:Ss,useMemo:_s,useReducer:ds,useRef:bs,useState:function(){return ds(ls)},useDebugValue:ks,useDeferredValue:function(e){var t=ds(ls),n=t[0],r=t[1];return xs((function(){var t=Ka.transition;Ka.transition=1;try{r(e)}finally{Ka.transition=t}}),[e]),n},useTransition:function(){var e=ds(ls)[0];return[bs().current,e]},useMutableSource:fs,useOpaqueIdentifier:function(){return ds(ls)[0]},unstable_isNewReconciler:!1},Ls=x.ReactCurrentOwner,Ds=!1;function Ns(e,t,n,r){t.child=null===e?Ca(t,null,n,r):ka(t,e.child,n,r)}function zs(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=as(e,t,n,r,a,i),null===e||Ds?(t.flags|=1,Ns(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,io(e,t,i))}function Fs(e,t,n,r,i,a){if(null===e){var s=n.type;return"function"!==typeof s||Vl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,js(e,t,s,r,i,a))}return s=e.child,0===(i&a)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?io(e,t,a):(t.flags|=1,(e=ql(s,r)).ref=t.ref,e.return=t,t.child=e)}function js(e,t,n,r,i,a){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ds=!1,0===(a&i))return t.lanes=e.lanes,io(e,t,a);0!==(16384&e.flags)&&(Ds=!0)}return $s(e,t,n,r,a)}function Bs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Sl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sl(t,e),null;t.memoizedState={baseLanes:0},Sl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Sl(t,r);return Ns(e,t,i,n),t.child}function Hs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $s(e,t,n,r,i){var a=gi(n)?pi:hi.current;return a=mi(t,a),ia(t,i),n=as(e,t,n,r,a,i),null===e||Ds?(t.flags|=1,Ns(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,io(e,t,i))}function Ws(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=mi(t,c=gi(n)?pi:hi.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&ya(t,s,r,c),sa=!1;var h=t.memoizedState;s.state=h,ha(t,r,s,i),l=t.memoizedState,o!==r||h!==l||fi.current||sa?("function"===typeof d&&(ma(t,n,d,r),l=t.memoizedState),(o=sa||ba(t,n,o,r,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,la(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ki(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=aa(l):l=mi(t,l=gi(n)?pi:hi.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||h!==l)&&ya(t,s,r,l),sa=!1,h=t.memoizedState,s.state=h,ha(t,r,s,i);var p=t.memoizedState;o!==u||h!==p||fi.current||sa?("function"===typeof f&&(ma(t,n,f,r),p=t.memoizedState),(c=sa||ba(t,n,c,r,h,p,l))?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Us(e,t,n,r,a,i)}function Us(e,t,n,r,i,a){Hs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&xi(t,n,!1),io(e,t,a);r=t.stateNode,Ls.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,o,a)):Ns(e,t,o,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Vs(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ra(e,t.containerInfo)}var qs,Gs,Xs,Ys,Ks={dehydrated:null,retryLane:0};function Qs(e,t,n){var r,i=t.pendingProps,a=Na.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),di(Na,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,s?(e=Js(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ks,e):"number"===typeof i.unstable_expectedLoadTime?(e=Js(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ks,t.lanes=33554432,e):((n=Yl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=eo(e,t,i.children,i.fallback,n),s=t.child,a=e.child.memoizedState,s.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ks,i):(n=Zs(e,t,i.children,n),t.memoizedState=null,n))}function Js(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yl(t,i,0,null),n=Xl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Zs(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function eo(e,t,n,r,i){var a=t.mode,s=e.child;e=s.sibling;var o={mode:"hidden",children:n};return 0===(2&a)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=o,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(s,o),null!==e?r=ql(e,r):(r=Xl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function to(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function no(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=a)}function ro(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ns(e,t,r.children,n),0!==(2&(r=Na.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&to(e,n);else if(19===e.tag)to(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Na,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),no(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}no(t,!0,n,null,a,t.lastEffect);break;case"together":no(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function io(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ho|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ao(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function so(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&bi(),null;case 3:return Ia(),ci(fi),ci(hi),Xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Gs(t),null;case 5:Da(t);var a=Ma(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Xs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ma(Ta.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Qr]=t,r[Jr]=o,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Pr(kr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,o),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pr("invalid",r);break;case"textarea":le(r,o),Pr("invalid",r)}for(var c in Ae(n,o),e=null,o)o.hasOwnProperty(c)&&(a=o[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Pr("scroll",r));switch(n){case"input":K(r),re(r,o,!0);break;case"textarea":K(r),de(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===ue.html&&(e=he(n)),e===ue.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Jr]=r,qs(e,t,!1,!1),t.stateNode=e,c=Ee(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),a=r;break;case"iframe":case"object":case"embed":Pr("load",e),a=r;break;case"video":case"audio":for(a=0;a<kr.length;a++)Pr(kr[a],e);a=r;break;case"source":Pr("error",e),a=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),a=r;break;case"details":Pr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Pr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":le(e,r),a=oe(e,r),Pr("invalid",e);break;default:a=r}Ae(n,a);var d=a;for(o in d)if(d.hasOwnProperty(o)){var u=d[o];"style"===o?xe(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ge(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&be(e,u):"number"===typeof u&&be(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Pr("scroll",e):null!=u&&w(e,o,u,c))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),de(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?se(e,!!r.multiple,o,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}$r(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Ma(Oa.current),Ma(Ta.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ci(Na),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Na.current)?0===Fo&&(Fo=3):(0!==Fo&&3!==Fo||(Fo=4),null===Io||0===(134217727&Ho)&&0===(134217727&$o)||vl(Io,Do))),(r||n)&&(t.flags|=4),null);case 4:return Ia(),Gs(t),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(Na),null===(r=t.memoizedState))return null;if(o=0!==(64&t.flags),null===(c=r.rendering))if(o)ao(r,!1);else{if(0!==Fo||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=za(e))){for(t.flags|=64,ao(r,!1),null!==(o=c.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Na,1&Na.current|2),t.child}e=e.sibling}null!==r.tail&&$i()>qo&&(t.flags|=64,o=!0,ao(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=za(c))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ao(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*$i()-r.renderingStartTime>qo&&1073741824!==n&&(t.flags|=64,o=!0,ao(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=$i(),n.sibling=null,t=Na.current,di(Na,o?1&t|2:1&t),n):null;case 23:case 24:return Al(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function oo(e){switch(e.tag){case 1:gi(e.type)&&bi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ia(),ci(fi),ci(hi),Xa(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Da(e),null;case 13:return ci(Na),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Na),null;case 4:return Ia(),null;case 10:return na(e),null;case 23:case 24:return Al(),null;default:return null}}function lo(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}qs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Xs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ma(Ta.current);var s,o=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),o=[];break;case"option":a=ae(e,a),r=ae(e,r),o=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),o=[];break;case"textarea":a=oe(e,a),r=oe(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(u in Ae(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var c=a[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var d=r[u];if(c=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&d!==c&&(null!=d||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(o||(o=[]),o.push(u,n)),n=d;else"dangerouslySetInnerHTML"===u?(d=d?d.__html:void 0,c=c?c.__html:void 0,null!=d&&c!==d&&(o=o||[]).push(u,d)):"children"===u?"string"!==typeof d&&"number"!==typeof d||(o=o||[]).push(u,""+d):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=d&&"onScroll"===u&&Pr("scroll",e),o||c===d||(o=[])):"object"===typeof d&&null!==d&&d.$$typeof===D?d.toString():(o=o||[]).push(u,d))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ys=function(e,t,n,r){n!==r&&(t.flags|=4)};var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ko||(Ko=!0,Qo=r),co(0,t)},n}function fo(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return co(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Jo?Jo=new Set([this]):Jo.add(this),co(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var po="function"===typeof WeakSet?WeakSet:Set;function mo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bl(e,n)}else t.current=null}function go(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(s(163))}function bo(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(zl(n,e),Nl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&$r(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(s(163))}function vo(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yo(e,t){if(Ai&&"function"===typeof Ai.onCommitFiberUnmount)try{Ai.onCommitFiberUnmount(Si,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))zl(t,n);else{r=t;try{i()}catch(a){Bl(r,a)}}n=n.next}while(n!==e)}break;case 1:if(mo(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Bl(t,a)}break;case 5:mo(t);break;case 4:ko(e,t)}}function wo(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xo(e){return 5===e.tag||3===e.tag||4===e.tag}function So(e){e:{for(var t=e.return;null!==t;){if(xo(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ao(e,n,t):Eo(e,n,t)}function Ao(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Ao(e,t,n),e=e.sibling;null!==e;)Ao(e,t,n),e=e.sibling}function Eo(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eo(e,t,n),e=e.sibling;null!==e;)Eo(e,t,n),e=e.sibling}function ko(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(s(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var o=e,l=i,c=l;;)if(yo(o,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(o=n,l=i.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(yo(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Co(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var o=a[i],l=a[i+1];"style"===o?xe(n,l):"dangerouslySetInnerHTML"===o?ge(n,l):"children"===o?be(n,l):w(n,o,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?se(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Vo=$i(),vo(t.child,!0)),void _o(t);case 19:return void _o(t);case 23:case 24:return void vo(t,null!==t.memoizedState)}throw Error(s(163))}function _o(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new po),t.forEach((function(t){var r=$l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function To(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Po=Math.ceil,Oo=x.ReactCurrentDispatcher,Mo=x.ReactCurrentOwner,Ro=0,Io=null,Lo=null,Do=0,No=0,zo=li(0),Fo=0,jo=null,Bo=0,Ho=0,$o=0,Wo=0,Uo=null,Vo=0,qo=1/0;function Go(){qo=$i()+500}var Xo,Yo=null,Ko=!1,Qo=null,Jo=null,Zo=!1,el=null,tl=90,nl=[],rl=[],il=null,al=0,sl=null,ol=-1,ll=0,cl=0,dl=null,ul=!1;function hl(){return 0!==(48&Ro)?$i():-1!==ol?ol:ol=$i()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ll&&(ll=Bo),0!==Yi.transition){0!==cl&&(cl=null!==Uo?Uo.pendingLanes:0),e=ll;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ro)&&98===e?e=jt(12,ll):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<al)throw al=0,sl=null,Error(s(185));if(null===(e=ml(e,t)))return null;$t(e,t,n),e===Io&&($o|=t,4===Fo&&vl(e,Do));var r=Wi();1===t?0!==(8&Ro)&&0===(48&Ro)?yl(e):(gl(e,n),0===Ro&&(Go(),Gi())):(0===(4&Ro)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),gl(e,n)),Uo=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Wt(o),c=1<<l,d=a[l];if(-1===d){if(0===(c&r)||0!==(c&i)){d=t,Nt(c);var u=Dt;a[l]=10<=u?d+250:6<=u?d+5e3:-1}}else d<=t&&(e.expiredLanes|=c);o&=~c}if(r=zt(e,e===Io?Do:0),t=Dt,0===r)null!==n&&(n!==Ni&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Ci(n)}15===t?(n=yl.bind(null,e),null===Fi?(Fi=[n],ji=ki(Mi,Xi)):Fi.push(n),n=Ni):14===t?n=qi(99,yl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=qi(n,bl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function bl(e){if(ol=-1,cl=ll=0,0!==(48&Ro))throw Error(s(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=zt(e,e===Io?Do:0);if(0===n)return null;var r=n,i=Ro;Ro|=16;var a=Cl();for(Io===e&&Do===r||(Go(),El(e,r));;)try{Pl();break}catch(l){kl(e,l)}if(ta(),Oo.current=a,Ro=i,null!==Lo?r=0:(Io=null,Do=0,r=Fo),0!==(Bo&$o))El(e,0);else if(0!==r){if(2===r&&(Ro|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=_l(e,n))),1===r)throw t=jo,El(e,0),vl(e,n),gl(e,$i()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Rl(e);break;case 3:if(vl(e,n),(62914560&n)===n&&10<(r=Vo+500-$i())){if(0!==zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ur(Rl.bind(null,e),r);break}Rl(e);break;case 4:if(vl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Wt(n);a=1<<o,(o=r[o])>i&&(i=o),n&=~a}if(n=i,10<(n=(120>(n=$i()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Po(n/1960))-n)){e.timeoutHandle=Ur(Rl.bind(null,e),n);break}Rl(e);break;default:throw Error(s(329))}}return gl(e,$i()),e.callbackNode===t?bl.bind(null,e):null}function vl(e,t){for(t&=~Wo,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function yl(e){if(0!==(48&Ro))throw Error(s(327));if(Dl(),e===Io&&0!==(e.expiredLanes&Do)){var t=Do,n=_l(e,t);0!==(Bo&$o)&&(n=_l(e,t=zt(e,t)))}else n=_l(e,t=zt(e,0));if(0!==e.tag&&2===n&&(Ro|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=_l(e,t))),1===n)throw n=jo,El(e,0),vl(e,t),gl(e,$i()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e),gl(e,$i()),null}function wl(e,t){var n=Ro;Ro|=1;try{return e(t)}finally{0===(Ro=n)&&(Go(),Gi())}}function xl(e,t){var n=Ro;Ro&=-2,Ro|=8;try{return e(t)}finally{0===(Ro=n)&&(Go(),Gi())}}function Sl(e,t){di(zo,No),No|=t,Bo|=t}function Al(){No=zo.current,ci(zo)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Lo)for(n=Lo.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&bi();break;case 3:Ia(),ci(fi),ci(hi),Xa();break;case 5:Da(r);break;case 4:Ia();break;case 13:case 19:ci(Na);break;case 10:na(r);break;case 23:case 24:Al()}n=n.return}Io=e,Lo=ql(e.current,null),Do=No=Bo=t,Fo=0,jo=null,Wo=$o=Ho=0}function kl(e,t){for(;;){var n=Lo;try{if(ta(),Ya.current=Os,ts){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ts=!1}if(Qa=0,es=Za=Ja=null,ns=!1,Mo.current=null,null===n||null===n.return){Fo=1,jo=t,Lo=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Do,o.flags|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&o.mode)){var d=o.alternate;d?(o.updateQueue=d.updateQueue,o.memoizedState=d.memoizedState,o.lanes=d.lanes):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Na.current),h=s;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!u)}}if(f){var g=h.updateQueue;if(null===g){var b=new Set;b.add(c),h.updateQueue=b}else g.add(c);if(0===(2&h.mode)){if(h.flags|=64,o.flags|=16384,o.flags&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=ca(-1,1);v.tag=2,da(o,v)}o.lanes|=1;break e}l=void 0,o=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new uo,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(o)){l.add(o);var w=Hl.bind(null,a,c,o);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((G(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fo&&(Fo=2),l=lo(l,o),h=s;do{switch(h.tag){case 3:a=l,h.flags|=4096,t&=-t,h.lanes|=t,ua(h,ho(0,a,t));break e;case 1:a=l;var x=h.type,S=h.stateNode;if(0===(64&h.flags)&&("function"===typeof x.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Jo||!Jo.has(S)))){h.flags|=4096,t&=-t,h.lanes|=t,ua(h,fo(h,a,t));break e}}h=h.return}while(null!==h)}Ml(n)}catch(A){t=A,Lo===n&&null!==n&&(Lo=n=n.return);continue}break}}function Cl(){var e=Oo.current;return Oo.current=Os,null===e?Os:e}function _l(e,t){var n=Ro;Ro|=16;var r=Cl();for(Io===e&&Do===t||El(e,t);;)try{Tl();break}catch(i){kl(e,i)}if(ta(),Ro=n,Oo.current=r,null!==Lo)throw Error(s(261));return Io=null,Do=0,Fo}function Tl(){for(;null!==Lo;)Ol(Lo)}function Pl(){for(;null!==Lo&&!_i();)Ol(Lo)}function Ol(e){var t=Xo(e.alternate,e,No);e.memoizedProps=e.pendingProps,null===t?Ml(e):Lo=t,Mo.current=null}function Ml(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=so(n,t,No)))return void(Lo=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&No)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=oo(t)))return n.flags&=2047,void(Lo=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Lo=t);Lo=t=e}while(null!==t);0===Fo&&(Fo=5)}function Rl(e){var t=Wi();return Vi(99,Il.bind(null,e,t)),null}function Il(e,t){do{Dl()}while(null!==el);if(0!==(48&Ro))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<a;){var c=31-Wt(a),d=1<<c;i[c]=0,o[c]=-1,l[c]=-1,a&=~d}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Io&&(Lo=Io=null,Do=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ro,Ro|=32,Mo.current=null,Br=Xt,gr(o=mr())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(d=l.getSelection&&l.getSelection())&&0!==d.rangeCount){l=d.anchorNode,a=d.anchorOffset,c=d.focusNode,d=d.focusOffset;try{l.nodeType,c.nodeType}catch(C){l=null;break e}var u=0,h=-1,f=-1,p=0,m=0,g=o,b=null;t:for(;;){for(var v;g!==l||0!==a&&3!==g.nodeType||(h=u+a),g!==c||0!==d&&3!==g.nodeType||(f=u+d),3===g.nodeType&&(u+=g.nodeValue.length),null!==(v=g.firstChild);)b=g,g=v;for(;;){if(g===o)break t;if(b===l&&++p===a&&(h=u),b===c&&++m===d&&(f=u),null!==(v=g.nextSibling))break;b=(g=b).parentNode}g=v}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Hr={focusedElem:o,selectionRange:l},Xt=!1,dl=null,ul=!1,Yo=r;do{try{Ll()}catch(C){if(null===Yo)throw Error(s(330));Bl(Yo,C),Yo=Yo.nextEffect}}while(null!==Yo);dl=null,Yo=r;do{try{for(o=e;null!==Yo;){var y=Yo.flags;if(16&y&&be(Yo.stateNode,""),128&y){var w=Yo.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&y){case 2:So(Yo),Yo.flags&=-3;break;case 6:So(Yo),Yo.flags&=-3,Co(Yo.alternate,Yo);break;case 1024:Yo.flags&=-1025;break;case 1028:Yo.flags&=-1025,Co(Yo.alternate,Yo);break;case 4:Co(Yo.alternate,Yo);break;case 8:ko(o,l=Yo);var S=l.alternate;wo(l),null!==S&&wo(S)}Yo=Yo.nextEffect}}catch(C){if(null===Yo)throw Error(s(330));Bl(Yo,C),Yo=Yo.nextEffect}}while(null!==Yo);if(x=Hr,w=mr(),y=x.focusedElem,o=x.selectionRange,w!==y&&y&&y.ownerDocument&&pr(y.ownerDocument.documentElement,y)){null!==o&&gr(y)&&(w=o.start,void 0===(x=o.end)&&(x=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(x,y.value.length)):(x=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=y.textContent.length,S=Math.min(o.start,l),o=void 0===o.end?S:Math.min(o.end,l),!x.extend&&S>o&&(l=o,o=S,S=l),l=fr(y,S),a=fr(y,o),l&&a&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),S>o?(x.addRange(w),x.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),x.addRange(w))))),w=[];for(x=y;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<w.length;y++)(x=w[y]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Xt=!!Br,Hr=Br=null,e.current=n,Yo=r;do{try{for(y=e;null!==Yo;){var A=Yo.flags;if(36&A&&bo(y,Yo.alternate,Yo),128&A){w=void 0;var E=Yo.ref;if(null!==E){var k=Yo.stateNode;Yo.tag,w=k,"function"===typeof E?E(w):E.current=w}}Yo=Yo.nextEffect}}catch(C){if(null===Yo)throw Error(s(330));Bl(Yo,C),Yo=Yo.nextEffect}}while(null!==Yo);Yo=null,zi(),Ro=i}else e.current=n;if(Zo)Zo=!1,el=e,tl=t;else for(Yo=r;null!==Yo;)t=Yo.nextEffect,Yo.nextEffect=null,8&Yo.flags&&((A=Yo).sibling=null,A.stateNode=null),Yo=t;if(0===(r=e.pendingLanes)&&(Jo=null),1===r?e===sl?al++:(al=0,sl=e):al=0,n=n.stateNode,Ai&&"function"===typeof Ai.onCommitFiberRoot)try{Ai.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(C){}if(gl(e,$i()),Ko)throw Ko=!1,e=Qo,Qo=null,e;return 0!==(8&Ro)||Gi(),null}function Ll(){for(;null!==Yo;){var e=Yo.alternate;ul||null===dl||(0!==(8&Yo.flags)?Ze(Yo,dl)&&(ul=!0):13===Yo.tag&&To(e,Yo)&&Ze(Yo,dl)&&(ul=!0));var t=Yo.flags;0!==(256&t)&&go(e,Yo),0===(512&t)||Zo||(Zo=!0,qi(97,(function(){return Dl(),null}))),Yo=Yo.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Vi(e,Fl)}return!1}function Nl(e,t){nl.push(t,e),Zo||(Zo=!0,qi(97,(function(){return Dl(),null})))}function zl(e,t){rl.push(t,e),Zo||(Zo=!0,qi(97,(function(){return Dl(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ro))throw Error(s(331));var t=Ro;Ro|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"===typeof o)try{o()}catch(c){if(null===a)throw Error(s(330));Bl(a,c)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===a)throw Error(s(330));Bl(a,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ro=t,Gi(),!0}function jl(e,t,n){da(e,t=ho(0,t=lo(n,t),1)),t=hl(),null!==(e=ml(e,1))&&($t(e,1,t),gl(e,t))}function Bl(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jo||!Jo.has(r))){var i=fo(n,e=lo(t,e),1);if(da(n,i),i=hl(),null!==(n=ml(n,1)))$t(n,1,i),gl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Jo||!Jo.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Hl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hl(),e.pingedLanes|=e.suspendedLanes&n,Io===e&&(Do&n)===n&&(4===Fo||3===Fo&&(62914560&Do)===Do&&500>$i()-Vo?El(e,0):Wo|=n),gl(e,t)}function $l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ll&&(ll=Bo),0===(t=Bt(62914560&~ll))&&(t=4194304))),n=hl(),null!==(e=ml(e,t))&&($t(e,t,n),gl(e,n))}function Wl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,n,r){return new Wl(e,t,n,r)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gl(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Vl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Xl(n.children,i,a,t);case N:o=8,i|=16;break;case k:o=8,i|=1;break;case C:return(e=Ul(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=a,e;case O:return(e=Ul(13,n,t,i)).type=O,e.elementType=O,e.lanes=a,e;case M:return(e=Ul(19,n,t,i)).elementType=M,e.lanes=a,e;case z:return Yl(n,i,a,t);case F:return(e=Ul(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case T:o=9;break e;case P:o=11;break e;case R:o=14;break e;case I:o=16,r=null;break e;case L:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ul(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Xl(e,t,n,r){return(e=Ul(7,e,r,t)).lanes=n,e}function Yl(e,t,n,r){return(e=Ul(23,e,r,t)).elementType=z,e.lanes=n,e}function Kl(e,t,n){return(e=Ul(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Zl(e,t,n,r){var i=t.current,a=hl(),o=fl(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=yi(n,c,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),da(i,t),pl(i,o,a),o}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Jl(e,t,null!=n&&!0===n.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oa(t),e[Zr]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a._internalRoot;if("function"===typeof i){var o=i;i=function(){var e=ec(s);o.call(e)}}Zl(t,s,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),s=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=ec(s);l.call(e)}}xl((function(){Zl(t,s,e,i)}))}return ec(s)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Xo=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ds=!0;else{if(0===(n&r)){switch(Ds=!1,t.tag){case 3:Vs(t),qa();break;case 5:La(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qs(e,t,n):(di(Na,1&Na.current),null!==(t=io(e,t,n))?t.sibling:null);di(Na,1&Na.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ro(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Na,Na.current),r)break;return null;case 23:case 24:return t.lanes=0,Bs(e,t,n)}return io(e,t,n)}Ds=0!==(16384&e.flags)}else Ds=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),ia(t,n),i=as(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oa(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&ma(t,r,o,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Us(null,t,r,!0,a,n)}else t.tag=0,Ns(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Vl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===R)return 14}return 2}(i),e=Ki(i,e),a){case 0:t=$s(null,t,i,e,n);break e;case 1:t=Ws(null,t,i,e,n);break e;case 11:t=zs(null,t,i,e,n);break e;case 14:t=Fs(null,t,i,Ki(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$s(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if(Vs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)qa(),t=io(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Gr(t.stateNode.containerInfo.firstChild),Fa=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ns(e,t,r,n),qa();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,Wr(r,i)?o=null:null!==a&&Wr(r,a)&&(t.flags|=16),Hs(e,t),Ns(e,t,o,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Qs(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ka(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;var l=t.type._context;if(di(Qi,l._currentValue),l._currentValue=a,null!==o)if(l=o.value,0===(a=cr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!fi.current){t=io(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){o=l.child;for(var d=c.firstContext;null!==d;){if(d.context===r&&0!==(d.observedBits&a)){1===l.tag&&((d=ca(-1,n&-n)).tag=2,da(l,d)),l.lanes|=n,null!==(d=l.alternate)&&(d.lanes|=n),ra(l.return,n),c.lanes|=n;break}d=d.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Ns(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return a=Ki(i=t.type,t.pendingProps),Fs(e,t,i,a=Ki(i.type,a),r,n);case 15:return js(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,ia(t,n),va(t,r,i),wa(t,r,i,n),Us(null,t,r,!0,e,n);case 19:return ro(e,t,n);case 23:case 24:return Bs(e,t,n)}throw Error(s(156,t.tag))},rc.prototype.render=function(e){Zl(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pl(e,4,hl()),nc(e,4))},tt=function(e){13===e.tag&&(pl(e,67108864,hl()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hl(),n=fl(e);pl(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Re=wl,Ie=function(e,t,n,r,i){var a=Ro;Ro|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ro=a)&&(Go(),Gi())}},Le=function(){0===(49&Ro)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,$i())}))}Gi()}(),Dl())},De=function(e,t){var n=Ro;Ro|=2;try{return e(t)}finally{0===(Ro=n)&&(Go(),Gi())}};var oc={Events:[ni,ri,ii,Oe,Me,Dl,{current:!1}]},lc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Si=dc.inject(cc),Ai=dc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ro;if(0!==(48&n))return e(t);Ro|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Ro=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(s(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(s(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(s(40));return!!e._reactRootContainer&&(xl((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case a:case o:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=o,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||x(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===o||e===s||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===w||e.$$typeof===b)},t.typeOf=x},86:(e,t,n)=>{e.exports=n(82)},153:(e,t,n)=>{n(123);var r=n(43),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t,n)=>{var r=n(123),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,o=60110,l=60112;t.Suspense=60113;var c=60115,d=60116;if("function"===typeof Symbol&&Symbol.for){var u=Symbol.for;i=u("react.element"),a=u("react.portal"),t.Fragment=u("react.fragment"),t.StrictMode=u("react.strict_mode"),t.Profiler=u("react.profiler"),s=u("react.provider"),o=u("react.context"),l=u("react.forward_ref"),t.Suspense=u("react.suspense"),c=u("react.memo"),d=u("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var y=v.prototype=new b;y.constructor=v,r(y,g.prototype),y.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:o,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return s=s(l=e),e=""===r?"."+C(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),_(s,t,n,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(k,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var d=r+C(o=e[c],c);l+=_(o,t,n,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=_(o=o.value,t,n,d=r+C(o,c++),s);else if("object"===o)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function M(){var e=O.current;if(null===e)throw Error(f(321));return e}var R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var a=r({},e.props),s=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)x.call(t,d)&&!S.hasOwnProperty(d)&&(a[d]=void 0===t[d]&&void 0!==c?c[d]:t[d])}var d=arguments.length-2;if(1===d)a.children=n;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];a.children=c}return{$$typeof:i,type:e.type,key:s,ref:o,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,d=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(u,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(u,0))},r=function(e,t){d=setTimeout(e,t)},i=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+v;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(n){throw x.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,x.postMessage(null))},r=function(e,n){b=h((function(){e(t.unstable_now())}),n)},i=function(){f(b),b=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function A(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,s=e[a],o=a+1,l=e[o];if(void 0!==s&&0>k(s,n))void 0!==l&&0>k(l,s)?(e[r]=l,e[o]=n,r=o):(e[r]=s,e[a]=n,r=a);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],_=[],T=1,P=null,O=3,M=!1,R=!1,I=!1;function L(e){for(var t=A(_);null!==t;){if(null===t.callback)E(_);else{if(!(t.startTime<=e))break;E(_),t.sortIndex=t.expirationTime,S(C,t)}t=A(_)}}function D(e){if(I=!1,L(e),!R)if(null!==A(C))R=!0,n(N);else{var t=A(_);null!==t&&r(D,t.startTime-e)}}function N(e,n){R=!1,I&&(I=!1,i()),M=!0;var a=O;try{for(L(n),P=A(C);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=P.callback;if("function"===typeof s){P.callback=null,O=P.priorityLevel;var o=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?P.callback=o:P===A(C)&&E(C),L(n)}else E(C);P=A(C)}if(null!==P)var l=!0;else{var c=A(_);null!==c&&r(D,c.startTime-n),l=!1}return l}finally{P=null,O=a,M=!1}}var z=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||M||(R=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return A(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>o?(e.sortIndex=s,S(_,e),null===A(C)&&e===A(_)&&(I?i():I=!0,r(D,s-o))):(e.sortIndex=l,S(C,e),R||M||(R=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),i=n.t(r,2),a=n(950);var s=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,l=String.fromCharCode,c=Object.assign;function d(e){return e.trim()}function u(e,t,n){return e.replace(t,n)}function h(e,t){return e.indexOf(t)}function f(e,t){return 0|e.charCodeAt(t)}function p(e,t,n){return e.slice(t,n)}function m(e){return e.length}function g(e){return e.length}function b(e,t){return t.push(e),e}var v=1,y=1,w=0,x=0,S=0,A="";function E(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:y,length:s,return:""}}function k(e,t){return c(E("",null,null,"",null,null,0),e,{length:-e.length},t)}function C(){return S=x>0?f(A,--x):0,y--,10===S&&(y=1,v--),S}function _(){return S=x<w?f(A,x++):0,y++,10===S&&(y=1,v++),S}function T(){return f(A,x)}function P(){return x}function O(e,t){return p(A,e,t)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return v=y=1,w=m(A=e),x=0,[]}function I(e){return A="",e}function L(e){return d(O(x-1,z(91===e?e+2:40===e?e+1:e)))}function D(e){for(;(S=T())&&S<33;)_();return M(e)>2||M(S)>3?"":" "}function N(e,t){for(;--t&&_()&&!(S<48||S>102||S>57&&S<65||S>70&&S<97););return O(e,P()+(t<6&&32==T()&&32==_()))}function z(e){for(;_();)switch(S){case e:return x;case 34:case 39:34!==e&&39!==e&&z(S);break;case 40:41===e&&z(e);break;case 92:_()}return x}function F(e,t){for(;_()&&e+S!==57&&(e+S!==84||47!==T()););return"/*"+O(t,x-1)+"*"+l(47===e?e:_())}function j(e){for(;!M(T());)_();return O(e,x)}var B="-ms-",H="-moz-",$="-webkit-",W="comm",U="rule",V="decl",q="@keyframes";function G(e,t){for(var n="",r=g(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function X(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case V:return e.return=e.return||e.value;case W:return"";case q:return e.return=e.value+"{"+G(e.children,r)+"}";case U:e.value=e.props.join(",")}return m(n=G(e.children,r))?e.return=e.value+"{"+n+"}":""}function Y(e){return I(K("",null,null,null,[""],e=R(e),0,[0],e))}function K(e,t,n,r,i,a,s,o,c){for(var d=0,p=0,g=s,v=0,y=0,w=0,x=1,S=1,A=1,E=0,k="",O=i,M=a,R=r,I=k;S;)switch(w=E,E=_()){case 40:if(108!=w&&58==f(I,g-1)){-1!=h(I+=u(L(E),"&","&\f"),"&\f")&&(A=-1);break}case 34:case 39:case 91:I+=L(E);break;case 9:case 10:case 13:case 32:I+=D(w);break;case 92:I+=N(P()-1,7);continue;case 47:switch(T()){case 42:case 47:b(J(F(_(),P()),t,n),c);break;default:I+="/"}break;case 123*x:o[d++]=m(I)*A;case 125*x:case 59:case 0:switch(E){case 0:case 125:S=0;case 59+p:-1==A&&(I=u(I,/\f/g,"")),y>0&&m(I)-g&&b(y>32?Z(I+";",r,n,g-1):Z(u(I," ","")+";",r,n,g-2),c);break;case 59:I+=";";default:if(b(R=Q(I,t,n,d,p,i,o,k,O=[],M=[],g),a),123===E)if(0===p)K(I,t,R,R,O,a,g,o,M);else switch(99===v&&110===f(I,3)?100:v){case 100:case 108:case 109:case 115:K(e,R,R,r&&b(Q(e,R,R,0,0,i,o,k,i,O=[],g),M),i,M,g,o,r?O:M);break;default:K(I,R,R,R,[""],M,0,o,M)}}d=p=y=0,x=A=1,k=I="",g=s;break;case 58:g=1+m(I),y=w;default:if(x<1)if(123==E)--x;else if(125==E&&0==x++&&125==C())continue;switch(I+=l(E),E*x){case 38:A=p>0?1:(I+="\f",-1);break;case 44:o[d++]=(m(I)-1)*A,A=1;break;case 64:45===T()&&(I+=L(_())),v=T(),p=g=m(k=I+=j(P())),E++;break;case 45:45===w&&2==m(I)&&(x=0)}}return a}function Q(e,t,n,r,i,a,s,l,c,h,f){for(var m=i-1,b=0===i?a:[""],v=g(b),y=0,w=0,x=0;y<r;++y)for(var S=0,A=p(e,m+1,m=o(w=s[y])),k=e;S<v;++S)(k=d(w>0?b[S]+" "+A:u(A,/&\f/g,b[S])))&&(c[x++]=k);return E(e,t,n,0===i?U:l,c,h,f)}function J(e,t,n){return E(e,t,n,W,l(S),p(e,2,-2),0)}function Z(e,t,n,r){return E(e,t,n,V,p(e,0,r),p(e,r+1,-1),r)}var ee=function(e,t,n){for(var r=0,i=0;r=i,i=T(),38===r&&12===i&&(t[n]=1),!M(i);)_();return O(e,x)},te=function(e,t){return I(function(e,t){var n=-1,r=44;do{switch(M(r)){case 0:38===r&&12===T()&&(t[n]=1),e[n]+=ee(x-1,t,n);break;case 2:e[n]+=L(r);break;case 4:if(44===r){e[++n]=58===T()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=l(r)}}while(r=_());return e}(R(e),t))},ne=new WeakMap,re=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ne.get(n))&&!r){ne.set(e,!0);for(var i=[],a=te(t,i),s=n.props,o=0,l=0;o<a.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[o]?a[o].replace(/&\f/g,s[c]):s[c]+" "+a[o]}}},ie=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ae(e,t){switch(function(e,t){return 45^f(e,0)?(((t<<2^f(e,0))<<2^f(e,1))<<2^f(e,2))<<2^f(e,3):0}(e,t)){case 5103:return $+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $+e+H+e+B+e+e;case 6828:case 4268:return $+e+B+e+e;case 6165:return $+e+B+"flex-"+e+e;case 5187:return $+e+u(e,/(\w+).+(:[^]+)/,$+"box-$1$2"+B+"flex-$1$2")+e;case 5443:return $+e+B+"flex-item-"+u(e,/flex-|-self/,"")+e;case 4675:return $+e+B+"flex-line-pack"+u(e,/align-content|flex-|-self/,"")+e;case 5548:return $+e+B+u(e,"shrink","negative")+e;case 5292:return $+e+B+u(e,"basis","preferred-size")+e;case 6060:return $+"box-"+u(e,"-grow","")+$+e+B+u(e,"grow","positive")+e;case 4554:return $+u(e,/([^-])(transform)/g,"$1"+$+"$2")+e;case 6187:return u(u(u(e,/(zoom-|grab)/,$+"$1"),/(image-set)/,$+"$1"),e,"")+e;case 5495:case 3959:return u(e,/(image-set\([^]*)/,$+"$1$`$1");case 4968:return u(u(e,/(.+:)(flex-)?(.*)/,$+"box-pack:$3"+B+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$+e+e;case 4095:case 3583:case 4068:case 2532:return u(e,/(.+)-inline(.+)/,$+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(m(e)-1-t>6)switch(f(e,t+1)){case 109:if(45!==f(e,t+4))break;case 102:return u(e,/(.+:)(.+)-([^]+)/,"$1"+$+"$2-$3$1"+H+(108==f(e,t+3)?"$3":"$2-$3"))+e;case 115:return~h(e,"stretch")?ae(u(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==f(e,t+1))break;case 6444:switch(f(e,m(e)-3-(~h(e,"!important")&&10))){case 107:return u(e,":",":"+$)+e;case 101:return u(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$+(45===f(e,14)?"inline-":"")+"box$3$1"+$+"$2$3$1"+B+"$2box$3")+e}break;case 5936:switch(f(e,t+11)){case 114:return $+e+B+u(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $+e+B+u(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $+e+B+u(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $+e+B+e+e}return e}var se=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=ae(e.value,e.length);break;case q:return G([k(e,{value:u(e.value,"@","@"+$)})],r);case U:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([k(e,{props:[u(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return G([k(e,{props:[u(t,/:(plac\w+)/,":"+$+"input-$1")]}),k(e,{props:[u(t,/:(plac\w+)/,":-moz-$1")]}),k(e,{props:[u(t,/:(plac\w+)/,B+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,a=e.stylisPlugins||se,o={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;l.push(e)}));var c,d,u=[X,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],h=function(e){var t=g(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}([re,ie].concat(a,u));i=function(e,t,n,r){c=n,function(e){G(Y(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new s({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return f.sheet.hydrate(l),f};function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(null,arguments)}var ce=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var de={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ue(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var he=!1,fe=/[A-Z]|^ms/g,pe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,me=function(e){return 45===e.charCodeAt(1)},ge=function(e){return null!=e&&"boolean"!==typeof e},be=ue((function(e){return me(e)?e:e.replace(fe,"-$&").toLowerCase()})),ve=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(pe,(function(e,t,n){return xe={name:t,styles:n,next:xe},t}))}return 1===de[e]||me(e)||"number"!==typeof t||0===t?t:t+"px"},ye="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function we(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return xe={name:i.name,styles:i.styles,next:xe},i.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)xe={name:s.name,styles:s.styles,next:xe},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=we(e,t,n[i])+";";else for(var a in n){var s=n[a];if("object"!==typeof s){var o=s;null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":ge(o)&&(r+=be(a)+":"+ve(a,o)+";")}else{if("NO_COMPONENT_SELECTOR"===a&&he)throw new Error(ye);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=we(e,t,s);switch(a){case"animation":case"animationName":r+=be(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var c=0;c<s.length;c++)ge(s[c])&&(r+=be(a)+":"+ve(a,s[c])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var o=xe,l=n(e);return xe=o,we(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var xe,Se=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function Ae(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";xe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=we(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++){if(i+=we(n,t,e[s]),r)i+=a[s]}Se.lastIndex=0;for(var o,l="";null!==(o=Se.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:xe}}var Ee=!!i.useInsertionEffect&&i.useInsertionEffect,ke=Ee||r.useLayoutEffect,Ce=r.createContext("undefined"!==typeof HTMLElement?oe({key:"css"}):null),_e=(Ce.Provider,function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(Ce);return e(t,i,n)}))}),Te=r.createContext({}),Pe=ce((function(e){return ce((function(t){return function(e,t){return"function"===typeof t?t(e):le({},e,t)}(e,t)}))})),Oe=function(e){var t=r.useContext(Te);return e.theme!==t&&(t=Pe(t)(e.theme)),r.createElement(Te.Provider,{value:t},e.children)};var Me=function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},Re=(n(219),_e((function(e,t){var n=Ae([e.styles],void 0,r.useContext(Te)),i=r.useRef();return ke((function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==s&&(a=!0,s.setAttribute("data-emotion",e),r.hydrate([s])),i.current=[r,a],function(){r.flush()}}),[t]),ke((function(){var e=i.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Me(t,n.next,!0),r.tags.length){var a=r.tags[r.tags.length-1].nextElementSibling;r.before=a,r.flush()}t.insert("",n,r,!1)}}),[t,n.name]),null})));const Ie={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};var Le=Object.defineProperty,De=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable,Fe=(e,t,n)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,je=(e,t)=>{for(var n in t||(t={}))Ne.call(t,n)&&Fe(e,n,t[n]);if(De)for(var n of De(t))ze.call(t,n)&&Fe(e,n,t[n]);return e};function Be(e){return t=>"number"===typeof e.primaryShade?e.primaryShade:e.primaryShade[t||e.colorScheme]}function He(e){const t=Be(e);return function(n,r){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"===typeof n&&n.includes(".")){const[t,i]=n.split("."),s=parseInt(i,10);if(t in e.colors&&s>=0&&s<10)return e.colors[t]["number"!==typeof r||a?s:r]}const s="number"===typeof r?r:t();return n in e.colors?e.colors[n][s]:i?e.colors[e.primaryColor][s]:n}}function $e(e){let t="";for(let n=1;n<e.length-1;n+=1)t+=`${e[n]} ${n/(e.length-1)*100}%, `;return`${e[0]} 0%, ${t}${e[e.length-1]} 100%`}function We(e){const t=He(e),n=Be(e);return r=>{const i={from:(null==r?void 0:r.from)||e.defaultGradient.from,to:(null==r?void 0:r.to)||e.defaultGradient.to,deg:(null==r?void 0:r.deg)||e.defaultGradient.deg};return`linear-gradient(${i.deg}deg, ${t(i.from,n(),!1)} 0%, ${t(i.to,n(),!1)} 100%)`}}function Ue(e){if("number"===typeof e.size)return e.size;const t=e.sizes[e.size];return void 0!==t?t:e.size||e.sizes.md}function Ve(e){return/^#?([0-9A-F]{3}){1,2}$/i.test(e)?function(e){let t=e.replace("#","");if(3===t.length){const e=t.split("");t=[e[0],e[0],e[1],e[1],e[2],e[2]].join("")}const n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:255&n,a:1}}(e):e.startsWith("rgb")?function(e){const[t,n,r,i]=e.replace(/[^0-9,.]/g,"").split(",").map(Number);return{r:t,g:n,b:r,a:i||1}}(e):{r:0,g:0,b:0,a:1}}function qe(e,t){if("string"!==typeof e||t>1||t<0)return"rgba(0, 0, 0, 1)";const{r:n,g:r,b:i}=Ve(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Ge={fontStyles:function(e){return()=>({fontFamily:e.fontFamily||"sans-serif"})},themeColor:He,focusStyles:function(e){return t=>({WebkitTapHighlightColor:"transparent",[t||"&:focus"]:je({},"always"===e.focusRing||"auto"===e.focusRing?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),[t?t.replace(":focus",":focus:not(:focus-visible)"):"&:focus:not(:focus-visible)"]:je({},"auto"===e.focusRing||"never"===e.focusRing?e.focusRingStyles.resetStyles(e):null)})},linearGradient:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return`linear-gradient(${e}deg, ${$e(n)})`},radialGradient:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return`radial-gradient(circle, ${$e(t)})`},smallerThan:function(e){return t=>`@media (max-width: ${Ue({size:t,sizes:e.breakpoints})-1}px)`},largerThan:function(e){return t=>`@media (min-width: ${Ue({size:t,sizes:e.breakpoints})}px)`},rgba:qe,size:Ue,cover:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{position:"absolute",top:e,right:e,left:e,bottom:e}},darken:function(e,t){const{r:n,g:r,b:i,a:a}=Ve(e),s=1-t,o=e=>Math.round(e*s);return`rgba(${o(n)}, ${o(r)}, ${o(i)}, ${a})`},lighten:function(e,t){const{r:n,g:r,b:i,a:a}=Ve(e),s=e=>Math.round(e+(255-e)*t);return`rgba(${s(n)}, ${s(r)}, ${s(i)}, ${a})`},radius:function(e){return t=>{if("number"===typeof t)return t;const n="number"===typeof e.defaultRadius?e.defaultRadius:e.radius[e.defaultRadius]||e.defaultRadius;return e.radius[t]||t||n}},variant:function(e){const t=He(e),n=Be(e),r=We(e);return i=>{let{variant:a,color:s,gradient:o,primaryFallback:l}=i;const c=function(e,t){if("string"===typeof e&&e.includes(".")){const[n,r]=e.split("."),i=parseInt(r,10);if(n in t.colors&&i>=0&&i<10)return{isSplittedColor:!0,key:n,shade:i}}return{isSplittedColor:!1}}(s,e);switch(a){case"light":return{border:"transparent",background:qe(t(s,"dark"===e.colorScheme?8:0,l,!1),"dark"===e.colorScheme?.2:1),color:"dark"===s?"dark"===e.colorScheme?e.colors.dark[0]:e.colors.dark[9]:t(s,"dark"===e.colorScheme?2:n("light")),hover:qe(t(s,"dark"===e.colorScheme?7:1,l,!1),"dark"===e.colorScheme?.25:.65)};case"subtle":return{border:"transparent",background:"transparent",color:"dark"===s?"dark"===e.colorScheme?e.colors.dark[0]:e.colors.dark[9]:t(s,"dark"===e.colorScheme?2:n("light")),hover:qe(t(s,"dark"===e.colorScheme?8:0,l,!1),"dark"===e.colorScheme?.2:1)};case"outline":return{border:t(s,"dark"===e.colorScheme?5:n("light")),background:"transparent",color:t(s,"dark"===e.colorScheme?5:n("light")),hover:"dark"===e.colorScheme?qe(t(s,5,l,!1),.05):qe(t(s,0,l,!1),.35)};case"default":return{border:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4],background:"dark"===e.colorScheme?e.colors.dark[6]:e.white,color:"dark"===e.colorScheme?e.white:e.black,hover:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[0]};case"white":return{border:"transparent",background:e.white,color:t(s,n()),hover:null};case"transparent":return{border:"transparent",color:"dark"===s?"dark"===e.colorScheme?e.colors.dark[0]:e.colors.dark[9]:t(s,"dark"===e.colorScheme?2:n("light")),background:"transparent",hover:null};case"gradient":return{background:r(o),color:e.white,border:"transparent",hover:null};default:{const r=n(),i=c.isSplittedColor?c.shade:r,a=c.isSplittedColor?c.key:s;return{border:"transparent",background:t(a,i,l),color:e.white,hover:t(a,9===i?8:i+1)}}}}},primaryShade:Be,hover:function(e){return{"@media (hover: hover)":{"&:hover":e},"@media (hover: none)":{"&:active":e}}},gradient:We,primaryColor:function(e){return t=>{const n=Be(e)(t);return e.colors[e.primaryColor][n]}},placeholderStyles:function(e){return()=>({userSelect:"none",color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]})}};var Xe=Object.defineProperty,Ye=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable,et=(e,t,n)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tt=(e,t)=>{for(var n in t||(t={}))Je.call(t,n)&&et(e,n,t[n]);if(Qe)for(var n of Qe(t))Ze.call(t,n)&&et(e,n,t[n]);return e},nt=(e,t)=>Ye(e,Ke(t));function rt(e){return nt(tt({},e),{fn:{fontStyles:Ge.fontStyles(e),themeColor:Ge.themeColor(e),focusStyles:Ge.focusStyles(e),largerThan:Ge.largerThan(e),smallerThan:Ge.smallerThan(e),radialGradient:Ge.radialGradient,linearGradient:Ge.linearGradient,gradient:Ge.gradient(e),rgba:Ge.rgba,size:Ge.size,cover:Ge.cover,lighten:Ge.lighten,darken:Ge.darken,primaryShade:Ge.primaryShade(e),radius:Ge.radius(e),variant:Ge.variant(e),hover:Ge.hover,primaryColor:Ge.primaryColor(e),placeholderStyles:Ge.placeholderStyles(e)}})}Object.keys(Ie);const it=rt({dir:"ltr",primaryShade:{light:6,dark:8},focusRing:"auto",loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",defaultRadius:"sm",transitionTimingFunction:"ease",colors:Ie,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",respectReducedMotion:!0,cursorType:"default",defaultGradient:{from:"indigo",to:"cyan",deg:45},shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3,fontWeight:void 0},h2:{fontSize:26,lineHeight:1.35,fontWeight:void 0},h3:{fontSize:22,lineHeight:1.4,fontWeight:void 0},h4:{fontSize:18,lineHeight:1.45,fontWeight:void 0},h5:{fontSize:16,lineHeight:1.5,fontWeight:void 0},h6:{fontSize:14,lineHeight:1.5,fontWeight:void 0}}},other:{},components:{},activeStyles:{transform:"translateY(1px)"},datesLocale:"en",globalStyles:void 0,focusRingStyles:{styles:e=>({outlineOffset:2,outline:`2px solid ${e.colors[e.primaryColor]["dark"===e.colorScheme?7:5]}`}),resetStyles:()=>({outline:"none"}),inputStyles:e=>({outline:"none",borderColor:e.colors[e.primaryColor]["object"===typeof e.primaryShade?e.primaryShade[e.colorScheme]:e.primaryShade]})}});var at=Object.defineProperty,st=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,lt=Object.getOwnPropertySymbols,ct=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,ut=(e,t,n)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ht=(e,t)=>{for(var n in t||(t={}))ct.call(t,n)&&ut(e,n,t[n]);if(lt)for(var n of lt(t))dt.call(t,n)&&ut(e,n,t[n]);return e},ft=(e,t)=>st(e,ot(t));function pt(e){let{theme:t}=e;return r.createElement(Re,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},html:{colorScheme:"dark"===t.colorScheme?"dark":"light"},body:ft(ht({},t.fn.fontStyles()),{backgroundColor:"dark"===t.colorScheme?t.colors.dark[7]:t.white,color:"dark"===t.colorScheme?t.colors.dark[0]:t.black,lineHeight:t.lineHeight,fontSize:t.fontSizes.md,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"})}})}function mt(e,t,n){Object.keys(t).forEach((r=>{e[`--mantine-${n}-${r}`]="number"===typeof t[r]?`${t[r]}px`:t[r]}))}function gt(e){let{theme:t}=e;const n={"--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-transition-timing-function":t.transitionTimingFunction,"--mantine-line-height":`${t.lineHeight}`,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":`${t.headings.fontWeight}`};mt(n,t.shadows,"shadow"),mt(n,t.fontSizes,"font-size"),mt(n,t.radius,"radius"),mt(n,t.spacing,"spacing"),Object.keys(t.colors).forEach((e=>{t.colors[e].forEach(((t,r)=>{n[`--mantine-color-${e}-${r}`]=t}))}));const i=t.headings.sizes;return Object.keys(i).forEach((e=>{n[`--mantine-${e}-font-size`]=`${i[e].fontSize}px`,n[`--mantine-${e}-line-height`]=`${i[e].lineHeight}`})),r.createElement(Re,{styles:{":root":n}})}var bt=Object.defineProperty,vt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,At=(e,t,n)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))xt.call(t,n)&&At(e,n,t[n]);if(wt)for(var n of wt(t))St.call(t,n)&&At(e,n,t[n]);return e},kt=(e,t)=>vt(e,yt(t));function Ct(e,t){return rt(function(e,t){if(!t)return e;const n=Object.keys(e).reduce(((n,r)=>{if("headings"===r&&t.headings){const r=t.headings.sizes?Object.keys(e.headings.sizes).reduce(((n,r)=>(n[r]=Et(Et({},e.headings.sizes[r]),t.headings.sizes[r]),n)),{}):e.headings.sizes;return kt(Et({},n),{headings:kt(Et(Et({},e.headings),t.headings),{sizes:r})})}return n[r]="object"===typeof t[r]?Et(Et({},e[r]),t[r]):"number"===typeof t[r]||"boolean"===typeof t[r]||"function"===typeof t[r]?t[r]:t[r]||e[r],n}),{});if(!(n.primaryColor in n.colors))throw new Error("MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more \u2013 https://mantine.dev/theming/colors/#primary-color");return n}(e,t))}function _t(e){return Object.keys(e).reduce(((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t)),{})}const Tt={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"none"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}};function Pt(){return r.createElement(Re,{styles:Tt})}var Ot=Object.defineProperty,Mt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Lt=(e,t,n)=>t in e?Ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dt=(e,t)=>{for(var n in t||(t={}))Rt.call(t,n)&&Lt(e,n,t[n]);if(Mt)for(var n of Mt(t))It.call(t,n)&&Lt(e,n,t[n]);return e};const Nt=(0,r.createContext)({theme:it});function zt(){var e;return(null==(e=(0,r.useContext)(Nt))?void 0:e.theme)||it}function Ft(){var e;return null==(e=(0,r.useContext)(Nt))?void 0:e.emotionCache}function jt(e,t,n){var r;const i=zt(),a=null==(r=i.components[e])?void 0:r.defaultProps,s="function"===typeof a?a(i):a;return Dt(Dt(Dt({},t),s),_t(n))}function Bt(e){let{theme:t,emotionCache:n,withNormalizeCSS:i=!1,withGlobalStyles:a=!1,withCSSVariables:s=!1,inherit:o=!1,children:l}=e;const c=(0,r.useContext)(Nt),d=Ct(it,o?Dt(Dt({},c.theme),t):t);return r.createElement(Oe,{theme:d},r.createElement(Nt.Provider,{value:{theme:d,emotionCache:n}},i&&r.createElement(Pt,null),a&&r.createElement(pt,{theme:d}),s&&r.createElement(gt,{theme:d}),"function"===typeof d.globalStyles&&r.createElement(Re,{styles:d.globalStyles(d)}),l))}function Ht(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ht(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function $t(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ht(e))&&(r&&(r+=" "),r+=t);return r}Bt.displayName="@mantine/core/MantineProvider";const Wt=oe({key:"mantine",prepend:!0});var Ut=Object.defineProperty,Vt=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,Gt=Object.prototype.propertyIsEnumerable,Xt=(e,t,n)=>t in e?Ut(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Yt="ref";function Kt(e){let t;if(1!==e.length)return{args:e,ref:t};const[n]=e;if(!(n instanceof Object))return{args:e,ref:t};if(!(Yt in n))return{args:e,ref:t};t=n[Yt];const r=((e,t)=>{for(var n in t||(t={}))qt.call(t,n)&&Xt(e,n,t[n]);if(Vt)for(var n of Vt(t))Gt.call(t,n)&&Xt(e,n,t[n]);return e})({},n);return delete r[Yt],{args:[r],ref:t}}const{cssFactory:Qt}={cssFactory:function(e){const{cache:t}=e,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const{ref:i,args:a}=Kt(n),s=Ae(a,t.registered);return Me(t,s,!1),`${t.key}-${s.name}${void 0===i?"":` ${i}`}`};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(e,t,n){const r=[],i=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(e,r,n);return r.length<2?n:i+t(r)}(t.registered,n,$t(r))}}}};function Jt(){const e=Ft()||Wt;return function(e,t){const n=(0,r.useRef)();return(!n.current||t.length!==n.current.prevDeps.length||n.current.prevDeps.map(((e,n)=>e===t[n])).indexOf(!1)>=0)&&(n.current={v:e(),prevDeps:[...t]}),n.current.v}((()=>Qt({cache:e})),[e])}function Zt(e){let{cx:t,classes:n,context:r,classNames:i,name:a,cache:s}=e;const o=r.reduce(((e,t)=>(Object.keys(t.classNames).forEach((n=>{"string"!==typeof e[n]?e[n]=`${t.classNames[n]}`:e[n]=`${e[n]} ${t.classNames[n]}`})),e)),{});return Object.keys(n).reduce(((e,r)=>(e[r]=t(n[r],o[r],null!=i&&i[r],Array.isArray(a)?a.filter(Boolean).map((e=>`${(null==s?void 0:s.key)||"mantine"}-${e}-${r}`)).join(" "):a?`${(null==s?void 0:s.key)||"mantine"}-${a}-${r}`:null),e)),{})}var en=Object.defineProperty,tn=Object.getOwnPropertySymbols,nn=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable,an=(e,t,n)=>t in e?en(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sn=(e,t)=>{for(var n in t||(t={}))nn.call(t,n)&&an(e,n,t[n]);if(tn)for(var n of tn(t))rn.call(t,n)&&an(e,n,t[n]);return e};function on(e){return`__mantine-ref-${e||""}`}function ln(e,t,n){const r=e=>"function"===typeof e?e(t,n||{}):e||{};return Array.isArray(e)?e.map((e=>r(e.styles))).reduce(((e,t)=>(Object.keys(t).forEach((n=>{e[n]?e[n]=sn(sn({},e[n]),t[n]):e[n]=sn({},t[n])})),e)),{}):r(e)}function cn(e){const t="function"===typeof e?e:()=>e;return function(e,n){const r=zt(),i=function(e){const t=zt(),n=e=>{var n,r;return{styles:(null==(n=t.components[e])?void 0:n.styles)||{},classNames:(null==(r=t.components[e])?void 0:r.classNames)||{}}};return Array.isArray(e)?e.map(n):[n(e)]}(null==n?void 0:n.name),a=Ft(),{css:s,cx:o}=Jt(),l=t(r,e,on),c=ln(null==n?void 0:n.styles,r,e),d=ln(i,r,e),u=Object.fromEntries(Object.keys(l).map((e=>[e,o({[s(l[e])]:!(null==n?void 0:n.unstyled)},s(d[e]),s(c[e]))])));return{classes:Zt({cx:o,classes:u,context:i,classNames:null==n?void 0:n.classNames,name:null==n?void 0:n.name,cache:a}),cx:o,theme:r}}}var dn=cn(((e,t)=>{let{fluid:n,size:r,sizes:i}=t;return{root:{paddingLeft:e.spacing.md,paddingRight:e.spacing.md,maxWidth:n?"100%":e.fn.size({size:r,sizes:i}),marginLeft:"auto",marginRight:"auto"}}}));const un=dn;var hn=Object.getOwnPropertySymbols,fn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,mn=(e,t)=>{var n={};for(var r in e)fn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&hn)for(var r of hn(e))t.indexOf(r)<0&&pn.call(e,r)&&(n[r]=e[r]);return n};function gn(e){const t=e,{m:n,mx:r,my:i,mt:a,mb:s,ml:o,mr:l,p:c,px:d,py:u,pt:h,pb:f,pl:p,pr:m,bg:g,c:b,opacity:v,ff:y,fz:w,fw:x,lts:S,ta:A,lh:E,fs:k,tt:C,td:_,w:T,miw:P,maw:O,h:M,mih:R,mah:I,bgsz:L,bgp:D,bgr:N,bga:z,pos:F,top:j,left:B,bottom:H,right:$,inset:W,display:U}=t,V=mn(t,["m","mx","my","mt","mb","ml","mr","p","px","py","pt","pb","pl","pr","bg","c","opacity","ff","fz","fw","lts","ta","lh","fs","tt","td","w","miw","maw","h","mih","mah","bgsz","bgp","bgr","bga","pos","top","left","bottom","right","inset","display"]);return{systemStyles:_t({m:n,mx:r,my:i,mt:a,mb:s,ml:o,mr:l,p:c,px:d,py:u,pt:h,pb:f,pl:p,pr:m,bg:g,c:b,opacity:v,ff:y,fz:w,fw:x,lts:S,ta:A,lh:E,fs:k,tt:C,td:_,w:T,miw:P,maw:O,h:M,mih:R,mah:I,bgsz:L,bgp:D,bgr:N,bga:z,pos:F,top:j,left:B,bottom:H,right:$,inset:W,display:U}),rest:V}}function bn(e){let{value:t,theme:n,getValue:r,property:i}=e;if(null==t)return;if("object"===typeof t){const e=function(e,t){const n=Object.keys(e).filter((e=>"base"!==e)).sort(((e,n)=>t.fn.size({size:e,sizes:t.breakpoints})-t.fn.size({size:n,sizes:t.breakpoints})));return"base"in e?["base",...n]:n}(t,n).reduce(((e,a)=>{if("base"===a&&void 0!==t.base){const a=r(t.base,n);return Array.isArray(i)?(i.forEach((t=>{e[t]=a})),e):(e[i]=a,e)}const s=r(t[a],n);return Array.isArray(i)?(e[n.fn.largerThan(a)]={},i.forEach((t=>{e[n.fn.largerThan(a)][t]=s})),e):(e[n.fn.largerThan(a)]={[i]:s},e)}),{});return e}const a=r(t,n);return Array.isArray(i)?i.reduce(((e,t)=>(e[t]=a,e)),{}):{[i]:a}}const vn=["-xs","-sm","-md","-lg","-xl"];const yn={color:function(e,t){return"dimmed"===e?"dark"===t.colorScheme?t.colors.dark[2]:t.colors.gray[6]:t.fn.variant({variant:"filled",color:e,primaryFallback:!1}).background},default:function(e){return e},fontSize:function(e,t){return t.fn.size({size:e,sizes:t.fontSizes})},spacing:function(e,t){return vn.includes(e)?-1*t.fn.size({size:e.replace("-",""),sizes:t.spacing}):t.fn.size({size:e,sizes:t.spacing})}},wn={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"color",property:"color"},opacity:{type:"default",property:"opacity"},ff:{type:"default",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"default",property:"fontWeight"},lts:{type:"default",property:"letterSpacing"},ta:{type:"default",property:"textAlign"},lh:{type:"default",property:"lineHeight"},fs:{type:"default",property:"fontStyle"},tt:{type:"default",property:"textTransform"},td:{type:"default",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"default",property:"background-size"},bgp:{type:"default",property:"background-position"},bgr:{type:"default",property:"background-repeat"},bga:{type:"default",property:"background-attachment"},pos:{type:"default",property:"position"},top:{type:"default",property:"top"},left:{type:"default",property:"left"},bottom:{type:"default",property:"bottom"},right:{type:"default",property:"right"},inset:{type:"default",property:"inset"},display:{type:"default",property:"display"}};var xn=Object.defineProperty,Sn=Object.getOwnPropertySymbols,An=Object.prototype.hasOwnProperty,En=Object.prototype.propertyIsEnumerable,kn=(e,t,n)=>t in e?xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cn=(e,t)=>{for(var n in t||(t={}))An.call(t,n)&&kn(e,n,t[n]);if(Sn)for(var n of Sn(t))En.call(t,n)&&kn(e,n,t[n]);return e};function _n(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wn;return Object.keys(n).reduce(((r,i)=>(i in e&&void 0!==e[i]&&r.push(bn({value:e[i],getValue:yn[n[i].type],property:n[i].property,theme:t})),r)),[]).reduce(((e,t)=>(Object.keys(t).forEach((n=>{"object"===typeof t[n]&&null!==t[n]?e[n]=n in e?Cn(Cn({},e[n]),t[n]):t[n]:e[n]=t[n]})),e)),{})}function Tn(e,t){return"function"===typeof e?e(t):e}function Pn(e,t,n){const r=zt(),{css:i,cx:a}=Jt();return Array.isArray(e)?a(n,i(_n(t,r)),e.map((e=>i(Tn(e,r))))):a(n,i(Tn(e,r)),i(_n(t,r)))}var On=Object.defineProperty,Mn=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,In=Object.prototype.propertyIsEnumerable,Ln=(e,t,n)=>t in e?On(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Dn=(0,r.forwardRef)(((e,t)=>{var n=e,{className:i,component:a,style:s,sx:o}=n,l=((e,t)=>{var n={};for(var r in e)Rn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Mn)for(var r of Mn(e))t.indexOf(r)<0&&In.call(e,r)&&(n[r]=e[r]);return n})(n,["className","component","style","sx"]);const{systemStyles:c,rest:d}=gn(l),u=a||"div";return r.createElement(u,((e,t)=>{for(var n in t||(t={}))Rn.call(t,n)&&Ln(e,n,t[n]);if(Mn)for(var n of Mn(t))In.call(t,n)&&Ln(e,n,t[n]);return e})({ref:t,className:Pn(o,c,i),style:s},d))}));Dn.displayName="@mantine/core/Box";const Nn=Dn;var zn=Object.defineProperty,Fn=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,Hn=(e,t,n)=>t in e?zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $n={sizes:{xs:540,sm:720,md:960,lg:1140,xl:1320}},Wn=(0,r.forwardRef)(((e,t)=>{const n=jt("Container",$n,e),{className:i,fluid:a,size:s,unstyled:o,sizes:l}=n,c=((e,t)=>{var n={};for(var r in e)jn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Fn)for(var r of Fn(e))t.indexOf(r)<0&&Bn.call(e,r)&&(n[r]=e[r]);return n})(n,["className","fluid","size","unstyled","sizes"]),{classes:d,cx:u}=un({fluid:a,size:s,sizes:l},{unstyled:o,name:"Container"});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))jn.call(t,n)&&Hn(e,n,t[n]);if(Fn)for(var n of Fn(t))Bn.call(t,n)&&Hn(e,n,t[n]);return e})({className:u(d.root,i),ref:t},c))}));Wn.displayName="@mantine/core/Container";var Un=Object.defineProperty,Vn=Object.getOwnPropertySymbols,qn=Object.prototype.hasOwnProperty,Gn=Object.prototype.propertyIsEnumerable,Xn=(e,t,n)=>t in e?Un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Yn={w:0,h:0},Kn=(0,r.forwardRef)(((e,t)=>{const n=jt("Space",Yn,e),{w:i,h:a}=n,s=((e,t)=>{var n={};for(var r in e)qn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Vn)for(var r of Vn(e))t.indexOf(r)<0&&Gn.call(e,r)&&(n[r]=e[r]);return n})(n,["w","h"]);return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))qn.call(t,n)&&Xn(e,n,t[n]);if(Vn)for(var n of Vn(t))Gn.call(t,n)&&Xn(e,n,t[n]);return e})({ref:t,w:i,miw:i,h:a,mih:a},s))}));Kn.displayName="@mantine/core/Space";var Qn=Object.defineProperty,Jn=Object.defineProperties,Zn=Object.getOwnPropertyDescriptors,er=Object.getOwnPropertySymbols,tr=Object.prototype.hasOwnProperty,nr=Object.prototype.propertyIsEnumerable,rr=(e,t,n)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ir=(e,t)=>{for(var n in t||(t={}))tr.call(t,n)&&rr(e,n,t[n]);if(er)for(var n of er(t))nr.call(t,n)&&rr(e,n,t[n]);return e};function ar(e,t,n){return"undefined"!==typeof e?e in n.headings.sizes?n.headings.sizes[e].fontSize:e:n.headings.sizes[t].fontSize}function sr(e,t,n){return"undefined"!==typeof e&&e in n.headings.sizes?n.headings.sizes[e].lineHeight:n.headings.sizes[t].lineHeight}var or=cn(((e,t)=>{let{element:n,weight:r,size:i,inline:a}=t;return{root:(s=ir({},e.fn.fontStyles()),o={fontFamily:e.headings.fontFamily,fontWeight:r||e.headings.sizes[n].fontWeight||e.headings.fontWeight,fontSize:ar(i,n,e),lineHeight:a?1:sr(i,n,e),margin:0},Jn(s,Zn(o)))};var s,o}));const lr=or;var cr=Object.defineProperty,dr=Object.defineProperties,ur=Object.getOwnPropertyDescriptors,hr=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable,mr=(e,t,n)=>t in e?cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gr=(e,t)=>{for(var n in t||(t={}))fr.call(t,n)&&mr(e,n,t[n]);if(hr)for(var n of hr(t))pr.call(t,n)&&mr(e,n,t[n]);return e};function br(e){let{underline:t,strikethrough:n}=e;const r=[];return t&&r.push("underline"),n&&r.push("line-through"),r.length>0?r.join(" "):"none"}function vr(e){let{theme:t,color:n,variant:r}=e;return"dimmed"===n?"dark"===t.colorScheme?t.colors.dark[2]:t.colors.gray[6]:"string"===typeof n&&(n in t.colors||n.split(".")[0]in t.colors)?t.fn.variant({variant:"filled",color:n}).background:"link"===r?t.colors[t.primaryColor]["dark"===t.colorScheme?4:7]:n||"inherit"}function yr(e){return"number"===typeof e?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}function wr(e){let{theme:t,truncate:n}=e;return"start"===n?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:"ltr"===t.dir?"rtl":"ltr",textAlign:"ltr"===t.dir?"right":"left"}:n?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:null}var xr=cn(((e,t)=>{let{color:n,variant:r,size:i,lineClamp:a,truncate:s,inline:o,inherit:l,underline:c,gradient:d,weight:u,transform:h,align:f,strikethrough:p,italic:m}=t;const g=e.fn.variant({variant:"gradient",gradient:d});return{root:gr((b=gr(gr(gr(gr({},e.fn.fontStyles()),e.fn.focusStyles()),yr(a)),wr({theme:e,truncate:s})),v={color:vr({color:n,theme:e,variant:r}),fontFamily:l?"inherit":e.fontFamily,fontSize:l||void 0===i?"inherit":e.fn.size({size:i,sizes:e.fontSizes}),lineHeight:l?"inherit":o?1:e.lineHeight,textDecoration:br({underline:c,strikethrough:p}),WebkitTapHighlightColor:"transparent",fontWeight:l?"inherit":u,textTransform:h,textAlign:f,fontStyle:m?"italic":void 0},dr(b,ur(v))),e.fn.hover("link"===r&&void 0===c?{textDecoration:"underline"}:void 0)),gradient:{backgroundImage:g.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}};var b,v}));const Sr=xr;var Ar=Object.defineProperty,Er=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,_r=(e,t,n)=>t in e?Ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Tr={variant:"text"},Pr=(0,r.forwardRef)(((e,t)=>{const n=jt("Text",Tr,e),{className:i,size:a,weight:s,transform:o,color:l,align:c,variant:d,lineClamp:u,truncate:h,gradient:f,inline:p,inherit:m,underline:g,strikethrough:b,italic:v,classNames:y,styles:w,unstyled:x,span:S}=n,A=((e,t)=>{var n={};for(var r in e)kr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Er)for(var r of Er(e))t.indexOf(r)<0&&Cr.call(e,r)&&(n[r]=e[r]);return n})(n,["className","size","weight","transform","color","align","variant","lineClamp","truncate","gradient","inline","inherit","underline","strikethrough","italic","classNames","styles","unstyled","span"]),{classes:E,cx:k}=Sr({variant:d,color:l,size:a,lineClamp:u,truncate:h,inline:p,inherit:m,underline:g,strikethrough:b,italic:v,weight:s,transform:o,align:c,gradient:f},{unstyled:x,name:"Text"});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))kr.call(t,n)&&_r(e,n,t[n]);if(Er)for(var n of Er(t))Cr.call(t,n)&&_r(e,n,t[n]);return e})({ref:t,className:k(E.root,{[E.gradient]:"gradient"===d},i),component:S?"span":"div"},A))}));Pr.displayName="@mantine/core/Text";const Or=Pr;var Mr=Object.defineProperty,Rr=Object.getOwnPropertySymbols,Ir=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable,Dr=(e,t,n)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Nr={order:1},zr=(0,r.forwardRef)(((e,t)=>{const n=jt("Title",Nr,e),{className:i,order:a,children:s,unstyled:o,size:l,weight:c,inline:d}=n,u=((e,t)=>{var n={};for(var r in e)Ir.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Rr)for(var r of Rr(e))t.indexOf(r)<0&&Lr.call(e,r)&&(n[r]=e[r]);return n})(n,["className","order","children","unstyled","size","weight","inline"]),{classes:h,cx:f}=lr({element:`h${a}`,weight:c,size:l,inline:d},{name:"Title",unstyled:o});return[1,2,3,4,5,6].includes(a)?r.createElement(Or,((e,t)=>{for(var n in t||(t={}))Ir.call(t,n)&&Dr(e,n,t[n]);if(Rr)for(var n of Rr(t))Lr.call(t,n)&&Dr(e,n,t[n]);return e})({component:`h${a}`,ref:t,className:f(h.root,i)},u),s):null}));function Fr(e,t){let{getInitialValueInEffect:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{getInitialValueInEffect:!0};const[i,a]=(0,r.useState)(n?t:function(e,t){return"boolean"===typeof t?t:"undefined"!==typeof window&&"matchMedia"in window&&window.matchMedia(e).matches}(e,t)),s=(0,r.useRef)();return(0,r.useEffect)((()=>{if("matchMedia"in window)return s.current=window.matchMedia(e),a(s.current.matches),function(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch(n){return e.addListener(t),()=>e.removeListener(t)}}(s.current,(e=>a(e.matches)))}),[e]),i}function jr(e,t){return Fr("(prefers-reduced-motion: reduce)",e,t)}function Br(e){let{value:t,defaultValue:n,finalValue:i,onChange:a=()=>{}}=e;const[s,o]=(0,r.useState)(void 0!==n?n:i);return void 0!==t?[t,a,!0]:[s,e=>{o(e),null==a||a(e)},!1]}zr.displayName="@mantine/core/Title";const Hr="undefined"!==typeof document?r.useLayoutEffect:r.useEffect,$r=()=>`mantine-${Math.random().toString(36).slice(2,11)}`,Wr=r["useId".toString()]||(()=>{});function Ur(e){return"string"===typeof e?e:function(){const e=Wr();return e?`mantine-${e.replace(/:/g,"")}`:""}()||function(){const[e,t]=(0,r.useState)("");return Hr((()=>{t($r())}),[]),e}()}const Vr={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function qr(){const e=(0,r.useRef)(0),t=(0,r.useRef)(null),[n,i]=(0,r.useState)(Vr),a=(0,r.useMemo)((()=>"undefined"!==typeof window?new ResizeObserver((n=>{const r=n[0];r&&(cancelAnimationFrame(e.current),e.current=requestAnimationFrame((()=>{t.current&&i(r.contentRect)})))})):null),[]);return(0,r.useEffect)((()=>(t.current&&a.observe(t.current),()=>{a.disconnect(),e.current&&cancelAnimationFrame(e.current)})),[t.current]),[t,n]}function Gr(e,t){"function"===typeof e?e(t):"object"===typeof e&&null!==e&&"current"in e&&(e.current=t)}function Xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>Gr(t,e)))}}(...t),t)}var Yr=Object.defineProperty,Kr=Object.defineProperties,Qr=Object.getOwnPropertyDescriptors,Jr=Object.getOwnPropertySymbols,Zr=Object.prototype.hasOwnProperty,ei=Object.prototype.propertyIsEnumerable,ti=(e,t,n)=>t in e?Yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ni=(e,t)=>{for(var n in t||(t={}))Zr.call(t,n)&&ti(e,n,t[n]);if(Jr)for(var n of Jr(t))ei.call(t,n)&&ti(e,n,t[n]);return e};const ri={xs:"3px 6px",sm:"5px 10px",md:"7px 14px",lg:"9px 16px",xl:"12px 20px"};var ii=cn(((e,t,n)=>{let{fullWidth:r,color:i,radius:a,shouldAnimate:s,transitionDuration:o,transitionTimingFunction:l,size:c,orientation:d}=t;const u="vertical"===d,h=e.fn.variant({variant:"filled",color:i});return{label:(f=ni(ni({ref:n("label")},e.fn.focusStyles()),e.fn.fontStyles()),p={WebkitTapHighlightColor:"transparent",borderRadius:e.fn.radius(a),fontWeight:500,fontSize:c in e.fontSizes?e.fontSizes[c]:e.fontSizes.sm,cursor:"pointer",display:"block",textAlign:"center",padding:ri[c in ri?c:"sm"],whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",userSelect:"none",color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[7],transition:`color ${s?0:o}ms ${l||e.transitionTimingFunction}`,"&:hover":{color:"dark"===e.colorScheme?e.colors.dark[0]:e.black}},Kr(f,Qr(p))),control:{ref:n("control"),position:"relative",boxSizing:"border-box",flex:1,zIndex:2,transition:`border-left-color ${s?0:o}ms ${l||e.transitionTimingFunction}`,"&:not(:first-of-type)":{borderStyle:"solid",borderWidth:u?"1px 0 0 0":"0 0 0 1px",borderColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}},input:{height:0,width:0,position:"absolute",overflow:"hidden",whiteSpace:"nowrap",opacity:0,"&:focus":{outline:"none",[`& + .${n("label")}`]:ni({},"always"===e.focusRing||"auto"===e.focusRing?e.focusRingStyles.styles(e):e.focusRingStyles.resetStyles(e)),"&:focus:not(:focus-visible)":{[`& + .${n("label")}`]:ni({},"auto"===e.focusRing||"never"===e.focusRing?e.focusRingStyles.resetStyles(e):null)}}},root:{position:"relative",display:r||u?"flex":"inline-flex",width:u&&!r?"max-content":"auto",flexDirection:u?"column":"row",backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[1],borderRadius:e.fn.radius(a),overflow:"hidden",padding:4},controlActive:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important",[`& + .${n("control")}`]:{borderLeftColor:"transparent !important",borderTopColor:"transparent !important"},borderRadius:e.fn.radius(a),boxShadow:s?i||"dark"===e.colorScheme?"none":e.shadows.xs:void 0,backgroundColor:s?i?h.background:"dark"===e.colorScheme?e.colors.dark[5]:e.white:void 0},labelActive:{"&, &:hover":{color:i||"dark"===e.colorScheme?e.white:e.black}},disabled:{"&, &:hover":{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5],cursor:"not-allowed"}},active:{boxSizing:"border-box",borderRadius:e.fn.radius(a),position:"absolute",zIndex:1,boxShadow:i||"dark"===e.colorScheme?"none":e.shadows.xs,transition:`transform ${s?0:o}ms ${e.transitionTimingFunction}, width ${s?0:o/2}ms ${l||e.transitionTimingFunction}`,backgroundColor:i?h.background:"dark"===e.colorScheme?e.colors.dark[5]:e.white}};var f,p}));const ai=ii;var si=Object.defineProperty,oi=Object.getOwnPropertySymbols,li=Object.prototype.hasOwnProperty,ci=Object.prototype.propertyIsEnumerable,di=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ui={disabled:!1,size:"sm",transitionDuration:200},hi=(0,r.forwardRef)(((e,t)=>{var n,i,a,s;const o=jt("SegmentedControl",ui,e),{className:l,disabled:c,data:d,name:u,value:h,onChange:f,color:p,fullWidth:m,radius:g,size:b,transitionDuration:v,transitionTimingFunction:y,classNames:w,styles:x,defaultValue:S,orientation:A,unstyled:E}=o,k=((e,t)=>{var n={};for(var r in e)li.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&oi)for(var r of oi(e))t.indexOf(r)<0&&ci.call(e,r)&&(n[r]=e[r]);return n})(o,["className","disabled","data","name","value","onChange","color","fullWidth","radius","size","transitionDuration","transitionTimingFunction","classNames","styles","defaultValue","orientation","unstyled"]),C=zt(),_=jr(),T=!!C.respectReducedMotion&&_,P=d.map((e=>"string"===typeof e?{label:e,value:e}:e)),O=(0,r.useRef)(),[M,R]=(0,r.useState)(!1),[I,L]=Br({value:h,defaultValue:S,finalValue:Array.isArray(P)&&null!=(s=null!=(a=null==(n=P.find((e=>!e.disabled)))?void 0:n.value)?a:null==(i=P[0])?void 0:i.value)?s:null,onChange:f}),{classes:D,cx:N}=ai({size:b,fullWidth:m,color:p,radius:g,shouldAnimate:T||!M,transitionDuration:v,transitionTimingFunction:y,orientation:A},{classNames:w,styles:x,unstyled:E,name:"SegmentedControl"}),[z,F]=(0,r.useState)({width:0,height:0,translate:[0,0]}),j=Ur(u),B=(0,r.useRef)({}),[H,$]=qr();Hr((()=>{O.current?R(!0):(O.current=!0,R(!1))})),(0,r.useEffect)((()=>{if(I in B.current&&H.current){const e=B.current[I],t=e.getBoundingClientRect(),n=e.offsetWidth/t.width,r=t.width*n||0,i=t.height*n||0,a=$.width-e.parentElement.offsetLeft+4-r,s=e.parentElement.offsetLeft-4;F({width:r,height:i,translate:["rtl"===C.dir?a:s,e.parentElement.offsetTop-4]})}}),[I,$]);const W=P.map((e=>r.createElement("div",{className:N(D.control,{[D.controlActive]:I===e.value}),key:e.value},r.createElement("input",{className:D.input,disabled:c||e.disabled,type:"radio",name:j,value:e.value,id:`${j}-${e.value}`,checked:I===e.value,onChange:()=>L(e.value)}),r.createElement("label",{className:N(D.label,{[D.labelActive]:I===e.value,[D.disabled]:c||e.disabled}),htmlFor:`${j}-${e.value}`,ref:t=>{B.current[e.value]=t}},e.label)))),U=Xr(H,t);return 0===P.length?null:r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))li.call(t,n)&&di(e,n,t[n]);if(oi)for(var n of oi(t))ci.call(t,n)&&di(e,n,t[n]);return e})({className:N(D.root,l),ref:U},k),"string"===typeof I&&M&&r.createElement(Nn,{component:"span",className:D.active,sx:{width:z.width,height:z.height,transform:`translate(${z.translate[0]}px, ${z.translate[1]}px )`}}),W)}));hi.displayName="@mantine/core/SegmentedControl";var fi=cn(((e,t)=>{let{radius:n,shadow:r,withBorder:i}=t;return{root:{outline:0,WebkitTapHighlightColor:"transparent",display:"block",textDecoration:"none",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,boxSizing:"border-box",borderRadius:e.fn.radius(n),boxShadow:e.shadows[r]||r||"none",border:i?`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`:void 0}}}));const pi=fi;var mi=Object.defineProperty,gi=Object.getOwnPropertySymbols,bi=Object.prototype.hasOwnProperty,vi=Object.prototype.propertyIsEnumerable,yi=(e,t,n)=>t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wi={},xi=(0,r.forwardRef)(((e,t)=>{const n=jt("Paper",wi,e),{className:i,children:a,radius:s,withBorder:o,shadow:l,unstyled:c}=n,d=((e,t)=>{var n={};for(var r in e)bi.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gi)for(var r of gi(e))t.indexOf(r)<0&&vi.call(e,r)&&(n[r]=e[r]);return n})(n,["className","children","radius","withBorder","shadow","unstyled"]),{classes:u,cx:h}=pi({radius:s,shadow:l,withBorder:o},{name:"Paper",unstyled:c});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))bi.call(t,n)&&yi(e,n,t[n]);if(gi)for(var n of gi(t))vi.call(t,n)&&yi(e,n,t[n]);return e})({className:h(u.root,i),ref:t},d),a)}));xi.displayName="@mantine/core/Paper";const Si=xi,Ai=(0,r.createContext)({padding:0}),Ei=Ai.Provider;const ki=cn(((e,t)=>{let{padding:n,withBorder:r,inheritPadding:i}=t;const a=e.fn.size({size:n,sizes:e.spacing}),s=-1*a,o="dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3];return{cardSection:{display:"block",marginLeft:s,marginRight:s,paddingLeft:i?a:void 0,paddingRight:i?a:void 0,borderTop:r&&`1px solid ${o}`,borderBottom:r&&`1px solid ${o}`,"& + &":{borderTop:0},"&[data-first]":{marginTop:s,borderTop:0,borderBottom:r&&`1px solid ${o}`},"&[data-last]":{marginBottom:s,borderBottom:0}}}}));var Ci=Object.defineProperty,_i=Object.getOwnPropertySymbols,Ti=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Oi=(e,t,n)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Mi={withBorder:!1,inheritPadding:!1},Ri=(0,r.forwardRef)(((e,t)=>{const n=jt("CardSection",Mi,e),{className:i,withBorder:a,inheritPadding:s,unstyled:o}=n,l=((e,t)=>{var n={};for(var r in e)Ti.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&_i)for(var r of _i(e))t.indexOf(r)<0&&Pi.call(e,r)&&(n[r]=e[r]);return n})(n,["className","withBorder","inheritPadding","unstyled"]),{classes:c,cx:d}=ki({padding:(0,r.useContext)(Ai).padding,withBorder:a,inheritPadding:s},{name:"Card",unstyled:o});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))Ti.call(t,n)&&Oi(e,n,t[n]);if(_i)for(var n of _i(t))Pi.call(t,n)&&Oi(e,n,t[n]);return e})({className:d(c.cardSection,i),ref:t},l))}));Ri.displayName="@mantine/core/CardSection";const Ii=Ri;const Li=cn((e=>({root:{position:"relative",overflow:"hidden",backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white}})));var Di=Object.defineProperty,Ni=Object.getOwnPropertySymbols,zi=Object.prototype.hasOwnProperty,Fi=Object.prototype.propertyIsEnumerable,ji=(e,t,n)=>t in e?Di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Bi={p:"md"},Hi=(0,r.forwardRef)(((e,t)=>{const n=jt("Card",Bi,e),{className:i,p:a,radius:s,children:o,unstyled:l}=n,c=((e,t)=>{var n={};for(var r in e)zi.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ni)for(var r of Ni(e))t.indexOf(r)<0&&Fi.call(e,r)&&(n[r]=e[r]);return n})(n,["className","p","radius","children","unstyled"]),{classes:d,cx:u}=Li(null,{name:"Card",unstyled:l}),h=r.Children.toArray(o),f=h.map(((e,t)=>"object"===typeof e&&e&&"type"in e&&e.type===Ii?(0,r.cloneElement)(e,{padding:a,"data-first":0===t||void 0,"data-last":t===h.length-1||void 0}):e));return r.createElement(Ei,{value:{padding:a}},r.createElement(Si,((e,t)=>{for(var n in t||(t={}))zi.call(t,n)&&ji(e,n,t[n]);if(Ni)for(var n of Ni(t))Fi.call(t,n)&&ji(e,n,t[n]);return e})({className:u(d.root,i),radius:s,p:a,ref:t},c),f))}));Hi.Section=Ii,Hi.displayName="@mantine/core/Card";const $i=Hi;function Wi(e,t,n){(0,r.useEffect)((()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n))),[e,t])}const Ui=e=>e<.5?2*e*e:(4-2*e)*e-1;function Vi(){let{duration:e=1250,axis:t="y",onScrollFinish:n,easing:i=Ui,offset:a=0,cancelable:s=!0,isList:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=(0,r.useRef)(0),c=(0,r.useRef)(0),d=(0,r.useRef)(!1),u=(0,r.useRef)(null),h=(0,r.useRef)(null),f=jr(),p=()=>{l.current&&cancelAnimationFrame(l.current)},m=(0,r.useCallback)((function(){let{alignment:r="start"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;d.current=!1,l.current&&p();const m=null!=(s=(e=>{let{axis:t,parent:n}=e;if(!n&&"undefined"===typeof document)return 0;const r="y"===t?"scrollTop":"scrollLeft";if(n)return n[r];const{body:i,documentElement:a}=document;return i[r]+a[r]})({parent:u.current,axis:t}))?s:0,g=(e=>{let{axis:t,target:n,parent:r,alignment:i,offset:a,isList:s}=e;if(!n||!r&&"undefined"===typeof document)return 0;const o=!!r,l=(r||document.body).getBoundingClientRect(),c=n.getBoundingClientRect(),d=e=>c[e]-l[e];if("y"===t){const e=d("top");if(0===e)return 0;if("start"===i){const t=e-a;return t<=c.height*(s?0:1)||!s?t:0}const t=o?l.height:window.innerHeight;if("end"===i){const n=e+a-t+c.height;return n>=-c.height*(s?0:1)||!s?n:0}return"center"===i?e-t/2+c.height/2:0}if("x"===t){const e=d("left");if(0===e)return 0;if("start"===i){const t=e-a;return t<=c.width||!s?t:0}const t=o?l.width:window.innerWidth;if("end"===i){const n=e+a-t+c.width;return n>=-c.width||!s?n:0}return"center"===i?e-t/2+c.width/2:0}return 0})({parent:u.current,target:h.current,axis:t,alignment:r,offset:a,isList:o})-(u.current?0:m);!function r(){0===c.current&&(c.current=performance.now());const a=performance.now()-c.current,s=f||0===e?1:a/e,o=m+g*i(s);(e=>{let{axis:t,parent:n,distance:r}=e;if(!n&&"undefined"===typeof document)return;const i="y"===t?"scrollTop":"scrollLeft";if(n)n[i]=r;else{const{body:e,documentElement:t}=document;e[i]=r,t[i]=r}})({parent:u.current,axis:t,distance:o}),!d.current&&s<1?l.current=requestAnimationFrame(r):("function"===typeof n&&n(),c.current=0,l.current=0,p())}()}),[t,e,i,o,a,n,f]),g=()=>{s&&(d.current=!0)};return Wi("wheel",g,{passive:!0}),Wi("touchmove",g,{passive:!0}),(0,r.useEffect)((()=>p),[]),{scrollableRef:u,targetRef:h,scrollIntoView:m,cancel:p}}function qi(e,t){const n=(0,r.useRef)(!1);(0,r.useEffect)((()=>()=>{n.current=!1}),[]),(0,r.useEffect)((()=>{if(n.current)return e();n.current=!0}),t)}const Gi={app:100,modal:200,popover:300,overlay:400,max:9999};function Xi(e){return Gi[e]}function Yi(e){let{data:t}=e;const n=[],r=[],i=t.reduce(((e,t,n)=>(t.group?e[t.group]?e[t.group].push(n):e[t.group]=[n]:r.push(n),e)),{});return Object.keys(i).forEach((e=>{n.push(...i[e].map((e=>t[e])))})),n.push(...r.map((e=>t[e]))),n}function Ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"===typeof e?e(t):null!==e&&void 0!==e&&(e.current=t)}(t,e)))}function Qi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(Ki(...t),t)}const Ji=(0,r.forwardRef)(((e,t)=>{const{children:n,...i}=e,a=r.Children.toArray(n),s=a.find(ta);if(s){const e=s.props.children,n=a.map((t=>t===s?r.Children.count(e)>1?r.Children.only(null):(0,r.isValidElement)(e)?e.props.children:null:t));return(0,r.createElement)(Zi,le({},i,{ref:t}),(0,r.isValidElement)(e)?(0,r.cloneElement)(e,void 0,n):null)}return(0,r.createElement)(Zi,le({},i,{ref:t}),n)}));Ji.displayName="Slot";const Zi=(0,r.forwardRef)(((e,t)=>{const{children:n,...i}=e;return(0,r.isValidElement)(n)?(0,r.cloneElement)(n,{...na(i,n.props),ref:Ki(t,n.ref)}):r.Children.count(n)>1?r.Children.only(null):null}));Zi.displayName="SlotClone";const ea=e=>{let{children:t}=e;return(0,r.createElement)(r.Fragment,null,t)};function ta(e){return(0,r.isValidElement)(e)&&e.type===ea}function na(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){a(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}const ra=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,r.forwardRef)(((e,n)=>{const{asChild:i,...a}=e,s=i?Ji:t;return(0,r.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,r.createElement)(s,le({},a,{ref:n}))}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});const ia=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:()=>{};const aa=e=>{const{present:t,children:n}=e,i=function(e){const[t,n]=(0,r.useState)(),i=(0,r.useRef)({}),s=(0,r.useRef)(e),o=(0,r.useRef)("none"),l=e?"mounted":"unmounted",[c,d]=function(e,t){return(0,r.useReducer)(((e,n)=>{const r=t[e][n];return null!==r&&void 0!==r?r:e}),e)}(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)((()=>{const e=sa(i.current);o.current="mounted"===c?e:"none"}),[c]),ia((()=>{const t=i.current,n=s.current;if(n!==e){const r=o.current,i=sa(t);if(e)d("MOUNT");else if("none"===i||"none"===(null===t||void 0===t?void 0:t.display))d("UNMOUNT");else{d(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}s.current=e}}),[e,d]),ia((()=>{if(t){const e=e=>{const n=sa(i.current).includes(e.animationName);e.target===t&&n&&(0,a.flushSync)((()=>d("ANIMATION_END")))},n=e=>{e.target===t&&(o.current=sa(i.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}d("ANIMATION_END")}),[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:(0,r.useCallback)((e=>{e&&(i.current=getComputedStyle(e)),n(e)}),[])}}(t),s="function"===typeof n?n({present:i.isPresent}):r.Children.only(n),o=Qi(i.ref,s.ref);return"function"===typeof n||i.isPresent?(0,r.cloneElement)(s,{ref:o}):null};function sa(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}function oa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t[0];if(1===t.length)return i;const a=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:r,scopeName:i}=n;return{...e,...r(t)[`__scope${i}`]}}),{});return(0,r.useMemo)((()=>({[`__scope${i.scopeName}`]:n})),[n])}};return a.scopeName=i.scopeName,a}function la(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),(0,r.useMemo)((()=>function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call(t,...r)}),[])}aa.displayName="Presence";const ca=(0,r.createContext)(void 0);function da(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null===e||void 0===e||e(r),!1===n||!r.defaultPrevented)return null===t||void 0===t?void 0:t(r)}}const ua="ScrollArea",[ha,fa]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const i=()=>{const t=n.map((e=>(0,r.createContext)(e)));return function(n){const i=(null===n||void 0===n?void 0:n[e])||t;return(0,r.useMemo)((()=>({[`__scope${e}`]:{...n,[e]:i}})),[n,i])}};return i.scopeName=e,[function(t,i){const a=(0,r.createContext)(i),s=n.length;function o(t){const{scope:n,children:i,...o}=t,l=(null===n||void 0===n?void 0:n[e][s])||a,c=(0,r.useMemo)((()=>o),Object.values(o));return(0,r.createElement)(l.Provider,{value:c},i)}return n=[...n,i],o.displayName=t+"Provider",[o,function(n,o){const l=(null===o||void 0===o?void 0:o[e][s])||a,c=(0,r.useContext)(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},oa(i,...t)]}(ua),[pa,ma]=ha(ua),ga=(0,r.forwardRef)(((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),[g,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(0),[w,x]=(0,r.useState)(0),[S,A]=(0,r.useState)(!1),[E,k]=(0,r.useState)(!1),C=Qi(t,(e=>c(e))),_=function(e){const t=(0,r.useContext)(ca);return e||t||"ltr"}(a);return(0,r.createElement)(pa,{scope:n,type:i,dir:_,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:x},(0,r.createElement)(ra.div,le({dir:_},o,{ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})))})),ba="ScrollAreaViewport",va=(0,r.forwardRef)(((e,t)=>{const{__scopeScrollArea:n,children:i,...a}=e,s=ma(ba,n),o=Qi(t,(0,r.useRef)(null),s.onViewportChange);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,r.createElement)(ra.div,le({"data-radix-scroll-area-viewport":""},a,{ref:o,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,r.createElement)("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"}},i)))})),ya="ScrollAreaScrollbar",wa=(0,r.forwardRef)(((e,t)=>{const{forceMount:n,...i}=e,a=ma(ya,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l="horizontal"===e.orientation;return(0,r.useEffect)((()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)})),[l,s,o]),"hover"===a.type?(0,r.createElement)(xa,le({},i,{ref:t,forceMount:n})):"scroll"===a.type?(0,r.createElement)(Sa,le({},i,{ref:t,forceMount:n})):"auto"===a.type?(0,r.createElement)(Aa,le({},i,{ref:t,forceMount:n})):"always"===a.type?(0,r.createElement)(Ea,le({},i,{ref:t})):null})),xa=(0,r.forwardRef)(((e,t)=>{const{forceMount:n,...i}=e,a=ma(ya,e.__scopeScrollArea),[s,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=a.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),o(!0)},r=()=>{t=window.setTimeout((()=>o(!1)),a.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}}),[a.scrollArea,a.scrollHideDelay]),(0,r.createElement)(aa,{present:n||s},(0,r.createElement)(Aa,le({"data-state":s?"visible":"hidden"},i,{ref:t})))})),Sa=(0,r.forwardRef)(((e,t)=>{const{forceMount:n,...i}=e,a=ma(ya,e.__scopeScrollArea),s="horizontal"===e.orientation,o=Wa((()=>c("SCROLL_END")),100),[l,c]=(d="hidden",u={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},(0,r.useReducer)(((e,t)=>{const n=u[e][t];return null!==n&&void 0!==n?n:e}),d));var d,u;return(0,r.useEffect)((()=>{if("idle"===l){const e=window.setTimeout((()=>c("HIDE")),a.scrollHideDelay);return()=>window.clearTimeout(e)}}),[l,a.scrollHideDelay,c]),(0,r.useEffect)((()=>{const e=a.viewport,t=s?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(c("SCROLL"),o()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}}),[a.viewport,s,c,o]),(0,r.createElement)(aa,{present:n||"hidden"!==l},(0,r.createElement)(Ea,le({"data-state":"hidden"===l?"hidden":"visible"},i,{ref:t,onPointerEnter:da(e.onPointerEnter,(()=>c("POINTER_ENTER"))),onPointerLeave:da(e.onPointerLeave,(()=>c("POINTER_LEAVE")))})))})),Aa=(0,r.forwardRef)(((e,t)=>{const n=ma(ya,e.__scopeScrollArea),{forceMount:i,...a}=e,[s,o]=(0,r.useState)(!1),l="horizontal"===e.orientation,c=Wa((()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?e:t)}}),10);return Ua(n.viewport,c),Ua(n.content,c),(0,r.createElement)(aa,{present:i||s},(0,r.createElement)(Ea,le({"data-state":s?"visible":"hidden"},a,{ref:t})))})),Ea=(0,r.forwardRef)(((e,t)=>{const{orientation:n="vertical",...i}=e,a=ma(ya,e.__scopeScrollArea),s=(0,r.useRef)(null),o=(0,r.useRef)(0),[l,c]=(0,r.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=za(l.viewport,l.content),u={...i,sizes:l,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>s.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ltr";const i=Fa(n),a=i/2,s=t||a,o=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,u="ltr"===r?[0,d]:[-1*d,0];return Ba([l,c],u)(e)}(e,o.current,l,t)}return"horizontal"===n?(0,r.createElement)(ka,le({},u,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const e=ja(a.viewport.scrollLeft,l,a.dir);s.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=h(e,a.dir))}})):"vertical"===n?(0,r.createElement)(Ca,le({},u,{ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const e=ja(a.viewport.scrollTop,l);s.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=h(e))}})):null})),ka=(0,r.forwardRef)(((e,t)=>{const{sizes:n,onSizesChange:i,...a}=e,s=ma(ya,e.__scopeScrollArea),[o,l]=(0,r.useState)(),c=(0,r.useRef)(null),d=Qi(t,c,s.onScrollbarXChange);return(0,r.useEffect)((()=>{c.current&&l(getComputedStyle(c.current))}),[c]),(0,r.createElement)(Pa,le({"data-orientation":"horizontal"},a,{ref:d,sizes:n,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fa(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(s.viewport){const r=s.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),Ha(r,n)&&t.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Na(o.paddingLeft),paddingEnd:Na(o.paddingRight)}})}}))})),Ca=(0,r.forwardRef)(((e,t)=>{const{sizes:n,onSizesChange:i,...a}=e,s=ma(ya,e.__scopeScrollArea),[o,l]=(0,r.useState)(),c=(0,r.useRef)(null),d=Qi(t,c,s.onScrollbarYChange);return(0,r.useEffect)((()=>{c.current&&l(getComputedStyle(c.current))}),[c]),(0,r.createElement)(Pa,le({"data-orientation":"vertical"},a,{ref:d,sizes:n,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fa(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(s.viewport){const r=s.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),Ha(r,n)&&t.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Na(o.paddingTop),paddingEnd:Na(o.paddingBottom)}})}}))})),[_a,Ta]=ha(ya),Pa=(0,r.forwardRef)(((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,p=ma(ya,n),[m,g]=(0,r.useState)(null),b=Qi(t,(e=>g(e))),v=(0,r.useRef)(null),y=(0,r.useRef)(""),w=p.viewport,x=i.content-i.viewport,S=la(u),A=la(c),E=Wa(h,10);function k(e){if(v.current){const t=e.clientX-v.current.left,n=e.clientY-v.current.top;d({x:t,y:n})}}return(0,r.useEffect)((()=>{const e=e=>{const t=e.target;(null===m||void 0===m?void 0:m.contains(t))&&S(e,x)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[w,m,x,S]),(0,r.useEffect)(A,[i,A]),Ua(m,E),Ua(p.content,E),(0,r.createElement)(_a,{scope:n,scrollbar:m,hasThumb:a,onThumbChange:la(s),onThumbPointerUp:la(o),onThumbPositionChange:A,onThumbPointerDown:la(l)},(0,r.createElement)(ra.div,le({},f,{ref:b,style:{position:"absolute",...f.style},onPointerDown:da(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),v.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k(e)}})),onPointerMove:da(e.onPointerMove,k),onPointerUp:da(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,v.current=null}))})))})),Oa="ScrollAreaThumb",Ma=(0,r.forwardRef)(((e,t)=>{const{forceMount:n,...i}=e,a=Ta(Oa,e.__scopeScrollArea);return(0,r.createElement)(aa,{present:n||a.hasThumb},(0,r.createElement)(Ra,le({ref:t},i)))})),Ra=(0,r.forwardRef)(((e,t)=>{const{__scopeScrollArea:n,style:i,...a}=e,s=ma(Oa,n),o=Ta(Oa,n),{onThumbPositionChange:l}=o,c=Qi(t,(e=>o.onThumbChange(e))),d=(0,r.useRef)(),u=Wa((()=>{d.current&&(d.current(),d.current=void 0)}),100);return(0,r.useEffect)((()=>{const e=s.viewport;if(e){const t=()=>{if(u(),!d.current){const t=$a(e,l);d.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[s.viewport,u,l]),(0,r.createElement)(ra.div,le({"data-state":o.hasThumb?"visible":"hidden"},a,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:da(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;o.onThumbPointerDown({x:n,y:r})})),onPointerUp:da(e.onPointerUp,o.onThumbPointerUp)}))})),Ia="ScrollAreaCorner",La=(0,r.forwardRef)(((e,t)=>{const n=ma(Ia,e.__scopeScrollArea),i=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&i?(0,r.createElement)(Da,le({},e,{ref:t})):null})),Da=(0,r.forwardRef)(((e,t)=>{const{__scopeScrollArea:n,...i}=e,a=ma(Ia,n),[s,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(0),d=Boolean(s&&l);return Ua(a.scrollbarX,(()=>{var e;const t=(null===(e=a.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),c(t)})),Ua(a.scrollbarY,(()=>{var e;const t=(null===(e=a.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),o(t)})),d?(0,r.createElement)(ra.div,le({},i,{ref:t,style:{width:s,height:l,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}})):null}));function Na(e){return e?parseInt(e,10):0}function za(e,t){const n=e/t;return isNaN(n)?0:n}function Fa(e){const t=za(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ja(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr";const r=Fa(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,o=a-r,l=function(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}(e,"ltr"===n?[0,s]:[-1*s,0]);return Ba([0,s],[0,o])(l)}function Ba(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ha(e,t){return e>0&&e<t}const $a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=n.left!==a.left,o=n.top!==a.top;(s||o)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Wa(e,t){const n=la(e),i=(0,r.useRef)(0);return(0,r.useEffect)((()=>()=>window.clearTimeout(i.current)),[]),(0,r.useCallback)((()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)}),[n,t])}function Ua(e,t){const n=la(t);ia((()=>{let t=0;if(e){const r=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)}));return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}}),[e,n])}const Va=ga,qa=va,Ga=wa,Xa=Ma,Ya=La;function Ka(e){return Array.isArray(e)?e:[e]}var Qa=cn(((e,t,n)=>{let{scrollbarSize:r,offsetScrollbars:i,scrollbarHovered:a,hidden:s}=t;return{root:{overflow:"hidden"},viewport:{width:"100%",height:"100%",paddingRight:i?r:void 0,paddingBottom:i?r:void 0},scrollbar:{display:s?"none":"flex",userSelect:"none",touchAction:"none",boxSizing:"border-box",padding:r/5,transition:"background-color 150ms ease, opacity 150ms ease","&:hover":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[0],[`& .${n("thumb")}`]:{backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.white,.5):e.fn.rgba(e.black,.5)}},'&[data-orientation="vertical"]':{width:r},'&[data-orientation="horizontal"]':{flexDirection:"column",height:r},'&[data-state="hidden"]':{display:"none",opacity:0}},thumb:{ref:n("thumb"),flex:1,backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.white,.4):e.fn.rgba(e.black,.4),borderRadius:r,position:"relative",transition:"background-color 150ms ease",display:s?"none":void 0,overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",minWidth:44,minHeight:44}},corner:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0],transition:"opacity 150ms ease",opacity:a?1:0,display:s?"none":void 0}}}));const Ja=Qa;var Za=Object.defineProperty,es=Object.defineProperties,ts=Object.getOwnPropertyDescriptors,ns=Object.getOwnPropertySymbols,rs=Object.prototype.hasOwnProperty,is=Object.prototype.propertyIsEnumerable,as=(e,t,n)=>t in e?Za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ss=(e,t)=>{for(var n in t||(t={}))rs.call(t,n)&&as(e,n,t[n]);if(ns)for(var n of ns(t))is.call(t,n)&&as(e,n,t[n]);return e},os=(e,t)=>es(e,ts(t)),ls=(e,t)=>{var n={};for(var r in e)rs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ns)for(var r of ns(e))t.indexOf(r)<0&&is.call(e,r)&&(n[r]=e[r]);return n};const cs={scrollbarSize:12,scrollHideDelay:1e3,type:"hover",offsetScrollbars:!1},ds=(0,r.forwardRef)(((e,t)=>{const n=jt("ScrollArea",cs,e),{children:i,className:a,classNames:s,styles:o,scrollbarSize:l,scrollHideDelay:c,type:d,dir:u,offsetScrollbars:h,viewportRef:f,onScrollPositionChange:p,unstyled:m,viewportProps:g}=n,b=ls(n,["children","className","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","viewportProps"]),[v,y]=(0,r.useState)(!1),w=zt(),{classes:x,cx:S}=Ja({scrollbarSize:l,offsetScrollbars:h,scrollbarHovered:v,hidden:"never"===d},{name:"ScrollArea",classNames:s,styles:o,unstyled:m});return r.createElement(Va,{type:"never"===d?"always":d,scrollHideDelay:c,dir:u||w.dir,ref:t,asChild:!0},r.createElement(Nn,ss({className:S(x.root,a)},b),r.createElement(qa,os(ss({},g),{className:x.viewport,ref:f,onScroll:"function"===typeof p?e=>{let{currentTarget:t}=e;return p({x:t.scrollLeft,y:t.scrollTop})}:void 0}),i),r.createElement(Ga,{orientation:"horizontal",className:x.scrollbar,forceMount:!0,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},r.createElement(Xa,{className:x.thumb})),r.createElement(Ga,{orientation:"vertical",className:x.scrollbar,forceMount:!0,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},r.createElement(Xa,{className:x.thumb})),r.createElement(Ya,{className:x.corner})))})),us=(0,r.forwardRef)(((e,t)=>{const n=jt("ScrollAreaAutosize",cs,e),{maxHeight:i,children:a,classNames:s,styles:o,scrollbarSize:l,scrollHideDelay:c,type:d,dir:u,offsetScrollbars:h,viewportRef:f,onScrollPositionChange:p,unstyled:m,sx:g}=n,b=ls(n,["maxHeight","children","classNames","styles","scrollbarSize","scrollHideDelay","type","dir","offsetScrollbars","viewportRef","onScrollPositionChange","unstyled","sx"]);return r.createElement(Nn,os(ss({},b),{ref:t,sx:[{display:"flex",maxHeight:i},...Ka(g)]}),r.createElement(Nn,{sx:{display:"flex",flexDirection:"column",flex:1}},r.createElement(ds,{classNames:s,styles:o,scrollHideDelay:c,scrollbarSize:l,type:d,dir:u,offsetScrollbars:h,viewportRef:f,onScrollPositionChange:p,unstyled:m},a)))}));us.displayName="@mantine/core/ScrollAreaAutosize",ds.displayName="@mantine/core/ScrollArea",ds.Autosize=us;const hs=ds;var fs=Object.defineProperty,ps=Object.defineProperties,ms=Object.getOwnPropertyDescriptors,gs=Object.getOwnPropertySymbols,bs=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,ys=(e,t,n)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ws=(e,t)=>{for(var n in t||(t={}))bs.call(t,n)&&ys(e,n,t[n]);if(gs)for(var n of gs(t))vs.call(t,n)&&ys(e,n,t[n]);return e};const xs=(0,r.forwardRef)(((e,t)=>{var n,i,a=e,{style:s}=a,o=((e,t)=>{var n={};for(var r in e)bs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gs)for(var r of gs(e))t.indexOf(r)<0&&vs.call(e,r)&&(n[r]=e[r]);return n})(a,["style"]);return r.createElement(hs,(n=ws({},o),i={style:ws({width:"100%"},s),viewportRef:t},ps(n,ms(i))),o.children)}));xs.displayName="@mantine/core/SelectScrollArea";var Ss=Object.defineProperty,As=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable,Cs=(e,t,n)=>t in e?Ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _s=(0,r.forwardRef)(((e,t)=>{var n=e,{label:i,value:a}=n,s=((e,t)=>{var n={};for(var r in e)Es.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&As)for(var r of As(e))t.indexOf(r)<0&&ks.call(e,r)&&(n[r]=e[r]);return n})(n,["label","value"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))Es.call(t,n)&&Cs(e,n,t[n]);if(As)for(var n of As(t))ks.call(t,n)&&Cs(e,n,t[n]);return e})({ref:t},s),i||a)}));_s.displayName="@mantine/core/DefaultItem";var Ts=Object.defineProperty,Ps=Object.getOwnPropertySymbols,Os=Object.prototype.hasOwnProperty,Ms=Object.prototype.propertyIsEnumerable,Rs=(e,t,n)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Is=(e,t)=>{for(var n in t||(t={}))Os.call(t,n)&&Rs(e,n,t[n]);if(Ps)for(var n of Ps(t))Ms.call(t,n)&&Rs(e,n,t[n]);return e},Ls=(e,t)=>{var n={};for(var r in e)Os.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ps)for(var r of Ps(e))t.indexOf(r)<0&&Ms.call(e,r)&&(n[r]=e[r]);return n};const Ds={xs:14,sm:18,md:20,lg:24,xl:28};function Ns(e){var t=e,{size:n,error:i,style:a}=t,s=Ls(t,["size","error","style"]);const o=zt(),l=o.fn.size({size:n,sizes:Ds});return r.createElement("svg",Is({width:l,height:l,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Is({color:i?o.colors.red[6]:o.colors.gray[6]},a),"data-chevron":!0},s),r.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var zs=Object.defineProperty,Fs=Object.defineProperties,js=Object.getOwnPropertyDescriptors,Bs=Object.getOwnPropertySymbols,Hs=Object.prototype.hasOwnProperty,$s=Object.prototype.propertyIsEnumerable,Ws=(e,t,n)=>t in e?zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Us=(e,t)=>{for(var n in t||(t={}))Hs.call(t,n)&&Ws(e,n,t[n]);if(Bs)for(var n of Bs(t))$s.call(t,n)&&Ws(e,n,t[n]);return e};const Vs={xs:18,sm:22,md:28,lg:34,xl:44};function qs(e){let{variant:t,theme:n,color:r,gradient:i}=e;const a=n.fn.variant({color:r,variant:t,gradient:i});return"gradient"===t?{border:0,backgroundImage:a.background,color:a.color,"&:hover":n.fn.hover({backgroundSize:"200%"})}:Us({border:`1px solid ${a.border}`,backgroundColor:a.background,color:a.color},n.fn.hover({backgroundColor:a.hover}))}var Gs=cn(((e,t)=>{let{color:n,size:r,radius:i,variant:a,gradient:s}=t;return{root:(o=Us({},qs({variant:a,theme:e,color:n,gradient:s})),l={position:"relative",height:e.fn.size({size:r,sizes:Vs}),minHeight:e.fn.size({size:r,sizes:Vs}),width:e.fn.size({size:r,sizes:Vs}),minWidth:e.fn.size({size:r,sizes:Vs}),borderRadius:e.fn.radius(i),padding:0,lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center","&:active":e.activeStyles,"&:disabled, &[data-disabled]":{color:e.colors.gray["dark"===e.colorScheme?6:4],cursor:"not-allowed",backgroundColor:"transparent"===a?void 0:e.fn.themeColor("gray","dark"===e.colorScheme?8:1),borderColor:"transparent"===a?void 0:e.fn.themeColor("gray","dark"===e.colorScheme?8:1),backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(i),cursor:"not-allowed"}}},Fs(o,js(l)))};var o,l}));const Xs=Gs;var Ys=Object.defineProperty,Ks=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,Js=Object.prototype.propertyIsEnumerable,Zs=(e,t,n)=>t in e?Ys(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var eo=Object.defineProperty,to=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,io=(e,t,n)=>t in e?eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ao=Object.defineProperty,so=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,lo=Object.prototype.propertyIsEnumerable,co=(e,t,n)=>t in e?ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var uo=Object.defineProperty,ho=Object.getOwnPropertySymbols,fo=Object.prototype.hasOwnProperty,po=Object.prototype.propertyIsEnumerable,mo=(e,t,n)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const go={bars:function(e){var t=e,{size:n,color:i}=t,a=((e,t)=>{var n={};for(var r in e)Qs.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ks)for(var r of Ks(e))t.indexOf(r)<0&&Js.call(e,r)&&(n[r]=e[r]);return n})(t,["size","color"]);return r.createElement("svg",((e,t)=>{for(var n in t||(t={}))Qs.call(t,n)&&Zs(e,n,t[n]);if(Ks)for(var n of Ks(t))Js.call(t,n)&&Zs(e,n,t[n]);return e})({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:i,width:`${n}px`},a),r.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},r.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),r.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},r.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),r.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},r.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),r.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},r.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),r.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},r.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))},oval:function(e){var t=e,{size:n,color:i}=t,a=((e,t)=>{var n={};for(var r in e)no.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&to)for(var r of to(e))t.indexOf(r)<0&&ro.call(e,r)&&(n[r]=e[r]);return n})(t,["size","color"]);return r.createElement("svg",((e,t)=>{for(var n in t||(t={}))no.call(t,n)&&io(e,n,t[n]);if(to)for(var n of to(t))ro.call(t,n)&&io(e,n,t[n]);return e})({width:`${n}px`,height:`${n}px`,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:i},a),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},r.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),r.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))},dots:function(e){var t=e,{size:n,color:i}=t,a=((e,t)=>{var n={};for(var r in e)oo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&so)for(var r of so(e))t.indexOf(r)<0&&lo.call(e,r)&&(n[r]=e[r]);return n})(t,["size","color"]);return r.createElement("svg",((e,t)=>{for(var n in t||(t={}))oo.call(t,n)&&co(e,n,t[n]);if(so)for(var n of so(t))lo.call(t,n)&&co(e,n,t[n]);return e})({width:`${n}px`,height:n/4+"px",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:i},a),r.createElement("circle",{cx:"15",cy:"15",r:"15"},r.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),r.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},r.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),r.createElement("circle",{cx:"105",cy:"15",r:"15"},r.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),r.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}},bo={xs:18,sm:22,md:36,lg:44,xl:58},vo={size:"md"};function yo(e){const t=jt("Loader",vo,e),{size:n,color:i,variant:a}=t,s=((e,t)=>{var n={};for(var r in e)fo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ho)for(var r of ho(e))t.indexOf(r)<0&&po.call(e,r)&&(n[r]=e[r]);return n})(t,["size","color","variant"]),o=zt(),l=a in go?a:o.loader;return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))fo.call(t,n)&&mo(e,n,t[n]);if(ho)for(var n of ho(t))po.call(t,n)&&mo(e,n,t[n]);return e})({role:"presentation",component:go[l]||go.bars,size:o.fn.size({size:n,sizes:bo}),color:o.fn.variant({variant:"filled",primaryFallback:!1,color:i||o.primaryColor}).background},s))}yo.displayName="@mantine/core/Loader";var wo=Object.defineProperty,xo=Object.defineProperties,So=Object.getOwnPropertyDescriptors,Ao=Object.getOwnPropertySymbols,Eo=Object.prototype.hasOwnProperty,ko=Object.prototype.propertyIsEnumerable,Co=(e,t,n)=>t in e?wo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_o=(e,t)=>{for(var n in t||(t={}))Eo.call(t,n)&&Co(e,n,t[n]);if(Ao)for(var n of Ao(t))ko.call(t,n)&&Co(e,n,t[n]);return e};const To=cn((e=>{return{root:(t=_o(_o({},e.fn.focusStyles()),e.fn.fontStyles()),n={cursor:"pointer",border:0,padding:0,appearance:"none",fontSize:e.fontSizes.md,backgroundColor:"transparent",textAlign:"left",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,textDecoration:"none",boxSizing:"border-box"},xo(t,So(n)))};var t,n}));var Po=Object.defineProperty,Oo=Object.getOwnPropertySymbols,Mo=Object.prototype.hasOwnProperty,Ro=Object.prototype.propertyIsEnumerable,Io=(e,t,n)=>t in e?Po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Lo=(0,r.forwardRef)(((e,t)=>{const n=jt("UnstyledButton",{},e),{className:i,component:a="button",unstyled:s}=n,o=((e,t)=>{var n={};for(var r in e)Mo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Oo)for(var r of Oo(e))t.indexOf(r)<0&&Ro.call(e,r)&&(n[r]=e[r]);return n})(n,["className","component","unstyled"]),{classes:l,cx:c}=To(null,{name:"UnstyledButton",unstyled:s});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))Mo.call(t,n)&&Io(e,n,t[n]);if(Oo)for(var n of Oo(t))Ro.call(t,n)&&Io(e,n,t[n]);return e})({component:a,ref:t,className:c(l.root,i),type:"button"===a?"button":void 0},o))}));Lo.displayName="@mantine/core/UnstyledButton";const Do=Lo;var No=Object.defineProperty,zo=Object.getOwnPropertySymbols,Fo=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Bo=(e,t,n)=>t in e?No(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ho=(e,t)=>{for(var n in t||(t={}))Fo.call(t,n)&&Bo(e,n,t[n]);if(zo)for(var n of zo(t))jo.call(t,n)&&Bo(e,n,t[n]);return e};const $o={color:"gray",size:"md",variant:"subtle",loading:!1},Wo=(0,r.forwardRef)(((e,t)=>{const n=jt("ActionIcon",$o,e),{className:i,color:a,children:s,radius:o,size:l,variant:c,gradient:d,disabled:u,loaderProps:h,loading:f,unstyled:p}=n,m=((e,t)=>{var n={};for(var r in e)Fo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&zo)for(var r of zo(e))t.indexOf(r)<0&&jo.call(e,r)&&(n[r]=e[r]);return n})(n,["className","color","children","radius","size","variant","gradient","disabled","loaderProps","loading","unstyled"]),{classes:g,cx:b,theme:v}=Xs({size:l,radius:o,color:a,variant:c,gradient:d},{name:"ActionIcon",unstyled:p}),y=v.fn.variant({color:a,variant:c}),w=r.createElement(yo,Ho({color:y.color,size:v.fn.size({size:l,sizes:Vs})-12},h));return r.createElement(Do,Ho({className:b(g.root,i),ref:t,disabled:u,"data-disabled":u||void 0,"data-loading":f||void 0,unstyled:p},m),f?w:s)}));Wo.displayName="@mantine/core/ActionIcon";const Uo=Wo;var Vo=Object.defineProperty,qo=Object.getOwnPropertySymbols,Go=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,Yo=(e,t,n)=>t in e?Vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Ko(e){return r.createElement("svg",((e,t)=>{for(var n in t||(t={}))Go.call(t,n)&&Yo(e,n,t[n]);if(qo)for(var n of qo(t))Xo.call(t,n)&&Yo(e,n,t[n]);return e})({viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}Ko.displayName="@mantine/core/CloseIcon";var Qo=Object.defineProperty,Jo=Object.getOwnPropertySymbols,Zo=Object.prototype.hasOwnProperty,el=Object.prototype.propertyIsEnumerable,tl=(e,t,n)=>t in e?Qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const nl={xs:12,sm:14,md:16,lg:20,xl:24},rl={size:"md"},il=(0,r.forwardRef)(((e,t)=>{const n=jt("CloseButton",rl,e),{iconSize:i,size:a="md"}=n,s=((e,t)=>{var n={};for(var r in e)Zo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jo)for(var r of Jo(e))t.indexOf(r)<0&&el.call(e,r)&&(n[r]=e[r]);return n})(n,["iconSize","size"]),o=zt(),l=i||o.fn.size({size:a,sizes:nl});return r.createElement(Uo,((e,t)=>{for(var n in t||(t={}))Zo.call(t,n)&&tl(e,n,t[n]);if(Jo)for(var n of Jo(t))el.call(t,n)&&tl(e,n,t[n]);return e})({size:a,ref:t},s),r.createElement(Ko,{width:l,height:l}))}));il.displayName="@mantine/core/CloseButton";const al=il;function sl(e){let{shouldClear:t,clearButtonLabel:n,onClear:i,size:a,error:s,clearButtonTabIndex:o}=e;return t?r.createElement(al,{variant:"transparent","aria-label":n,onClick:i,size:a,tabIndex:o,onMouseDown:e=>e.preventDefault()}):r.createElement(Ns,{error:s,size:a})}sl.displayName="@mantine/core/SelectRightSection";var ol=Object.defineProperty,ll=Object.defineProperties,cl=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,ul=Object.prototype.hasOwnProperty,hl=Object.prototype.propertyIsEnumerable,fl=(e,t,n)=>t in e?ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pl=(e,t)=>{for(var n in t||(t={}))ul.call(t,n)&&fl(e,n,t[n]);if(dl)for(var n of dl(t))hl.call(t,n)&&fl(e,n,t[n]);return e},ml=(e,t)=>ll(e,cl(t));const gl={xs:24,sm:30,md:34,lg:44,xl:54};function bl(e){var t=e,{styles:n,rightSection:i,rightSectionWidth:a,theme:s}=t,o=((e,t)=>{var n={};for(var r in e)ul.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dl)for(var r of dl(e))t.indexOf(r)<0&&hl.call(e,r)&&(n[r]=e[r]);return n})(t,["styles","rightSection","rightSectionWidth","theme"]);if(i)return{rightSection:i,rightSectionWidth:a,styles:n};const l="function"===typeof n?n(s):n;return{rightSectionWidth:s.fn.size({size:o.size,sizes:gl}),rightSection:!o.readOnly&&!(o.disabled&&o.shouldClear)&&r.createElement(sl,pl({},o)),styles:ml(pl({},l),{rightSection:ml(pl({},null==l?void 0:l.rightSection),{pointerEvents:o.shouldClear?void 0:"none"})})}}const vl={xs:1,sm:2,md:3,lg:4,xl:5};function yl(e,t){const n=e.fn.variant({variant:"outline",color:t}).border;return"string"===typeof t&&(t in e.colors||t.split(".")[0]in e.colors)?n:void 0===t?"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]:t}var wl=cn(((e,t)=>{let{size:n,variant:r,color:i}=t;return{root:{},withLabel:{borderTop:"0 !important"},left:{"&::before":{display:"none"}},right:{"&::after":{display:"none"}},label:{display:"flex",alignItems:"center","&::before":{content:'""',flex:1,height:1,borderTop:`${e.fn.size({size:n,sizes:vl})}px ${r} ${yl(e,i)}`,marginRight:e.spacing.xs},"&::after":{content:'""',flex:1,borderTop:`${e.fn.size({size:n,sizes:vl})}px ${r} ${yl(e,i)}`,marginLeft:e.spacing.xs}},labelDefaultStyles:{color:"dark"===i?e.colors.dark[1]:e.fn.themeColor(i,"dark"===e.colorScheme?5:e.fn.primaryShade(),!1)},horizontal:{border:0,borderTopWidth:e.fn.size({size:n,sizes:vl}),borderTopColor:yl(e,i),borderTopStyle:r,margin:0},vertical:{border:0,alignSelf:"stretch",height:"auto",borderLeftWidth:e.fn.size({size:n,sizes:vl}),borderLeftColor:yl(e,i),borderLeftStyle:r}}}));const xl=wl;var Sl=Object.defineProperty,Al=Object.defineProperties,El=Object.getOwnPropertyDescriptors,kl=Object.getOwnPropertySymbols,Cl=Object.prototype.hasOwnProperty,_l=Object.prototype.propertyIsEnumerable,Tl=(e,t,n)=>t in e?Sl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pl=(e,t)=>{for(var n in t||(t={}))Cl.call(t,n)&&Tl(e,n,t[n]);if(kl)for(var n of kl(t))_l.call(t,n)&&Tl(e,n,t[n]);return e};const Ol={orientation:"horizontal",size:"xs",labelPosition:"left",variant:"solid"},Ml=(0,r.forwardRef)(((e,t)=>{const n=jt("Divider",Ol,e),{className:i,color:a,orientation:s,size:o,label:l,labelPosition:c,labelProps:d,variant:u,styles:h,classNames:f,unstyled:p}=n,m=((e,t)=>{var n={};for(var r in e)Cl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&kl)for(var r of kl(e))t.indexOf(r)<0&&_l.call(e,r)&&(n[r]=e[r]);return n})(n,["className","color","orientation","size","label","labelPosition","labelProps","variant","styles","classNames","unstyled"]),{classes:g,cx:b}=xl({color:a,size:o,variant:u},{classNames:f,styles:h,unstyled:p,name:"Divider"}),v="vertical"===s,y="horizontal"===s,w=!!l&&y,x=!(null==d?void 0:d.color);return r.createElement(Nn,Pl({ref:t,className:b(g.root,{[g.vertical]:v,[g.horizontal]:y,[g.withLabel]:w},i),role:"separator"},m),w&&r.createElement(Or,(S=Pl({},d),A={size:(null==d?void 0:d.size)||"xs",sx:{marginTop:2},className:b(g.label,g[c],{[g.labelDefaultStyles]:x})},Al(S,El(A))),l));var S,A}));Ml.displayName="@mantine/core/Divider";var Rl=Object.defineProperty,Il=Object.defineProperties,Ll=Object.getOwnPropertyDescriptors,Dl=Object.getOwnPropertySymbols,Nl=Object.prototype.hasOwnProperty,zl=Object.prototype.propertyIsEnumerable,Fl=(e,t,n)=>t in e?Rl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jl=(e,t)=>{for(var n in t||(t={}))Nl.call(t,n)&&Fl(e,n,t[n]);if(Dl)for(var n of Dl(t))zl.call(t,n)&&Fl(e,n,t[n]);return e},Bl=cn(((e,t)=>{let{size:n}=t;return{item:(r=jl({},e.fn.fontStyles()),i={boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:n,sizes:e.spacing})/1.5}px ${e.fn.size({size:n,sizes:e.spacing})}px`,cursor:"pointer",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,borderRadius:e.fn.radius(),"&[data-hovered]":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[1]},"&[data-selected]":jl({backgroundColor:e.fn.variant({variant:"filled"}).background,color:e.fn.variant({variant:"filled"}).color},e.fn.hover({backgroundColor:e.fn.variant({variant:"filled"}).hover})),"&[data-disabled]":{cursor:"default",color:e.colors.dark[2]}},Il(r,Ll(i))),nothingFound:{boxSizing:"border-box",color:e.colors.gray[6],paddingTop:e.fn.size({size:n,sizes:e.spacing})/2,paddingBottom:e.fn.size({size:n,sizes:e.spacing})/2,textAlign:"center"},separator:{boxSizing:"border-box",textAlign:"left",width:"100%",padding:`${e.fn.size({size:n,sizes:e.spacing})/1.5}px ${e.fn.size({size:n,sizes:e.spacing})}px`},separatorLabel:{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]}};var r,i}));const Hl=Bl;var $l=Object.defineProperty,Wl=Object.getOwnPropertySymbols,Ul=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable,ql=(e,t,n)=>t in e?$l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function Gl(e){let{data:t,hovered:n,classNames:i,styles:a,isItemSelected:s,uuid:o,__staticSelector:l,onItemHover:c,onItemSelect:d,itemsRefs:u,itemComponent:h,size:f,nothingFound:p,creatable:m,createLabel:g,unstyled:b}=e;const{classes:v}=Hl({size:f},{classNames:i,styles:a,unstyled:b,name:l}),y=[],w=[];let x=null;const S=(e,t)=>{const i="function"===typeof s&&s(e.value);return r.createElement(h,((e,t)=>{for(var n in t||(t={}))Ul.call(t,n)&&ql(e,n,t[n]);if(Wl)for(var n of Wl(t))Vl.call(t,n)&&ql(e,n,t[n]);return e})({key:e.value,className:v.item,"data-disabled":e.disabled||void 0,"data-hovered":!e.disabled&&n===t||void 0,"data-selected":!e.disabled&&i||void 0,selected:i,onMouseEnter:()=>c(t),id:`${o}-${t}`,role:"option",tabIndex:-1,"aria-selected":n===t,ref:t=>{u&&u.current&&(u.current[e.value]=t)},onMouseDown:e.disabled?null:t=>{t.preventDefault(),d(e)},disabled:e.disabled},e))};let A=null;if(t.forEach(((e,t)=>{e.creatable?x=t:e.group?(A!==e.group&&(A=e.group,w.push(r.createElement("div",{className:v.separator,key:`__mantine-divider-${t}`},r.createElement(Ml,{classNames:{label:v.separatorLabel},label:e.group})))),w.push(S(e,t))):y.push(S(e,t))})),m){const e=t[x];y.push(r.createElement("div",{key:`mantine-${Math.random().toString(36).slice(2,11)}`,className:v.item,"data-hovered":n===x||void 0,onMouseEnter:()=>c(x),onMouseDown:t=>{t.preventDefault(),d(e)},tabIndex:-1,ref:t=>{u&&u.current&&(u.current[e.value]=t)}},g))}return w.length>0&&y.length>0&&y.unshift(r.createElement("div",{className:v.separator,key:"empty-group-separator"},r.createElement(Ml,null))),w.length>0||y.length>0?r.createElement(r.Fragment,null,w,y):r.createElement(Or,{size:f,unstyled:b,className:v.nothingFound},p)}Gl.displayName="@mantine/core/SelectItems";const Xl=cn((()=>({dropdown:{},itemsWrapper:{padding:4,display:"flex",width:"100%",boxSizing:"border-box"}}))),Yl=["mousedown","touchstart"];const Kl=Math.min,Ql=Math.max,Jl=Math.round,Zl=Math.floor,ec=e=>({x:e,y:e}),tc={left:"right",right:"left",bottom:"top",top:"bottom"},nc={start:"end",end:"start"};function rc(e,t,n){return Ql(e,Kl(t,n))}function ic(e,t){return"function"===typeof e?e(t):e}function ac(e){return e.split("-")[0]}function sc(e){return e.split("-")[1]}function oc(e){return"x"===e?"y":"x"}function lc(e){return"y"===e?"height":"width"}function cc(e){return["top","bottom"].includes(ac(e))?"y":"x"}function dc(e){return oc(cc(e))}function uc(e){return e.replace(/start|end/g,(e=>nc[e]))}function hc(e){return e.replace(/left|right|bottom|top/g,(e=>tc[e]))}function fc(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function pc(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function mc(e,t,n){let{reference:r,floating:i}=e;const a=cc(t),s=dc(t),o=lc(s),l=ac(t),c="y"===a,d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:u};break;case"left":f={x:r.x-i.width,y:u};break;default:f={x:r.x,y:r.y}}switch(sc(t)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}async function gc(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=ic(t,e),p=fc(f),m=o[h?"floating"===u?"reference":"floating":u],g=pc(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),b="floating"===u?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),y=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},w=pc(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:v,strategy:l}):b);return{top:(g.top-w.top+p.top)/y.y,bottom:(w.bottom-g.bottom+p.bottom)/y.y,left:(g.left-w.left+p.left)/y.x,right:(w.right-g.right+p.right)/y.x}}function bc(e){const t=Kl(...e.map((e=>e.left))),n=Kl(...e.map((e=>e.top)));return{x:t,y:n,width:Ql(...e.map((e=>e.right)))-t,height:Ql(...e.map((e=>e.bottom)))-n}}function vc(e){return xc(e)?(e.nodeName||"").toLowerCase():"#document"}function yc(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function wc(e){var t;return null==(t=(xc(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function xc(e){return e instanceof Node||e instanceof yc(e).Node}function Sc(e){return e instanceof Element||e instanceof yc(e).Element}function Ac(e){return e instanceof HTMLElement||e instanceof yc(e).HTMLElement}function Ec(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof yc(e).ShadowRoot)}function kc(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Mc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Cc(e){return["table","td","th"].includes(vc(e))}function _c(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function Tc(e){const t=Pc(),n=Sc(e)?Mc(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Pc(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Oc(e){return["html","body","#document"].includes(vc(e))}function Mc(e){return yc(e).getComputedStyle(e)}function Rc(e){return Sc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ic(e){if("html"===vc(e))return e;const t=e.assignedSlot||e.parentNode||Ec(e)&&e.host||wc(e);return Ec(t)?t.host:t}function Lc(e){const t=Ic(e);return Oc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ac(t)&&kc(t)?t:Lc(t)}function Dc(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Lc(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=yc(i);if(a){const e=Nc(s);return t.concat(s,s.visualViewport||[],kc(i)?i:[],e&&n?Dc(e):[])}return t.concat(i,Dc(i,[],n))}function Nc(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zc(e){const t=Mc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ac(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=Jl(n)!==a||Jl(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Fc(e){return Sc(e)?e:e.contextElement}function jc(e){const t=Fc(e);if(!Ac(t))return ec(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=zc(t);let s=(a?Jl(n.width):n.width)/r,o=(a?Jl(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const Bc=ec(0);function Hc(e){const t=yc(e);return Pc()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Bc}function $c(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=Fc(e);let s=ec(1);t&&(r?Sc(r)&&(s=jc(r)):s=jc(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==yc(e))&&t}(a,n,r)?Hc(a):ec(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,u=i.height/s.y;if(a){const e=yc(a),t=r&&Sc(r)?yc(r):r;let n=e,i=Nc(n);for(;i&&r&&t!==n;){const e=jc(i),t=i.getBoundingClientRect(),r=Mc(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=s,n=yc(i),i=Nc(n)}}return pc({width:d,height:u,x:l,y:c})}function Wc(e){return $c(wc(e)).left+Rc(e).scrollLeft}function Uc(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=yc(e),r=wc(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=Pc();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=wc(e),n=Rc(e),r=e.ownerDocument.body,i=Ql(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ql(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Wc(e);const o=-n.scrollTop;return"rtl"===Mc(r).direction&&(s+=Ql(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(wc(e));else if(Sc(t))r=function(e,t){const n=$c(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ac(e)?jc(e):ec(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=Hc(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return pc(r)}function Vc(e,t){const n=Ic(e);return!(n===t||!Sc(n)||Oc(n))&&("fixed"===Mc(n).position||Vc(n,t))}function qc(e,t,n){const r=Ac(t),i=wc(t),a="fixed"===n,s=$c(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=ec(0);if(r||!r&&!a)if(("body"!==vc(t)||kc(i))&&(o=Rc(t)),r){const e=$c(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=Wc(i));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Gc(e){return"static"===Mc(e).position}function Xc(e,t){return Ac(e)&&"fixed"!==Mc(e).position?t?t(e):e.offsetParent:null}function Yc(e,t){const n=yc(e);if(_c(e))return n;if(!Ac(e)){let t=Ic(e);for(;t&&!Oc(t);){if(Sc(t)&&!Gc(t))return t;t=Ic(t)}return n}let r=Xc(e,t);for(;r&&Cc(r)&&Gc(r);)r=Xc(r,t);return r&&Oc(r)&&Gc(r)&&!Tc(r)?n:r||function(e){let t=Ic(e);for(;Ac(t)&&!Oc(t);){if(Tc(t))return t;if(_c(t))return null;t=Ic(t)}return null}(e)||n}const Kc={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=wc(r),o=!!t&&_c(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=ec(1);const d=ec(0),u=Ac(r);if((u||!u&&!a)&&(("body"!==vc(r)||kc(s))&&(l=Rc(r)),Ac(r))){const e=$c(r);c=jc(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}},getDocumentElement:wc,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?_c(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Dc(e,[],!1).filter((e=>Sc(e)&&"body"!==vc(e))),i=null;const a="fixed"===Mc(e).position;let s=a?Ic(e):e;for(;Sc(s)&&!Oc(s);){const t=Mc(s),n=Tc(s);n||"fixed"!==t.position||(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||kc(s)&&!n&&Vc(e,s))?r=r.filter((e=>e!==s)):i=t,s=Ic(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=a[0],o=a.reduce(((e,n)=>{const r=Uc(t,n,i);return e.top=Ql(r.top,e.top),e.right=Kl(r.right,e.right),e.bottom=Kl(r.bottom,e.bottom),e.left=Ql(r.left,e.left),e}),Uc(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:Yc,getElementRects:async function(e){const t=this.getOffsetParent||Yc,n=this.getDimensions,r=await n(e.floating);return{reference:qc(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=zc(e);return{width:t,height:n}},getScale:jc,isElement:Sc,isRTL:function(e){return"rtl"===Mc(e).direction}};function Qc(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=Fc(e),d=i||a?[...c?Dc(c):[],...Dc(t)]:[];d.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const u=c&&o?function(e,t){let n,r=null;const i=wc(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const{left:c,top:d,width:u,height:h}=e.getBoundingClientRect();if(o||t(),!u||!h)return;const f={rootMargin:-Zl(d)+"px "+-Zl(i.clientWidth-(c+u))+"px "+-Zl(i.clientHeight-(d+h))+"px "+-Zl(c)+"px",threshold:Ql(0,Kl(1,l))||1};let p=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return s();t?s(!1,t):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}p=!1}try{r=new IntersectionObserver(m,{...f,root:i.ownerDocument})}catch(g){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),a}(c,n):null;let h,f=-1,p=null;s&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let m=l?$c(e):null;return l&&function t(){const r=$c(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Jc=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=ac(n),o=sc(n),l="y"===cc(n),c=["left","top"].includes(s)?-1:1,d=a&&l?-1:1,u=ic(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return o&&"number"===typeof p&&(f="end"===o?-1*p:p),l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Zc=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=ic(e,t),c={x:n,y:r},d=await gc(t,l),u=cc(ac(i)),h=oc(u);let f=c[h],p=c[u];if(a){const e="y"===h?"bottom":"right";f=rc(f+d["y"===h?"top":"left"],f,f-d[e])}if(s){const e="y"===u?"bottom":"right";p=rc(p+d["y"===u?"top":"left"],p,p-d[e])}const m=o.fn({...t,[h]:f,[u]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},ed=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=ic(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const b=ac(i),v=cc(o),y=ac(o)===o,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=h||(y||!m?[hc(o)]:function(e){const t=hc(e);return[uc(e),t,uc(t)]}(o)),S="none"!==p;!h&&S&&x.push(...function(e,t,n,r){const i=sc(e);let a=function(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:s;default:return[]}}(ac(e),"start"===n,r);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(uc)))),a}(o,m,p,w));const A=[o,...x],E=await gc(t,g),k=[];let C=(null==(r=a.flip)?void 0:r.overflows)||[];if(d&&k.push(E[b]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=sc(e),i=dc(e),a=lc(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=hc(s)),[s,hc(s)]}(i,s,w);k.push(E[e[0]],E[e[1]])}if(C=[...C,{placement:i,overflows:k}],!k.every((e=>e<=0))){var _,T;const e=((null==(_=a.flip)?void 0:_.index)||0)+1,t=A[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let n=null==(T=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var P;const e=null==(P=C.filter((e=>{if(S){const t=cc(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=o}if(i!==n)return{reset:{placement:n}}}return{}}}},td=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:a}=t,{apply:s=()=>{},...o}=ic(e,t),l=await gc(t,o),c=ac(n),d=sc(n),u="y"===cc(n),{width:h,height:f}=r.floating;let p,m;"top"===c||"bottom"===c?(p=c,m=d===(await(null==i.isRTL?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(m=c,p="end"===d?"top":"bottom");const g=f-l.top-l.bottom,b=h-l.left-l.right,v=Kl(f-l[p],g),y=Kl(h-l[m],b),w=!t.middlewareData.shift;let x=v,S=y;if(u?S=d||w?Kl(y,b):b:x=d||w?Kl(v,g):g,w&&!d){const e=Ql(l.left,0),t=Ql(l.right,0),n=Ql(l.top,0),r=Ql(l.bottom,0);u?S=h-2*(0!==e||0!==t?e+t:Ql(l.left,l.right)):x=f-2*(0!==n||0!==r?n+r:Ql(l.top,l.bottom))}await s({...t,availableWidth:S,availableHeight:x});const A=await i.getDimensions(a.floating);return h!==A.width||f!==A.height?{reset:{rects:!0}}:{}}}},nd=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=ic(e,t)||{};if(null==c)return{};const u=fc(d),h={x:n,y:r},f=dc(i),p=lc(f),m=await s.getDimensions(c),g="y"===f,b=g?"top":"left",v=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=a.reference[p]+a.reference[f]-h[f]-a.floating[p],x=h[f]-a.reference[f],S=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let A=S?S[y]:0;A&&await(null==s.isElement?void 0:s.isElement(S))||(A=o.floating[y]||a.floating[p]);const E=w/2-x/2,k=A/2-m[p]/2-1,C=Kl(u[b],k),_=Kl(u[v],k),T=C,P=A-m[p]-_,O=A/2-m[p]/2+E,M=rc(T,O,P),R=!l.arrow&&null!=sc(i)&&O!==M&&a.reference[p]/2-(O<T?C:_)-m[p]/2<0,I=R?O<T?O-T:O-P:0;return{[f]:h[f]+I,data:{[f]:M,centerOffset:O-M-I,...R&&{alignmentOffset:I}},reset:R}}}),rd=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:a,strategy:s}=t,{padding:o=2,x:l,y:c}=ic(e,t),d=Array.from(await(null==a.getClientRects?void 0:a.getClientRects(r.reference))||[]),u=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),n=[];let r=null;for(let i=0;i<t.length;i++){const e=t[i];!r||e.y-r.y>r.height/2?n.push([e]):n[n.length-1].push(e),r=e}return n.map((e=>pc(bc(e))))}(d),h=pc(bc(d)),f=fc(o);const p=await a.getElementRects({reference:{getBoundingClientRect:function(){if(2===u.length&&u[0].left>u[1].right&&null!=l&&null!=c)return u.find((e=>l>e.left-f.left&&l<e.right+f.right&&c>e.top-f.top&&c<e.bottom+f.bottom))||h;if(u.length>=2){if("y"===cc(n)){const e=u[0],t=u[u.length-1],r="top"===ac(n),i=e.top,a=t.bottom,s=r?e.left:t.left,o=r?e.right:t.right;return{top:i,bottom:a,left:s,right:o,width:o-s,height:a-i,x:s,y:i}}const e="left"===ac(n),t=Ql(...u.map((e=>e.right))),r=Kl(...u.map((e=>e.left))),i=u.filter((n=>e?n.left===r:n.right===t)),a=i[0].top,s=i[i.length-1].bottom;return{top:a,bottom:s,left:r,right:t,width:t-r,height:s-a,x:r,y:a}}return h}},floating:r.floating,strategy:s});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}},id=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ic(e,t),d={x:n,y:r},u=cc(i),h=oc(u);let f=d[h],p=d[u];const m=ic(o,t),g="number"===typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+g.mainAxis,n=a.reference[h]+a.reference[e]-g.mainAxis;f<t?f=t:f>n&&(f=n)}if(c){var b,v;const e="y"===h?"width":"height",t=["top","left"].includes(ac(i)),n=a.reference[u]-a.floating[e]+(t&&(null==(b=s.offset)?void 0:b[u])||0)+(t?0:g.crossAxis),r=a.reference[u]+a.reference[e]+(t?0:(null==(v=s.offset)?void 0:v[u])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[h]:f,[u]:p}}}},ad=(e,t,n)=>{const r=new Map,i={platform:Kc,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=mc(c,r,l),h=r,f={},p=0;for(let m=0;m<o.length;m++){const{name:n,fn:a}=o[m],{x:g,y:b,data:v,reset:y}=await a({x:d,y:u,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=b?b:u,f={...f,[n]:{...f[n],...v}},y&&p<=50&&(p++,"object"===typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:d,y:u}=mc(c,h,l))),m=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})},sd=e=>{const{element:t,padding:n}=e;return{name:"arrow",options:e,fn(e){return r=t,Object.prototype.hasOwnProperty.call(r,"current")?null!=t.current?nd({element:t.current,padding:n}).fn(e):{}:t?nd({element:t,padding:n}).fn(e):{};var r}}};var od="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;function ld(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;0!==r--;)if(!ld(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!ld(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function cd(e){const t=r.useRef(e);return od((()=>{t.current=e})),t}var dd="undefined"!==typeof document?r.useLayoutEffect:r.useEffect;i["useId".toString()];function ud(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}const hd=r.createContext(null),fd=()=>r.useContext(hd);function pd(e){return(null==e?void 0:e.ownerDocument)||document}function md(e){return pd(e).defaultView||window}function gd(e){return!!e&&e instanceof md(e).Element}const bd=i["useInsertionEffect".toString()]||(e=>e());function vd(e){const t=r.useRef((()=>{0}));return bd((()=>{t.current=e})),r.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function yd(e){void 0===e&&(e={});const{open:t=!1,onOpenChange:n,nodeId:i}=e,s=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,whileElementsMounted:o,open:l}=e,[c,d]=r.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,h]=r.useState(i);ld(u,i)||h(i);const f=r.useRef(null),p=r.useRef(null),m=r.useRef(c),g=cd(o),b=cd(s),[v,y]=r.useState(null),[w,x]=r.useState(null),S=r.useCallback((e=>{f.current!==e&&(f.current=e,y(e))}),[]),A=r.useCallback((e=>{p.current!==e&&(p.current=e,x(e))}),[]),E=r.useCallback((()=>{if(!f.current||!p.current)return;const e={placement:t,strategy:n,middleware:u};b.current&&(e.platform=b.current),ad(f.current,p.current,e).then((e=>{const t={...e,isPositioned:!0};k.current&&!ld(m.current,t)&&(m.current=t,a.flushSync((()=>{d(t)})))}))}),[u,t,n,b]);od((()=>{!1===l&&m.current.isPositioned&&(m.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[l]);const k=r.useRef(!1);od((()=>(k.current=!0,()=>{k.current=!1})),[]),od((()=>{if(v&&w){if(g.current)return g.current(v,w,E);E()}}),[v,w,E,g]);const C=r.useMemo((()=>({reference:f,floating:p,setReference:S,setFloating:A})),[S,A]),_=r.useMemo((()=>({reference:v,floating:w})),[v,w]);return r.useMemo((()=>({...c,update:E,refs:C,elements:_,reference:S,floating:A})),[c,E,C,_,S,A])}(e),o=fd(),l=r.useRef(null),c=r.useRef({}),d=r.useState((()=>ud()))[0],[u,h]=r.useState(null),f=r.useCallback((e=>{const t=gd(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;s.refs.setReference(t)}),[s.refs]),p=r.useCallback((e=>{(gd(e)||null===e)&&(l.current=e,h(e)),(gd(s.refs.reference.current)||null===s.refs.reference.current||null!==e&&!gd(e))&&s.refs.setReference(e)}),[s.refs]),m=r.useMemo((()=>({...s.refs,setReference:p,setPositionReference:f,domReference:l})),[s.refs,p,f]),g=r.useMemo((()=>({...s.elements,domReference:u})),[s.elements,u]),b=vd(n),v=r.useMemo((()=>({...s,refs:m,elements:g,dataRef:c,nodeId:i,events:d,open:t,onOpenChange:b})),[s,i,d,t,b,m,g]);return dd((()=>{const e=null==o?void 0:o.nodesRef.current.find((e=>e.id===i));e&&(e.context=v)})),r.useMemo((()=>({...s,context:v,refs:m,reference:p,positionReference:f})),[s,m,v,p,f])}function wd(e){const t=[Jc(e.offset)];return e.middlewares.shift&&t.push(Zc({limiter:id()})),e.middlewares.flip&&t.push(ed()),e.middlewares.inline&&t.push(rd()),t.push(sd({element:e.arrowRef,padding:e.arrowOffset})),t}function xd(e){const[t,n]=Br({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),i=yd({placement:e.position,middleware:[...wd(e),..."target"===e.width?[td({apply(e){let{rects:t}=e;var n,r;Object.assign(null!=(r=null==(n=i.refs.floating.current)?void 0:n.style)?r:{},{width:`${t.reference.width}px`})}})]:[]]});return function(e){let{opened:t,floating:n,positionDependencies:i}=e;const[a,s]=(0,r.useState)(0);(0,r.useEffect)((()=>{if(n.refs.reference.current&&n.refs.floating.current)return Qc(n.refs.reference.current,n.refs.floating.current,n.update)}),[n.refs.reference.current,n.refs.floating.current,t,a]),qi((()=>{n.update()}),i),qi((()=>{s((e=>e+1))}),[t])}({opened:e.opened,positionDependencies:e.positionDependencies,floating:i}),qi((()=>{var t;null==(t=e.onPositionChange)||t.call(e,i.placement)}),[i.placement]),{floating:i,controlled:"boolean"===typeof e.opened,opened:t,onClose:()=>{var t;null==(t=e.onClose)||t.call(e),n(!1)},onToggle:()=>{var r,i;t?(null==(r=e.onClose)||r.call(e),n(!1)):(null==(i=e.onOpen)||i.call(e),n(!0))}}}const Sd="Popover component was not found in the tree",Ad="Popover.Target component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported",[Ed,kd]=function(e){const t=(0,r.createContext)(null);return[e=>{let{children:n,value:i}=e;return r.createElement(t.Provider,{value:i},n)},()=>{const n=(0,r.useContext)(t);if(null===n)throw new Error(e);return n}]}(Sd);function Cd(e){return!Array.isArray(e)&&null!==e&&("object"===typeof e&&e.type!==r.Fragment)}var _d=Object.defineProperty,Td=Object.defineProperties,Pd=Object.getOwnPropertyDescriptors,Od=Object.getOwnPropertySymbols,Md=Object.prototype.hasOwnProperty,Rd=Object.prototype.propertyIsEnumerable,Id=(e,t,n)=>t in e?_d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ld=(e,t)=>{for(var n in t||(t={}))Md.call(t,n)&&Id(e,n,t[n]);if(Od)for(var n of Od(t))Rd.call(t,n)&&Id(e,n,t[n]);return e};const Dd={refProp:"ref",popupType:"dialog"},Nd=(0,r.forwardRef)(((e,t)=>{const n=jt("PopoverTarget",Dd,e),{children:i,refProp:a,popupType:s}=n,o=((e,t)=>{var n={};for(var r in e)Md.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Od)for(var r of Od(e))t.indexOf(r)<0&&Rd.call(e,r)&&(n[r]=e[r]);return n})(n,["children","refProp","popupType"]);if(!Cd(i))throw new Error(Ad);const l=o,c=kd(),d=Xr(c.reference,i.ref,t),u=c.withRoles?{"aria-haspopup":s,"aria-expanded":c.opened,"aria-controls":c.getDropdownId(),id:c.getTargetId()}:{};return(0,r.cloneElement)(i,Ld((h=Ld(Ld(Ld({},l),u),c.targetProps),f={className:$t(c.targetProps.className,l.className,i.props.className),[a]:d},Td(h,Pd(f))),c.controlled?null:{onClick:c.onToggle}));var h,f}));Nd.displayName="@mantine/core/PopoverTarget";const zd=()=>{};function Fd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{active:!0};return"function"===typeof e&&t.active?n=>{var r;"Escape"===n.key&&(e(n),null==(r=t.onTrigger)||r.call(t))}:t.onKeyDown||zd}var jd=cn(((e,t)=>{let{radius:n,shadow:r}=t;return{dropdown:{position:"absolute",backgroundColor:e.white,background:"dark"===e.colorScheme?e.colors.dark[6]:e.white,border:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]}`,padding:`${e.spacing.sm}px ${e.spacing.md}px`,boxShadow:e.shadows[r]||r||"none",borderRadius:e.fn.radius(n),"&:focus":{outline:0}},arrow:{backgroundColor:"inherit",border:`1px solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]}`,zIndex:1}}}));const Bd=jd;function Hd(e){const{children:t,target:n,className:i}=jt("Portal",{},e),s=zt(),[o,l]=(0,r.useState)(!1),c=(0,r.useRef)();return Hr((()=>(l(!0),c.current=n?"string"===typeof n?document.querySelector(n):n:document.createElement("div"),n||document.body.appendChild(c.current),()=>{!n&&document.body.removeChild(c.current)})),[n]),o?(0,a.createPortal)(r.createElement("div",{className:i,dir:s.dir},t),c.current):null}Hd.displayName="@mantine/core/Portal";var $d=Object.defineProperty,Wd=Object.getOwnPropertySymbols,Ud=Object.prototype.hasOwnProperty,Vd=Object.prototype.propertyIsEnumerable,qd=(e,t,n)=>t in e?$d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gd=(e,t)=>{for(var n in t||(t={}))Ud.call(t,n)&&qd(e,n,t[n]);if(Wd)for(var n of Wd(t))Vd.call(t,n)&&qd(e,n,t[n]);return e},Xd=(e,t)=>{var n={};for(var r in e)Ud.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Wd)for(var r of Wd(e))t.indexOf(r)<0&&Vd.call(e,r)&&(n[r]=e[r]);return n};function Yd(e){var t=e,{withinPortal:n=!0,children:i}=t,a=Xd(t,["withinPortal","children"]);return n?r.createElement(Hd,Gd({},a),i):r.createElement(r.Fragment,null,i)}Yd.displayName="@mantine/core/OptionalPortal";var Kd=Object.defineProperty,Qd=Object.defineProperties,Jd=Object.getOwnPropertyDescriptors,Zd=Object.getOwnPropertySymbols,eu=Object.prototype.hasOwnProperty,tu=Object.prototype.propertyIsEnumerable,nu=(e,t,n)=>t in e?Kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ru=(e,t)=>{for(var n in t||(t={}))eu.call(t,n)&&nu(e,n,t[n]);if(Zd)for(var n of Zd(t))tu.call(t,n)&&nu(e,n,t[n]);return e},iu=(e,t)=>Qd(e,Jd(t));const au={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(10px)"},transitionProperty:"transform, opacity"},su={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:iu(ru({},au),{common:{transformOrigin:"center center"}}),"pop-bottom-left":iu(ru({},au),{common:{transformOrigin:"bottom left"}}),"pop-bottom-right":iu(ru({},au),{common:{transformOrigin:"bottom right"}}),"pop-top-left":iu(ru({},au),{common:{transformOrigin:"top left"}}),"pop-top-right":iu(ru({},au),{common:{transformOrigin:"top right"}})};var ou=Object.defineProperty,lu=Object.getOwnPropertySymbols,cu=Object.prototype.hasOwnProperty,du=Object.prototype.propertyIsEnumerable,uu=(e,t,n)=>t in e?ou(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hu=(e,t)=>{for(var n in t||(t={}))cu.call(t,n)&&uu(e,n,t[n]);if(lu)for(var n of lu(t))du.call(t,n)&&uu(e,n,t[n]);return e};const fu={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function pu(e){let{duration:t,exitDuration:n,timingFunction:i,mounted:a,onEnter:s,onExit:o,onEntered:l,onExited:c}=e;const d=zt(),u=jr(),h=!!d.respectReducedMotion&&u,[f,p]=(0,r.useState)(a?"entered":"exited");let m=h?0:t;const g=(0,r.useRef)(-1);return qi((()=>{(e=>{const r=e?s:o,i=e?l:c;if(p(e?"pre-entering":"pre-exiting"),window.clearTimeout(g.current),m=h?0:e?t:n,0===m)"function"===typeof r&&r(),"function"===typeof i&&i(),p(e?"entered":"exited");else{const t=window.setTimeout((()=>{"function"===typeof r&&r(),p(e?"entering":"exiting")}),10);g.current=window.setTimeout((()=>{window.clearTimeout(t),"function"===typeof i&&i(),p(e?"entered":"exited")}),m)}})(a)}),[a]),(0,r.useEffect)((()=>()=>window.clearTimeout(g.current)),[]),{transitionDuration:m,transitionStatus:f,transitionTimingFunction:i||d.transitionTimingFunction}}function mu(e){let{transition:t,duration:n=250,exitDuration:i=n,mounted:a,children:s,timingFunction:o,onExit:l,onEntered:c,onEnter:d,onExited:u}=e;const{transitionDuration:h,transitionStatus:f,transitionTimingFunction:p}=pu({mounted:a,exitDuration:i,duration:n,timingFunction:o,onExit:l,onEntered:c,onEnter:d,onExited:u});return 0===h?a?r.createElement(r.Fragment,null,s({})):null:"exited"===f?null:r.createElement(r.Fragment,null,s(function(e){let{transition:t,state:n,duration:r,timingFunction:i}=e;const a={transitionDuration:`${r}ms`,transitionTimingFunction:i};return"string"===typeof t?t in su?hu(hu(hu({transitionProperty:su[t].transitionProperty},a),su[t].common),su[t][fu[n]]):null:hu(hu(hu({transitionProperty:t.transitionProperty},a),t.common),t[fu[n]])}({transition:t,duration:h,state:f,timingFunction:p})))}mu.displayName="@mantine/core/Transition";const gu=/input|select|textarea|button|object/,bu="a, input, select, textarea, button, object, [tabindex]";function vu(e){return"none"===e.style.display}function yu(e){let t=e.getAttribute("tabindex");return null===t&&(t=void 0),parseInt(t,10)}function wu(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(yu(e));return(gu.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&function(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||"hidden"===e.getAttribute("type"))return!1;let t=e;for(;t&&t!==document.body&&11!==t.nodeType;){if(vu(t))return!1;t=t.parentNode}return!0}(e)}function xu(e){const t=yu(e);return(Number.isNaN(t)||t>=0)&&wu(e)}function Su(e,t){const n=(r=e,Array.from(r.querySelectorAll(bu)).filter(xu));var r;if(!n.length)return void t.preventDefault();const i=n[t.shiftKey?0:n.length-1],a=e.getRootNode();if(!(i===a.activeElement||e===a.activeElement))return;t.preventDefault();const s=n[t.shiftKey?n.length-1:0];s&&s.focus()}function Au(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,r.useRef)(),n=(0,r.useRef)(null),i=(0,r.useCallback)((r=>{if(e)if(null!==r){if(n.current=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body > :not(script)";const n=Array.from(document.querySelectorAll(t)).map((t=>{var n;if((null==(n=null==t?void 0:t.shadowRoot)?void 0:n.contains(e))||t.contains(e))return;const r=t.getAttribute("aria-hidden");return null!==r&&"false"!==r||t.setAttribute("aria-hidden","true"),{node:t,ariaHidden:r}}));return()=>{n.forEach((e=>{e&&(null===e.ariaHidden?e.node.removeAttribute("aria-hidden"):e.node.setAttribute("aria-hidden",e.ariaHidden))}))}}(r),t.current!==r)if(r){const e=()=>{let e=r.querySelector("[data-autofocus]");if(!e){const t=Array.from(r.querySelectorAll(bu));e=t.find(xu)||t.find(wu)||null,!e&&wu(r)&&(e=r)}e&&e.focus({preventScroll:!0})};setTimeout((()=>{r.getRootNode()&&e()})),t.current=r}else t.current=null}else n.current&&(n.current(),n.current=null)}),[e]);return(0,r.useEffect)((()=>{if(!e)return;const r=e=>{"Tab"===e.key&&t.current&&Su(t.current,e)};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r),n.current&&n.current()}}),[e]),i}function Eu(e){let{children:t,active:n=!0,refProp:i="ref"}=e;const a=Xr(Au(n),null==t?void 0:t.ref);return Cd(t)?(0,r.cloneElement)(t,{[i]:a}):t}Eu.displayName="@mantine/core/FocusTrap";var ku=Object.defineProperty,Cu=Object.defineProperties,_u=Object.getOwnPropertyDescriptors,Tu=Object.getOwnPropertySymbols,Pu=Object.prototype.hasOwnProperty,Ou=Object.prototype.propertyIsEnumerable,Mu=(e,t,n)=>t in e?ku(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ru=(e,t)=>{for(var n in t||(t={}))Pu.call(t,n)&&Mu(e,n,t[n]);if(Tu)for(var n of Tu(t))Ou.call(t,n)&&Mu(e,n,t[n]);return e},Iu=(e,t)=>Cu(e,_u(t));function Lu(e,t,n,r){return"center"===e||"center"===r?{top:t}:"end"===e?{bottom:n}:"start"===e?{top:n}:{}}function Du(e,t,n,r,i){return"center"===e||"center"===r?{left:t}:"end"===e?{["ltr"===i?"right":"left"]:n}:"start"===e?{["ltr"===i?"left":"right"]:n}:{}}const Nu={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function zu(e){let{position:t,withBorder:n,arrowSize:r,arrowOffset:i,arrowRadius:a,arrowPosition:s,arrowX:o,arrowY:l,dir:c}=e;const[d,u="center"]=t.split("-"),h={width:r,height:r,transform:"rotate(45deg)",position:"absolute",[Nu[d]]:a},f=n?-r/2-1:-r/2;return"left"===d?Iu(Ru(Ru({},h),Lu(u,l,i,s)),{right:f,borderLeft:0,borderBottom:0}):"right"===d?Iu(Ru(Ru({},h),Lu(u,l,i,s)),{left:f,borderRight:0,borderTop:0}):"top"===d?Iu(Ru(Ru({},h),Du(u,o,i,s,c)),{bottom:f,borderTop:0,borderLeft:0}):"bottom"===d?Iu(Ru(Ru({},h),Du(u,o,i,s,c)),{top:f,borderBottom:0,borderRight:0}):{}}var Fu=Object.defineProperty,ju=Object.defineProperties,Bu=Object.getOwnPropertyDescriptors,Hu=Object.getOwnPropertySymbols,$u=Object.prototype.hasOwnProperty,Wu=Object.prototype.propertyIsEnumerable,Uu=(e,t,n)=>t in e?Fu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Vu=(0,r.forwardRef)(((e,t)=>{var n=e,{withBorder:i,position:a,arrowSize:s,arrowOffset:o,arrowRadius:l,arrowPosition:c,visible:d,arrowX:u,arrowY:h}=n,f=((e,t)=>{var n={};for(var r in e)$u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Hu)for(var r of Hu(e))t.indexOf(r)<0&&Wu.call(e,r)&&(n[r]=e[r]);return n})(n,["withBorder","position","arrowSize","arrowOffset","arrowRadius","arrowPosition","visible","arrowX","arrowY"]);const p=zt();return d?r.createElement("div",(m=((e,t)=>{for(var n in t||(t={}))$u.call(t,n)&&Uu(e,n,t[n]);if(Hu)for(var n of Hu(t))Wu.call(t,n)&&Uu(e,n,t[n]);return e})({},f),g={ref:t,style:zu({withBorder:i,position:a,arrowSize:s,arrowOffset:o,arrowRadius:l,arrowPosition:c,dir:p.dir,arrowX:u,arrowY:h})},ju(m,Bu(g)))):null;var m,g}));Vu.displayName="@mantine/core/FloatingArrow";var qu=Object.defineProperty,Gu=Object.defineProperties,Xu=Object.getOwnPropertyDescriptors,Yu=Object.getOwnPropertySymbols,Ku=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,Ju=(e,t,n)=>t in e?qu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zu=(e,t)=>{for(var n in t||(t={}))Ku.call(t,n)&&Ju(e,n,t[n]);if(Yu)for(var n of Yu(t))Qu.call(t,n)&&Ju(e,n,t[n]);return e},eh=(e,t)=>Gu(e,Xu(t));const th={};function nh(e){const t=jt("PopoverDropdown",th,e),{style:n,className:i,children:a,onKeyDownCapture:s}=t,o=((e,t)=>{var n={};for(var r in e)Ku.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Yu)for(var r of Yu(e))t.indexOf(r)<0&&Qu.call(e,r)&&(n[r]=e[r]);return n})(t,["style","className","children","onKeyDownCapture"]),l=kd(),{classes:c,cx:d}=Bd({radius:l.radius,shadow:l.shadow},{name:l.__staticSelector,classNames:l.classNames,styles:l.styles,unstyled:l.unstyled}),u=function(e){let{opened:t,shouldReturnFocus:n=!0}=e;const i=(0,r.useRef)(),a=()=>{var e;i.current&&"focus"in i.current&&"function"===typeof i.current.focus&&(null==(e=i.current)||e.focus({preventScroll:!0}))};return qi((()=>{let e=-1;const r=t=>{"Tab"===t.key&&window.clearTimeout(e)};return document.addEventListener("keydown",r),t?i.current=document.activeElement:n&&(e=window.setTimeout(a,10)),()=>{window.clearTimeout(e),document.removeEventListener("keydown",r)}}),[t,n]),a}({opened:l.opened,shouldReturnFocus:l.returnFocus}),h=l.withRoles?{"aria-labelledby":l.getTargetId(),id:l.getDropdownId(),role:"dialog"}:{};return l.disabled?null:r.createElement(Yd,{withinPortal:l.withinPortal},r.createElement(mu,{mounted:l.opened,transition:l.transition,duration:l.transitionDuration,exitDuration:"number"===typeof l.exitTransitionDuration?l.exitTransitionDuration:l.transitionDuration},(e=>{var t,f;return r.createElement(Eu,{active:l.trapFocus},r.createElement(Nn,Zu(eh(Zu({},h),{tabIndex:-1,key:l.placement,ref:l.floating,style:eh(Zu(Zu({},n),e),{zIndex:l.zIndex,top:null!=(t=l.y)?t:0,left:null!=(f=l.x)?f:0,width:"target"===l.width?void 0:l.width}),className:d(c.dropdown,i),onKeyDownCapture:Fd(l.onClose,{active:l.closeOnEscape,onTrigger:u,onKeyDown:s}),"data-position":l.placement}),o),a,r.createElement(Vu,{ref:l.arrowRef,arrowX:l.arrowX,arrowY:l.arrowY,visible:l.withArrow,withBorder:!0,position:l.placement,arrowSize:l.arrowSize,arrowRadius:l.arrowRadius,arrowOffset:l.arrowOffset,arrowPosition:l.arrowPosition,className:c.arrow})))})))}function rh(e,t){if("rtl"===e&&(t.includes("right")||t.includes("left"))){const[e,n]=t.split("-"),r="right"===e?"left":"right";return void 0===n?r:`${r}-${n}`}return t}nh.displayName="@mantine/core/PopoverDropdown";var ih=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,sh=Object.prototype.propertyIsEnumerable,oh=(e,t)=>{var n={};for(var r in e)ah.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ih)for(var r of ih(e))t.indexOf(r)<0&&sh.call(e,r)&&(n[r]=e[r]);return n};const lh={position:"bottom",offset:8,positionDependencies:[],transition:"fade",transitionDuration:150,middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!1,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:Xi("popover"),__staticSelector:"Popover",width:"max-content"};function ch(e){var t,n,i,a,s,o;const l=(0,r.useRef)(null),c=jt("Popover",lh,e),{children:d,position:u,offset:h,onPositionChange:f,positionDependencies:p,opened:m,transition:g,transitionDuration:b,width:v,middlewares:y,withArrow:w,arrowSize:x,arrowOffset:S,arrowRadius:A,arrowPosition:E,unstyled:k,classNames:C,styles:_,closeOnClickOutside:T,withinPortal:P,closeOnEscape:O,clickOutsideEvents:M,trapFocus:R,onClose:I,onOpen:L,onChange:D,zIndex:N,radius:z,shadow:F,id:j,defaultOpened:B,exitTransitionDuration:H,__staticSelector:$,withRoles:W,disabled:U,returnFocus:V}=c,q=oh(c,["children","position","offset","onPositionChange","positionDependencies","opened","transition","transitionDuration","width","middlewares","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","unstyled","classNames","styles","closeOnClickOutside","withinPortal","closeOnEscape","clickOutsideEvents","trapFocus","onClose","onOpen","onChange","zIndex","radius","shadow","id","defaultOpened","exitTransitionDuration","__staticSelector","withRoles","disabled","returnFocus"]),[G,X]=(0,r.useState)(null),[Y,K]=(0,r.useState)(null),Q=Ur(j),J=xd({middlewares:y,width:v,position:rh(zt().dir,u),offset:h+(w?x/2:0),arrowRef:l,arrowOffset:S,onPositionChange:f,positionDependencies:p,opened:m,defaultOpened:B,onChange:D,onOpen:L,onClose:I});!function(e,t,n){const i=(0,r.useRef)();(0,r.useEffect)((()=>{const r=t=>{const{target:r}=null!=t?t:{};if(Array.isArray(n)){const i=(null==r?void 0:r.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(r)&&"HTML"!==r.tagName,a=n.every((e=>!!e&&!t.composedPath().includes(e)));a&&!i&&e()}else i.current&&!i.current.contains(r)&&e()};return(t||Yl).forEach((e=>document.addEventListener(e,r))),()=>{(t||Yl).forEach((e=>document.removeEventListener(e,r)))}}),[i,e,n])}((()=>T&&J.onClose()),M,[G,Y]);const Z=(0,r.useCallback)((e=>{X(e),J.floating.reference(e)}),[J.floating.reference]),ee=(0,r.useCallback)((e=>{K(e),J.floating.floating(e)}),[J.floating.floating]);return r.createElement(Ed,{value:{returnFocus:V,disabled:U,controlled:J.controlled,reference:Z,floating:ee,x:J.floating.x,y:J.floating.y,arrowX:null==(i=null==(n=null==(t=J.floating)?void 0:t.middlewareData)?void 0:n.arrow)?void 0:i.x,arrowY:null==(o=null==(s=null==(a=J.floating)?void 0:a.middlewareData)?void 0:s.arrow)?void 0:o.y,opened:J.opened,arrowRef:l,transition:g,transitionDuration:b,exitTransitionDuration:H,width:v,withArrow:w,arrowSize:x,arrowOffset:S,arrowRadius:A,arrowPosition:E,placement:J.floating.placement,trapFocus:R,withinPortal:P,zIndex:N,radius:z,shadow:F,closeOnEscape:O,onClose:J.onClose,onToggle:J.onToggle,getTargetId:()=>`${Q}-target`,getDropdownId:()=>`${Q}-dropdown`,withRoles:W,targetProps:q,__staticSelector:$,classNames:C,styles:_,unstyled:k}},d)}ch.Target=Nd,ch.Dropdown=nh,ch.displayName="@mantine/core/Popover";var dh=Object.defineProperty,uh=Object.getOwnPropertySymbols,hh=Object.prototype.hasOwnProperty,fh=Object.prototype.propertyIsEnumerable,ph=(e,t,n)=>t in e?dh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function mh(e){let{opened:t,transition:n="fade",transitionDuration:i=0,shadow:a,withinPortal:s,children:o,__staticSelector:l,onDirectionChange:c,switchDirectionOnFlip:d,zIndex:u,dropdownPosition:h,positionDependencies:f=[],classNames:p,styles:m,unstyled:g,readOnly:b}=e;return r.createElement(ch,{unstyled:g,classNames:p,styles:m,width:"target",withRoles:!1,opened:t,middlewares:{flip:"flip"===h,shift:!1},position:"flip"===h?"bottom":h,positionDependencies:f,zIndex:u,__staticSelector:l,withinPortal:s,transition:n,transitionDuration:i,shadow:a,disabled:b,onPositionChange:e=>d&&(null==c?void 0:c("top"===e?"column-reverse":"column"))},o)}mh.Target=ch.Target,mh.Dropdown=function(e){var t=e,{children:n,component:i="div",maxHeight:a=220,direction:s="column",id:o,innerRef:l,__staticSelector:c,styles:d,classNames:u,unstyled:h}=t,f=((e,t)=>{var n={};for(var r in e)hh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&uh)for(var r of uh(e))t.indexOf(r)<0&&fh.call(e,r)&&(n[r]=e[r]);return n})(t,["children","component","maxHeight","direction","id","innerRef","__staticSelector","styles","classNames","unstyled"]);const{classes:p}=Xl(null,{name:c,styles:d,classNames:u,unstyled:h});return r.createElement(ch.Dropdown,((e,t)=>{for(var n in t||(t={}))hh.call(t,n)&&ph(e,n,t[n]);if(uh)for(var n of uh(t))fh.call(t,n)&&ph(e,n,t[n]);return e})({p:0,onMouseDown:e=>e.preventDefault()},f),r.createElement("div",{style:{maxHeight:a,display:"flex"}},r.createElement(Nn,{component:i||"div",id:`${o}-items`,"aria-labelledby":`${o}-label`,role:"listbox",onMouseDown:e=>e.preventDefault(),style:{flex:1,overflowY:i!==xs?"auto":void 0},"data-combobox-popover":!0,ref:l},r.createElement("div",{className:p.itemsWrapper,style:{flexDirection:s}},n))))};const gh=cn((()=>({input:{"&:not(:disabled)":{cursor:"pointer","&::selection":{backgroundColor:"transparent"}}}})));var bh=Object.defineProperty,vh=Object.defineProperties,yh=Object.getOwnPropertyDescriptors,wh=Object.getOwnPropertySymbols,xh=Object.prototype.hasOwnProperty,Sh=Object.prototype.propertyIsEnumerable,Ah=(e,t,n)=>t in e?bh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Eh=(e,t)=>{for(var n in t||(t={}))xh.call(t,n)&&Ah(e,n,t[n]);if(wh)for(var n of wh(t))Sh.call(t,n)&&Ah(e,n,t[n]);return e};function kh(e,t,n){const r=jt(e,t,n),{label:i,description:a,error:s,required:o,classNames:l,styles:c,className:d,unstyled:u,__staticSelector:h,sx:f,errorProps:p,labelProps:m,descriptionProps:g,wrapperProps:b,id:v,size:y,style:w,inputContainer:x,inputWrapperOrder:S,withAsterisk:A}=r,E=((e,t)=>{var n={};for(var r in e)xh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&wh)for(var r of wh(e))t.indexOf(r)<0&&Sh.call(e,r)&&(n[r]=e[r]);return n})(r,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","sx","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk"]),k=Ur(v),{systemStyles:C,rest:_}=gn(E),T=Eh({label:i,description:a,error:s,required:o,classNames:l,className:d,__staticSelector:h,sx:f,errorProps:p,labelProps:m,descriptionProps:g,unstyled:u,styles:c,id:k,size:y,style:w,inputContainer:x,inputWrapperOrder:S,withAsterisk:A},b);return P=Eh({},_),O={classNames:l,styles:c,unstyled:u,wrapperProps:Eh(Eh({},T),C),inputProps:{required:o,classNames:l,styles:c,unstyled:u,id:k,size:y,__staticSelector:h,invalid:!!s}},vh(P,yh(O));var P,O}var Ch=cn(((e,t)=>{let{size:n}=t;return{label:{display:"inline-block",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),fontWeight:500,color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},required:{color:e.fn.variant({variant:"filled",color:"red"}).background}}}));const _h=Ch;var Th=Object.defineProperty,Ph=Object.getOwnPropertySymbols,Oh=Object.prototype.hasOwnProperty,Mh=Object.prototype.propertyIsEnumerable,Rh=(e,t,n)=>t in e?Th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ih={labelElement:"label",size:"sm"},Lh=(0,r.forwardRef)(((e,t)=>{const n=jt("InputLabel",Ih,e),{labelElement:i,children:a,required:s,size:o,classNames:l,styles:c,unstyled:d,className:u,htmlFor:h,__staticSelector:f}=n,p=((e,t)=>{var n={};for(var r in e)Oh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ph)for(var r of Ph(e))t.indexOf(r)<0&&Mh.call(e,r)&&(n[r]=e[r]);return n})(n,["labelElement","children","required","size","classNames","styles","unstyled","className","htmlFor","__staticSelector"]),{classes:m,cx:g}=_h({size:o},{name:["InputWrapper",f],classNames:l,styles:c,unstyled:d});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))Oh.call(t,n)&&Rh(e,n,t[n]);if(Ph)for(var n of Ph(t))Mh.call(t,n)&&Rh(e,n,t[n]);return e})({component:i,ref:t,className:g(m.label,u),htmlFor:"label"===i?h:void 0},p),a,s&&r.createElement("span",{className:m.required,"aria-hidden":!0}," *"))}));Lh.displayName="@mantine/core/InputLabel";var Dh=cn(((e,t)=>{let{size:n}=t;return{error:{wordBreak:"break-word",color:e.fn.variant({variant:"filled",color:"red"}).background,fontSize:e.fn.size({size:n,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}}));const Nh=Dh;var zh=Object.defineProperty,Fh=Object.getOwnPropertySymbols,jh=Object.prototype.hasOwnProperty,Bh=Object.prototype.propertyIsEnumerable,Hh=(e,t,n)=>t in e?zh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $h={size:"sm"},Wh=(0,r.forwardRef)(((e,t)=>{const n=jt("InputError",$h,e),{children:i,className:a,classNames:s,styles:o,unstyled:l,size:c,__staticSelector:d}=n,u=((e,t)=>{var n={};for(var r in e)jh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Fh)for(var r of Fh(e))t.indexOf(r)<0&&Bh.call(e,r)&&(n[r]=e[r]);return n})(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:h,cx:f}=Nh({size:c},{name:["InputWrapper",d],classNames:s,styles:o,unstyled:l});return r.createElement(Or,((e,t)=>{for(var n in t||(t={}))jh.call(t,n)&&Hh(e,n,t[n]);if(Fh)for(var n of Fh(t))Bh.call(t,n)&&Hh(e,n,t[n]);return e})({className:f(h.error,a),ref:t},u),i)}));Wh.displayName="@mantine/core/InputError";var Uh=cn(((e,t)=>{let{size:n}=t;return{description:{wordBreak:"break-word",color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6],fontSize:e.fn.size({size:n,sizes:e.fontSizes})-2,lineHeight:1.2,display:"block"}}}));const Vh=Uh;var qh=Object.defineProperty,Gh=Object.getOwnPropertySymbols,Xh=Object.prototype.hasOwnProperty,Yh=Object.prototype.propertyIsEnumerable,Kh=(e,t,n)=>t in e?qh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Qh={size:"sm"},Jh=(0,r.forwardRef)(((e,t)=>{const n=jt("InputDescription",Qh,e),{children:i,className:a,classNames:s,styles:o,unstyled:l,size:c,__staticSelector:d}=n,u=((e,t)=>{var n={};for(var r in e)Xh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Gh)for(var r of Gh(e))t.indexOf(r)<0&&Yh.call(e,r)&&(n[r]=e[r]);return n})(n,["children","className","classNames","styles","unstyled","size","__staticSelector"]),{classes:h,cx:f}=Vh({size:c},{name:["InputWrapper",d],classNames:s,styles:o,unstyled:l});return r.createElement(Or,((e,t)=>{for(var n in t||(t={}))Xh.call(t,n)&&Kh(e,n,t[n]);if(Gh)for(var n of Gh(t))Yh.call(t,n)&&Kh(e,n,t[n]);return e})({color:"dimmed",className:f(h.description,a),ref:t,unstyled:l},u),i)}));Jh.displayName="@mantine/core/InputDescription";const Zh=(0,r.createContext)({offsetBottom:!1,offsetTop:!1,describedBy:void 0}),ef=Zh.Provider;function tf(e,t){let{hasDescription:n,hasError:r}=t;const i=e.findIndex((e=>"input"===e)),a=e[i-1],s=e[i+1];return{offsetBottom:n&&"description"===s||r&&"error"===s,offsetTop:n&&"description"===a||r&&"error"===a}}var nf=Object.defineProperty,rf=Object.defineProperties,af=Object.getOwnPropertyDescriptors,sf=Object.getOwnPropertySymbols,of=Object.prototype.hasOwnProperty,lf=Object.prototype.propertyIsEnumerable,cf=(e,t,n)=>t in e?nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,df=(e,t)=>{for(var n in t||(t={}))of.call(t,n)&&cf(e,n,t[n]);if(sf)for(var n of sf(t))lf.call(t,n)&&cf(e,n,t[n]);return e};const uf=cn((e=>{return{root:(t=df({},e.fn.fontStyles()),n={lineHeight:e.lineHeight},rf(t,af(n)))};var t,n}));var hf=Object.defineProperty,ff=Object.defineProperties,pf=Object.getOwnPropertyDescriptors,mf=Object.getOwnPropertySymbols,gf=Object.prototype.hasOwnProperty,bf=Object.prototype.propertyIsEnumerable,vf=(e,t,n)=>t in e?hf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yf=(e,t)=>{for(var n in t||(t={}))gf.call(t,n)&&vf(e,n,t[n]);if(mf)for(var n of mf(t))bf.call(t,n)&&vf(e,n,t[n]);return e},wf=(e,t)=>ff(e,pf(t));const xf={labelElement:"label",size:"sm",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Sf=(0,r.forwardRef)(((e,t)=>{const n=jt("InputWrapper",xf,e),{className:i,label:a,children:s,required:o,id:l,error:c,description:d,labelElement:u,labelProps:h,descriptionProps:f,errorProps:p,classNames:m,styles:g,size:b,inputContainer:v,__staticSelector:y,unstyled:w,inputWrapperOrder:x,withAsterisk:S}=n,A=((e,t)=>{var n={};for(var r in e)gf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&mf)for(var r of mf(e))t.indexOf(r)<0&&bf.call(e,r)&&(n[r]=e[r]);return n})(n,["className","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","size","inputContainer","__staticSelector","unstyled","inputWrapperOrder","withAsterisk"]),{classes:E,cx:k}=uf(null,{classNames:m,styles:g,name:["InputWrapper",y],unstyled:w}),C={classNames:m,styles:g,unstyled:w,size:b,__staticSelector:y},_="boolean"===typeof S?S:o,T=l?`${l}-error`:null==p?void 0:p.id,P=l?`${l}-description`:null==f?void 0:f.id,O=`${!!c&&"boolean"!==typeof c?T:""} ${d?P:""}`,M=O.trim().length>0?O.trim():void 0,R=a&&r.createElement(Lh,yf(yf({key:"label",labelElement:u,id:l?`${l}-label`:void 0,htmlFor:l,required:_},C),h),a),I=d&&r.createElement(Jh,wf(yf(yf({key:"description"},f),C),{size:(null==f?void 0:f.size)||C.size,id:(null==f?void 0:f.id)||P}),d),L=r.createElement(r.Fragment,{key:"input"},v(s)),D="boolean"!==typeof c&&c&&r.createElement(Wh,wf(yf(yf({},p),C),{size:(null==p?void 0:p.size)||C.size,key:"error",id:(null==p?void 0:p.id)||T}),c),N=x.map((e=>{switch(e){case"label":return R;case"input":return L;case"description":return I;case"error":return D;default:return null}}));return r.createElement(ef,{value:yf({describedBy:M},tf(x,{hasDescription:!!I,hasError:!!D}))},r.createElement(Nn,yf({className:k(E.root,i),ref:t},A),N))}));Sf.displayName="@mantine/core/InputWrapper";var Af=Object.defineProperty,Ef=Object.getOwnPropertySymbols,kf=Object.prototype.hasOwnProperty,Cf=Object.prototype.propertyIsEnumerable,_f=(e,t,n)=>t in e?Af(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Tf={},Pf=(0,r.forwardRef)(((e,t)=>{const n=jt("InputPlaceholder",Tf,e),{sx:i}=n,a=((e,t)=>{var n={};for(var r in e)kf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ef)for(var r of Ef(e))t.indexOf(r)<0&&Cf.call(e,r)&&(n[r]=e[r]);return n})(n,["sx"]);return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))kf.call(t,n)&&_f(e,n,t[n]);if(Ef)for(var n of Ef(t))Cf.call(t,n)&&_f(e,n,t[n]);return e})({component:"span",sx:[e=>e.fn.placeholderStyles(),...Ka(i)],ref:t},a))}));Pf.displayName="@mantine/core/InputPlaceholder";var Of=Object.defineProperty,Mf=Object.defineProperties,Rf=Object.getOwnPropertyDescriptors,If=Object.getOwnPropertySymbols,Lf=Object.prototype.hasOwnProperty,Df=Object.prototype.propertyIsEnumerable,Nf=(e,t,n)=>t in e?Of(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zf=(e,t)=>{for(var n in t||(t={}))Lf.call(t,n)&&Nf(e,n,t[n]);if(If)for(var n of If(t))Df.call(t,n)&&Nf(e,n,t[n]);return e},Ff=(e,t)=>Mf(e,Rf(t));const jf={xs:30,sm:36,md:42,lg:50,xl:60};function Bf(e){let{theme:t,variant:n}=e;return"default"===n?{border:`1px solid ${"dark"===t.colorScheme?t.colors.dark[4]:t.colors.gray[4]}`,backgroundColor:"dark"===t.colorScheme?t.colors.dark[6]:t.white,transition:"border-color 100ms ease","&:focus, &:focus-within":t.focusRingStyles.inputStyles(t)}:"filled"===n?{border:"1px solid transparent",backgroundColor:"dark"===t.colorScheme?t.colors.dark[5]:t.colors.gray[1],"&:focus, &:focus-within":t.focusRingStyles.inputStyles(t)}:{borderWidth:0,color:"dark"===t.colorScheme?t.colors.dark[0]:t.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}}}var Hf=cn(((e,t)=>{let{size:n,multiline:r,radius:i,variant:a,invalid:s,rightSectionWidth:o,withRightSection:l,iconWidth:c,offsetBottom:d,offsetTop:u,pointer:h}=t;const f=e.fn.variant({variant:"filled",color:"red"}).background,p="default"===a||"filled"===a?{minHeight:e.fn.size({size:n,sizes:jf}),paddingLeft:e.fn.size({size:n,sizes:jf})/3,paddingRight:l?o:e.fn.size({size:n,sizes:jf})/3,borderRadius:e.fn.radius(i)}:null;return{wrapper:{position:"relative",marginTop:u?`calc(${e.spacing.xs}px / 2)`:void 0,marginBottom:d?`calc(${e.spacing.xs}px / 2)`:void 0},input:zf(Ff(zf(Ff(zf({},e.fn.fontStyles()),{height:r?"unstyled"===a?void 0:"auto":e.fn.size({size:n,sizes:jf}),WebkitTapHighlightColor:"transparent",lineHeight:r?e.lineHeight:e.fn.size({size:n,sizes:jf})-2+"px",appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:n,sizes:e.fontSizes}),width:"100%",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,display:"block",textAlign:"left",cursor:h?"pointer":void 0}),p),{"&:disabled":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":Ff(zf({},e.fn.placeholderStyles()),{opacity:1}),"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),Bf({theme:e,variant:a})),withIcon:{paddingLeft:"number"===typeof c?c:e.fn.size({size:n,sizes:jf})},invalid:{color:f,borderColor:f,"&::placeholder":{opacity:1,color:f}},disabled:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:"number"===typeof c?c:e.fn.size({size:n,sizes:jf}),color:s?e.colors.red["dark"===e.colorScheme?6:7]:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center",width:o}}}));const $f=Hf;var Wf=Object.defineProperty,Uf=Object.defineProperties,Vf=Object.getOwnPropertyDescriptors,qf=Object.getOwnPropertySymbols,Gf=Object.prototype.hasOwnProperty,Xf=Object.prototype.propertyIsEnumerable,Yf=(e,t,n)=>t in e?Wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Kf=(e,t)=>{for(var n in t||(t={}))Gf.call(t,n)&&Yf(e,n,t[n]);if(qf)for(var n of qf(t))Xf.call(t,n)&&Yf(e,n,t[n]);return e},Qf=(e,t)=>Uf(e,Vf(t));const Jf={rightSectionWidth:36,size:"sm",variant:"default"},Zf=(0,r.forwardRef)(((e,t)=>{const n=jt("Input",Jf,e),{className:i,invalid:a,required:s,disabled:o,variant:l,icon:c,style:d,rightSectionWidth:u,iconWidth:h,rightSection:f,rightSectionProps:p,radius:m,size:g,wrapperProps:b,classNames:v,styles:y,__staticSelector:w,multiline:x,sx:S,unstyled:A,pointer:E}=n,k=((e,t)=>{var n={};for(var r in e)Gf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&qf)for(var r of qf(e))t.indexOf(r)<0&&Xf.call(e,r)&&(n[r]=e[r]);return n})(n,["className","invalid","required","disabled","variant","icon","style","rightSectionWidth","iconWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx","unstyled","pointer"]),{offsetBottom:C,offsetTop:_,describedBy:T}=(0,r.useContext)(Zh),{classes:P,cx:O}=$f({radius:m,size:g,multiline:x,variant:l,invalid:a,rightSectionWidth:u,iconWidth:h,withRightSection:!!f,offsetBottom:C,offsetTop:_,pointer:E},{classNames:v,styles:y,name:["Input",w],unstyled:A}),{systemStyles:M,rest:R}=gn(k);return r.createElement(Nn,Kf(Kf({className:O(P.wrapper,i),sx:S,style:d},M),b),c&&r.createElement("div",{className:P.icon},c),r.createElement(Nn,Qf(Kf({component:"input"},R),{ref:t,required:s,"aria-invalid":a,"aria-describedby":T,disabled:o,className:O(P[`${l}Variant`],P.input,{[P.withIcon]:c,[P.invalid]:a,[P.disabled]:o})})),f&&r.createElement("div",Qf(Kf({},p),{className:P.rightSection}),f))}));Zf.displayName="@mantine/core/Input",Zf.Wrapper=Sf,Zf.Label=Lh,Zf.Description=Jh,Zf.Error=Wh,Zf.Placeholder=Pf;const ep=Zf;var tp=Object.defineProperty,np=Object.defineProperties,rp=Object.getOwnPropertyDescriptors,ip=Object.getOwnPropertySymbols,ap=Object.prototype.hasOwnProperty,sp=Object.prototype.propertyIsEnumerable,op=(e,t,n)=>t in e?tp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lp=(e,t)=>{for(var n in t||(t={}))ap.call(t,n)&&op(e,n,t[n]);if(ip)for(var n of ip(t))sp.call(t,n)&&op(e,n,t[n]);return e},cp=(e,t)=>np(e,rp(t));const dp={required:!1,size:"sm",shadow:"sm",itemComponent:_s,transition:"fade",transitionDuration:0,initiallyOpened:!1,filter:function(e,t){return t.label.toLowerCase().trim().includes(e.toLowerCase().trim())},maxDropdownHeight:220,searchable:!1,clearable:!1,limit:1/0,disabled:!1,creatable:!1,shouldCreate:function(e,t){return!!e&&!t.some((t=>t.label.toLowerCase()===e.toLowerCase()))},selectOnBlur:!1,switchDirectionOnFlip:!1,filterDataOnExactSearchMatch:!1,zIndex:Xi("popover"),clearButtonTabIndex:0,positionDependencies:[],dropdownPosition:"flip"},up=(0,r.forwardRef)(((e,t)=>{const n=kh("Select",dp,e),{inputProps:i,wrapperProps:a,shadow:s,data:o,value:l,defaultValue:c,onChange:d,itemComponent:u,onKeyDown:h,onBlur:f,onFocus:p,transition:m,transitionDuration:g,initiallyOpened:b,transitionTimingFunction:v,unstyled:y,classNames:w,styles:x,filter:S,maxDropdownHeight:A,searchable:E,clearable:k,nothingFound:C,clearButtonLabel:_,limit:T,disabled:P,onSearchChange:O,searchValue:M,rightSection:R,rightSectionWidth:I,creatable:L,getCreateLabel:D,shouldCreate:N,selectOnBlur:z,onCreate:F,dropdownComponent:j,onDropdownClose:B,onDropdownOpen:H,withinPortal:$,switchDirectionOnFlip:W,zIndex:U,name:V,dropdownPosition:q,allowDeselect:G,placeholder:X,filterDataOnExactSearchMatch:Y,clearButtonTabIndex:K,form:Q,positionDependencies:J,readOnly:Z,hoverOnSearchChange:ee}=n,te=((e,t)=>{var n={};for(var r in e)ap.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ip)for(var r of ip(e))t.indexOf(r)<0&&sp.call(e,r)&&(n[r]=e[r]);return n})(n,["inputProps","wrapperProps","shadow","data","value","defaultValue","onChange","itemComponent","onKeyDown","onBlur","onFocus","transition","transitionDuration","initiallyOpened","transitionTimingFunction","unstyled","classNames","styles","filter","maxDropdownHeight","searchable","clearable","nothingFound","clearButtonLabel","limit","disabled","onSearchChange","searchValue","rightSection","rightSectionWidth","creatable","getCreateLabel","shouldCreate","selectOnBlur","onCreate","dropdownComponent","onDropdownClose","onDropdownOpen","withinPortal","switchDirectionOnFlip","zIndex","name","dropdownPosition","allowDeselect","placeholder","filterDataOnExactSearchMatch","clearButtonTabIndex","form","positionDependencies","readOnly","hoverOnSearchChange"]),{classes:ne,cx:re,theme:ie}=gh(),[ae,se]=(0,r.useState)(b),[oe,le]=(0,r.useState)(-1),ce=(0,r.useRef)(),de=(0,r.useRef)({}),[ue,he]=(0,r.useState)("column"),fe="column"===ue,{scrollIntoView:pe,targetRef:me,scrollableRef:ge}=Vi({duration:0,offset:5,cancelable:!1,isList:!0}),be=void 0===G?k:G,ve=e=>{if(ae!==e){se(e);const t=e?H:B;"function"===typeof t&&t()}},ye=L&&"function"===typeof D;let we=null;const xe=Yi({data:o.map((e=>"string"===typeof e?{label:e,value:e}:e))}),[Se,Ae,Ee]=Br({value:l,defaultValue:c,finalValue:null,onChange:d}),ke=xe.find((e=>e.value===Se)),[Ce,_e]=Br({value:M,defaultValue:(null==ke?void 0:ke.label)||"",finalValue:void 0,onChange:O}),Te=e=>{_e(e),E&&"function"===typeof O&&O(e)};(0,r.useEffect)((()=>{const e=xe.find((e=>e.value===Se));e?Te(e.label):ye&&Se||Te("")}),[Se]),(0,r.useEffect)((()=>{!ke||E&&ae||Te(ke.label)}),[null==ke?void 0:ke.label]);const Pe=e=>{if(!Z)if(be&&(null==ke?void 0:ke.value)===e.value)Ae(null),ve(!1);else{if(e.creatable&&"function"===typeof F){const t=F(e.value);"undefined"!==typeof t&&null!==t&&Ae("string"===typeof t?t:t.value)}else Ae(e.value);Ee||Te(e.label),le(-1),ve(!1),ce.current.focus()}},Oe=function(e){let{data:t,searchable:n,limit:r,searchValue:i,filter:a,value:s,filterDataOnExactSearchMatch:o}=e;if(!n)return t;const l=null!=s&&t.find((e=>e.value===s))||null;if(l&&!o&&(null==l?void 0:l.label)===i){if(r){if(r>=t.length)return t;const e=t.indexOf(l),n=e+r,i=n-t.length;return i>0?t.slice(e-i):t.slice(e,n)}return t}const c=[];for(let d=0;d<t.length&&(a(i,t[d])&&c.push(t[d]),!(c.length>=r));d+=1);return c}({data:xe,searchable:E,limit:T,searchValue:Ce,filter:S,filterDataOnExactSearchMatch:Y,value:Se});ye&&N(Ce,Oe)&&(we=D(Ce),Oe.push({label:Ce,value:Ce,creatable:!0}));const Me=(e,t,n)=>{let r=e;for(;n(r);)if(r=t(r),!Oe[r].disabled)return r;return e};qi((()=>{le(ee&&Ce?0:-1)}),[Ce,ee]);const Re=Se?Oe.findIndex((e=>e.value===Se)):0,Ie=!Z&&(Oe.length>0?ae:ae&&!!C),Le=()=>{le((e=>{var t;const n=Me(e,(e=>e-1),(e=>e>0));return me.current=de.current[null==(t=Oe[n])?void 0:t.value],Ie&&pe({alignment:fe?"start":"end"}),n}))},De=()=>{le((e=>{var t;const n=Me(e,(e=>e+1),(e=>e<Oe.length-1));return me.current=de.current[null==(t=Oe[n])?void 0:t.value],Ie&&pe({alignment:fe?"end":"start"}),n}))},Ne=()=>window.setTimeout((()=>{var e;me.current=de.current[null==(e=Oe[Re])?void 0:e.value],pe({alignment:fe?"end":"start"})}),0);qi((()=>{Ie&&Ne()}),[Ie]);return r.createElement(ep.Wrapper,cp(lp({},a),{__staticSelector:"Select"}),r.createElement(mh,{opened:Ie,transition:m,transitionDuration:g,shadow:"sm",withinPortal:$,__staticSelector:"Select",onDirectionChange:he,switchDirectionOnFlip:W,zIndex:U,dropdownPosition:q,positionDependencies:[...J,Ce],classNames:w,styles:x,unstyled:y},r.createElement(mh.Target,null,r.createElement("div",{role:"combobox","aria-haspopup":"listbox","aria-owns":Ie?`${i.id}-items`:null,"aria-controls":i.id,"aria-expanded":Ie,onMouseLeave:()=>le(-1),tabIndex:-1},r.createElement("input",{type:"hidden",name:V,value:Se||"",form:Q,disabled:P}),r.createElement(ep,lp(cp(lp(lp({autoComplete:"off",type:"search"},i),te),{ref:Xr(t,ce),onKeyDown:e=>{switch("function"===typeof h&&h(e),e.key){case"ArrowUp":e.preventDefault(),ae?fe?Le():De():(le(Re),ve(!0),Ne());break;case"ArrowDown":e.preventDefault(),ae?fe?De():Le():(le(Re),ve(!0),Ne());break;case"Home":if(!E){e.preventDefault(),ae||ve(!0);const t=Oe.findIndex((e=>!e.disabled));le(t),Ie&&pe({alignment:fe?"end":"start"})}break;case"End":if(!E){e.preventDefault(),ae||ve(!0);const t=Oe.map((e=>!!e.disabled)).lastIndexOf(!1);le(t),Ie&&pe({alignment:fe?"end":"start"})}break;case"Escape":e.preventDefault(),ve(!1),le(-1);break;case" ":E||(e.preventDefault(),Oe[oe]&&ae?Pe(Oe[oe]):(ve(!0),le(Re),Ne()));break;case"Enter":E||e.preventDefault(),Oe[oe]&&ae&&(e.preventDefault(),Pe(Oe[oe]))}},__staticSelector:"Select",value:Ce,placeholder:X,onChange:e=>{Z||(Te(e.currentTarget.value),k&&""===e.currentTarget.value&&Ae(null),le(-1),ve(!0))},"aria-autocomplete":"list","aria-controls":Ie?`${i.id}-items`:null,"aria-activedescendant":oe>=0?`${i.id}-${oe}`:null,onMouseDown:()=>{Z||(ve(!ae),Se&&!ae&&le(Re))},onBlur:e=>{"function"===typeof f&&f(e);const t=xe.find((e=>e.value===Se));z&&Oe[oe]&&ae&&Pe(Oe[oe]),Te((null==t?void 0:t.label)||""),ve(!1)},onFocus:e=>{"function"===typeof p&&p(e),E&&ve(!0)},readOnly:!E||Z,disabled:P,"data-mantine-stop-propagation":Ie,name:null,classNames:cp(lp({},w),{input:re({[ne.input]:!E},null==w?void 0:w.input)})}),bl({theme:ie,rightSection:R,rightSectionWidth:I,styles:x,size:i.size,shouldClear:k&&!!ke,clearButtonLabel:_,onClear:()=>{var e;Z||(Ae(null),Ee||Te(""),null==(e=ce.current)||e.focus())},error:a.error,clearButtonTabIndex:K,disabled:P,readOnly:Z}))))),r.createElement(mh.Dropdown,{component:j||xs,maxHeight:A,direction:ue,id:i.id,innerRef:ge,__staticSelector:"Select",classNames:w,styles:x},r.createElement(Gl,{data:Oe,hovered:oe,classNames:w,styles:x,isItemSelected:e=>e===Se,uuid:i.id,__staticSelector:"Select",onItemHover:le,onItemSelect:Pe,itemsRefs:de,itemComponent:u,size:i.size,nothingFound:C,creatable:ye&&!!we,createLabel:we,"aria-label":a.label,unstyled:y}))))}));up.displayName="@mantine/core/Select";const hp={left:"flex-start",center:"center",right:"flex-end",apart:"space-between"};var fp=cn(((e,t)=>{let{spacing:n,position:r,noWrap:i,grow:a,align:s,count:o}=t;return{root:{boxSizing:"border-box",display:"flex",flexDirection:"row",alignItems:s||"center",flexWrap:i?"nowrap":"wrap",justifyContent:hp[r],gap:e.fn.size({size:n,sizes:e.spacing}),"& > *":{boxSizing:"border-box",maxWidth:a?`calc(${100/o}% - ${e.fn.size({size:n,sizes:e.spacing})-e.fn.size({size:n,sizes:e.spacing})/o}px)`:void 0,flexGrow:a?1:0}}}}));const pp=fp;var mp=Object.defineProperty,gp=Object.getOwnPropertySymbols,bp=Object.prototype.hasOwnProperty,vp=Object.prototype.propertyIsEnumerable,yp=(e,t,n)=>t in e?mp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const wp={position:"left",spacing:"md"},xp=(0,r.forwardRef)(((e,t)=>{const n=jt("Group",wp,e),{className:i,position:a,align:s,children:o,noWrap:l,grow:c,spacing:d,unstyled:u}=n,h=((e,t)=>{var n={};for(var r in e)bp.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&gp)for(var r of gp(e))t.indexOf(r)<0&&vp.call(e,r)&&(n[r]=e[r]);return n})(n,["className","position","align","children","noWrap","grow","spacing","unstyled"]),f=function(e){return r.Children.toArray(e).filter(Boolean)}(o),{classes:p,cx:m}=pp({align:s,grow:c,noWrap:l,spacing:d,position:a,count:f.length},{unstyled:u,name:"Group"});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))bp.call(t,n)&&yp(e,n,t[n]);if(gp)for(var n of gp(t))vp.call(t,n)&&yp(e,n,t[n]);return e})({className:m(p.root,i),ref:t},h),f)}));function Sp(e,t,n){return Math.min(Math.max(e,t),n)}xp.displayName="@mantine/core/Group";function Ap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ltr";const i=(0,r.useRef)(),a=(0,r.useRef)(!1),s=(0,r.useRef)(!1),o=(0,r.useRef)(0),[l,c]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{a.current=!0}),[]),(0,r.useEffect)((()=>{const r=t=>{let{x:r,y:s}=t;cancelAnimationFrame(o.current),o.current=requestAnimationFrame((()=>{if(a.current&&i.current){i.current.style.userSelect="none";const t=i.current.getBoundingClientRect();if(t.width&&t.height){const i=Sp((r-t.left)/t.width,0,1);e({x:"ltr"===n?i:1-i,y:Sp((s-t.top)/t.height,0,1)})}}}))},l=()=>{!s.current&&a.current&&(s.current=!0,"function"===typeof(null==t?void 0:t.onScrubStart)&&t.onScrubStart(),c(!0),document.addEventListener("mousemove",h),document.addEventListener("mouseup",d),document.addEventListener("touchmove",p),document.addEventListener("touchend",d))},d=()=>{s.current&&a.current&&(s.current=!1,c(!1),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",d),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",d),setTimeout((()=>{"function"===typeof(null==t?void 0:t.onScrubEnd)&&t.onScrubEnd()}),0))},u=e=>{l(),e.preventDefault(),h(e)},h=e=>r({x:e.clientX,y:e.clientY}),f=e=>{e.cancelable&&e.preventDefault(),l(),p(e)},p=e=>{e.cancelable&&e.preventDefault(),r({x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY})};return i.current.addEventListener("mousedown",u),i.current.addEventListener("touchstart",f,{passive:!1}),()=>{i.current&&(i.current.removeEventListener("mousedown",u),i.current.removeEventListener("touchstart",f))}}),[n,e]),{ref:i,active:l}}function Ep(e){let{value:t,min:n,max:r}=e;const i=(t-n)/(r-n)*100;return Math.min(Math.max(i,0),100)}var kp=Object.defineProperty,Cp=Object.defineProperties,_p=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,Pp=Object.prototype.hasOwnProperty,Op=Object.prototype.propertyIsEnumerable,Mp=(e,t,n)=>t in e?kp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rp=(e,t)=>{for(var n in t||(t={}))Pp.call(t,n)&&Mp(e,n,t[n]);if(Tp)for(var n of Tp(t))Op.call(t,n)&&Mp(e,n,t[n]);return e};const Ip={xs:4,sm:6,md:8,lg:10,xl:12};var Lp=cn(((e,t)=>{let{size:n,disabled:r}=t;return{root:(i=Rp({},e.fn.fontStyles()),a={WebkitTapHighlightColor:"transparent",outline:0,height:2*e.fn.size({sizes:Ip,size:n}),display:"flex",alignItems:"center",cursor:r?"not-allowed":"pointer",touchAction:"none"},Cp(i,_p(a)))};var i,a}));const Dp=Lp;var Np=Object.defineProperty,zp=Object.defineProperties,Fp=Object.getOwnPropertyDescriptors,jp=Object.getOwnPropertySymbols,Bp=Object.prototype.hasOwnProperty,Hp=Object.prototype.propertyIsEnumerable,$p=(e,t,n)=>t in e?Np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wp=(e,t)=>{for(var n in t||(t={}))Bp.call(t,n)&&$p(e,n,t[n]);if(jp)for(var n of jp(t))Hp.call(t,n)&&$p(e,n,t[n]);return e},Up=cn(((e,t)=>{let{color:n,size:r,disabled:i,thumbSize:a}=t;return{label:{position:"absolute",top:-36,backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[9],fontSize:e.fontSizes.xs,color:e.white,padding:`calc(${e.spacing.xs}px / 2)`,borderRadius:e.radius.sm,whiteSpace:"nowrap",pointerEvents:"none",userSelect:"none",touchAction:"none"},thumb:(s=Wp({},e.fn.focusStyles()),o={boxSizing:"border-box",position:"absolute",display:i?"none":"flex",height:a||2*e.fn.size({sizes:Ip,size:r}),width:a||2*e.fn.size({sizes:Ip,size:r}),backgroundColor:"dark"===e.colorScheme?e.fn.themeColor(n,e.fn.primaryShade()):e.white,border:`4px solid ${"dark"===e.colorScheme?e.white:e.fn.themeColor(n,e.fn.primaryShade())}`,color:"dark"===e.colorScheme?e.white:e.fn.themeColor(n,e.fn.primaryShade()),transform:"translate(-50%, -50%)",top:"50%",cursor:"pointer",borderRadius:1e3,alignItems:"center",justifyContent:"center",transitionDuration:"100ms",transitionProperty:"box-shadow, transform",transitionTimingFunction:e.transitionTimingFunction,zIndex:3,userSelect:"none",touchAction:"none"},zp(s,Fp(o))),dragging:{transform:"translate(-50%, -50%) scale(1.05)",boxShadow:e.shadows.sm}};var s,o}));const Vp=Up,qp=(0,r.forwardRef)(((e,t)=>{let{max:n,min:i,value:a,position:s,label:o,dragging:l,onMouseDown:c,color:d,classNames:u,styles:h,size:f,labelTransition:p,labelTransitionDuration:m,labelTransitionTimingFunction:g,labelAlwaysOn:b,thumbLabel:v,onFocus:y,onBlur:w,showLabelOnHover:x,children:S=null,disabled:A,unstyled:E,thumbSize:k}=e;const{classes:C,cx:_,theme:T}=Vp({color:d,size:f,disabled:A,thumbSize:k},{classNames:u,styles:h,unstyled:E,name:"Slider"}),[P,O]=(0,r.useState)(!1),M=b||l||P||x;return r.createElement(Nn,{tabIndex:0,role:"slider","aria-label":v,"aria-valuemax":n,"aria-valuemin":i,"aria-valuenow":a,ref:t,className:_(C.thumb,{[C.dragging]:l}),onFocus:()=>{O(!0),"function"===typeof y&&y()},onBlur:()=>{O(!1),"function"===typeof w&&w()},onTouchStart:c,onMouseDown:c,onClick:e=>e.stopPropagation(),style:{["rtl"===T.dir?"right":"left"]:`${s}%`}},S,r.createElement(mu,{mounted:null!=o&&M,duration:m,transition:p,timingFunction:g||T.transitionTimingFunction},(e=>r.createElement("div",{style:e,className:C.label},o))))}));function Gp(e){let{mark:t,offset:n,value:r,inverted:i=!1}=e;return i?"number"===typeof n&&t.value<=n||t.value>=r:"number"===typeof n?t.value>=n&&t.value<=r:t.value<=r}qp.displayName="@mantine/core/SliderThumb";var Xp=cn(((e,t)=>{let{size:n,color:r,disabled:i}=t;return{markWrapper:{position:"absolute",top:0,zIndex:2},mark:{boxSizing:"border-box",border:`${e.fn.size({size:n,sizes:Ip})>=8?"2px":"1px"} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]}`,height:e.fn.size({sizes:Ip,size:n}),width:e.fn.size({sizes:Ip,size:n}),borderRadius:1e3,transform:`translateX(-${e.fn.size({sizes:Ip,size:n})/2}px)`,backgroundColor:e.white},markFilled:{borderColor:i?"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:r}).background},markLabel:{transform:"translate(-50%, 0)",fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6],marginTop:`calc(${e.spacing.xs}px / 2)`,whiteSpace:"nowrap"}}}));const Yp=Xp;function Kp(e){let{marks:t,color:n,size:i,min:a,max:s,value:o,classNames:l,styles:c,offset:d,onChange:u,disabled:h,unstyled:f,inverted:p}=e;const{classes:m,cx:g}=Yp({size:i,color:n,disabled:h},{classNames:l,styles:c,unstyled:f,name:"Slider"}),b=t.map(((e,t)=>r.createElement(Nn,{className:m.markWrapper,sx:{left:`${Ep({value:e.value,min:a,max:s})}%`},key:t},r.createElement("div",{className:g(m.mark,{[m.markFilled]:Gp({mark:e,value:o,offset:d,inverted:p})})}),e.label&&r.createElement("div",{className:m.markLabel,onMouseDown:t=>{t.stopPropagation(),u(e.value)},onTouchStart:t=>{t.stopPropagation(),u(e.value)}},e.label))));return r.createElement("div",null,b)}Kp.displayName="@mantine/core/SliderMarks";var Qp=cn(((e,t)=>{let{radius:n,size:r,color:i,disabled:a,inverted:s}=t;return{track:{position:"relative",height:e.fn.size({sizes:Ip,size:r}),width:"100%",marginRight:e.fn.size({size:r,sizes:Ip}),marginLeft:e.fn.size({size:r,sizes:Ip}),"&::before":{content:'""',position:"absolute",top:0,bottom:0,borderRadius:e.fn.size({size:n,sizes:e.radius}),right:-e.fn.size({size:r,sizes:Ip}),left:-e.fn.size({size:r,sizes:Ip}),backgroundColor:s?a?"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:i}).background:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],zIndex:0}},bar:{position:"absolute",zIndex:1,top:0,bottom:0,backgroundColor:s?"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2]:a?"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4]:e.fn.variant({variant:"filled",color:i}).background,borderRadius:e.fn.size({size:n,sizes:e.radius})}}}));const Jp=Qp;var Zp=Object.defineProperty,em=Object.defineProperties,tm=Object.getOwnPropertyDescriptors,nm=Object.getOwnPropertySymbols,rm=Object.prototype.hasOwnProperty,im=Object.prototype.propertyIsEnumerable,am=(e,t,n)=>t in e?Zp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function sm(e){var t=e,{filled:n,size:i,color:a,classNames:s,styles:o,radius:l,children:c,offset:d,onMouseLeave:u,onMouseEnter:h,disabled:f,marksOffset:p,unstyled:m,inverted:g}=t,b=((e,t)=>{var n={};for(var r in e)rm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&nm)for(var r of nm(e))t.indexOf(r)<0&&im.call(e,r)&&(n[r]=e[r]);return n})(t,["filled","size","color","classNames","styles","radius","children","offset","onMouseLeave","onMouseEnter","disabled","marksOffset","unstyled","inverted"]);const{classes:v}=Jp({color:a,size:i,radius:l,disabled:f,inverted:g},{classNames:s,styles:o,unstyled:m,name:"Slider"});return r.createElement("div",{className:v.track,onMouseLeave:u,onMouseEnter:h},r.createElement(Nn,{className:v.bar,sx:e=>({left:`calc(${d}% - ${e.fn.size({size:i,sizes:Ip})}px)`,width:`calc(${n}% + ${e.fn.size({size:i,sizes:Ip})}px)`})}),c,r.createElement(Kp,(y=((e,t)=>{for(var n in t||(t={}))rm.call(t,n)&&am(e,n,t[n]);if(nm)for(var n of nm(t))im.call(t,n)&&am(e,n,t[n]);return e})({},b),em(y,tm({size:i,color:a,offset:p,classNames:s,styles:o,disabled:f,unstyled:m,inverted:g})))));var y}sm.displayName="@mantine/core/SliderTrack";var om=Object.defineProperty,lm=Object.defineProperties,cm=Object.getOwnPropertyDescriptors,dm=Object.getOwnPropertySymbols,um=Object.prototype.hasOwnProperty,hm=Object.prototype.propertyIsEnumerable,fm=(e,t,n)=>t in e?om(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const pm=(0,r.forwardRef)(((e,t)=>{var n=e,{className:i,size:a,classNames:s,styles:o,disabled:l,unstyled:c}=n,d=((e,t)=>{var n={};for(var r in e)um.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dm)for(var r of dm(e))t.indexOf(r)<0&&hm.call(e,r)&&(n[r]=e[r]);return n})(n,["className","size","classNames","styles","disabled","unstyled"]);const{classes:u,cx:h}=Dp({size:a,disabled:l},{classNames:s,styles:o,unstyled:c,name:"Slider"});return r.createElement(Nn,(f=((e,t)=>{for(var n in t||(t={}))um.call(t,n)&&fm(e,n,t[n]);if(dm)for(var n of dm(t))hm.call(t,n)&&fm(e,n,t[n]);return e})({},d),p={tabIndex:-1,className:h(u.root,i),ref:t},lm(f,cm(p))));var f,p}));pm.displayName="@mantine/core/SliderRoot";var mm=Object.defineProperty,gm=Object.defineProperties,bm=Object.getOwnPropertyDescriptors,vm=Object.getOwnPropertySymbols,ym=Object.prototype.hasOwnProperty,wm=Object.prototype.propertyIsEnumerable,xm=(e,t,n)=>t in e?mm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Sm={size:"md",radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransition:"skew-down",labelTransitionDuration:0,labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Am=(0,r.forwardRef)(((e,t)=>{const n=jt("Slider",Sm,e),{classNames:i,styles:a,color:s,value:o,onChange:l,onChangeEnd:c,size:d,radius:u,min:h,max:f,step:p,precision:m,defaultValue:g,name:b,marks:v,label:y,labelTransition:w,labelTransitionDuration:x,labelTransitionTimingFunction:S,labelAlwaysOn:A,thumbLabel:E,showLabelOnHover:k,thumbChildren:C,disabled:_,unstyled:T,thumbSize:P,scale:O,inverted:M}=n,R=((e,t)=>{var n={};for(var r in e)ym.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vm)for(var r of vm(e))t.indexOf(r)<0&&wm.call(e,r)&&(n[r]=e[r]);return n})(n,["classNames","styles","color","value","onChange","onChangeEnd","size","radius","min","max","step","precision","defaultValue","name","marks","label","labelTransition","labelTransitionDuration","labelTransitionTimingFunction","labelAlwaysOn","thumbLabel","showLabelOnHover","thumbChildren","disabled","unstyled","thumbSize","scale","inverted"]),I=zt(),[L,D]=(0,r.useState)(!1),[N,z]=Br({value:"number"===typeof o?Sp(o,h,f):o,defaultValue:"number"===typeof g?Sp(g,h,f):g,finalValue:Sp(0,h,f),onChange:l}),F=(0,r.useRef)(N),j=(0,r.useRef)(),B=Ep({value:N,min:h,max:f}),H=O(N),$="function"===typeof y?y(H):y,W=(0,r.useCallback)((e=>{let{x:t}=e;if(!_){const e=function(e){let{value:t,containerWidth:n,min:r,max:i,step:a,precision:s}=e;const o=(n?Math.min(Math.max(t,0),n)/n:t)*(i-r),l=(0!==o?Math.round(o/a)*a:0)+r,c=Math.max(l,r);return void 0!==s?Number(c.toFixed(s)):c}({value:t,min:h,max:f,step:p,precision:m});z(e),F.current=e}}),[_,h,f,p,m]),{ref:U,active:V}=Ap(W,{onScrubEnd:()=>null==c?void 0:c(F.current)},I.dir);return r.createElement(pm,(q=((e,t)=>{for(var n in t||(t={}))ym.call(t,n)&&xm(e,n,t[n]);if(vm)for(var n of vm(t))wm.call(t,n)&&xm(e,n,t[n]);return e})({},R),G={size:d,ref:Xr(U,t),onKeyDownCapture:e=>{if(!_)switch(e.key){case"ArrowUp":{e.preventDefault(),j.current.focus();const t=Math.min(Math.max(N+p,h),f);null==c||c(t),z(t);break}case"ArrowRight":{e.preventDefault(),j.current.focus();const t=Math.min(Math.max("rtl"===I.dir?N-p:N+p,h),f);null==c||c(t),z(t);break}case"ArrowDown":{e.preventDefault(),j.current.focus();const t=Math.min(Math.max(N-p,h),f);null==c||c(t),z(t);break}case"ArrowLeft":{e.preventDefault(),j.current.focus();const t=Math.min(Math.max("rtl"===I.dir?N+p:N-p,h),f);null==c||c(t),z(t);break}case"Home":e.preventDefault(),j.current.focus(),null==c||c(h),z(h);break;case"End":e.preventDefault(),j.current.focus(),null==c||c(f),z(f)}},onMouseDownCapture:()=>{var e;return null==(e=U.current)?void 0:e.focus()},classNames:i,styles:a,disabled:_,unstyled:T},gm(q,bm(G))),r.createElement(sm,{inverted:M,offset:0,filled:B,marks:v,size:d,radius:u,color:s,min:h,max:f,value:H,onChange:z,onMouseEnter:k?()=>D(!0):void 0,onMouseLeave:k?()=>D(!1):void 0,classNames:i,styles:a,disabled:_,unstyled:T},r.createElement(qp,{max:f,min:h,value:H,position:B,dragging:V,color:s,size:d,label:$,ref:j,onMouseDown:e=>{e.stopPropagation()},labelTransition:w,labelTransitionDuration:x,labelTransitionTimingFunction:S,labelAlwaysOn:A,classNames:i,styles:a,thumbLabel:E,showLabelOnHover:k&&L,disabled:_,unstyled:T,thumbSize:P},C)),r.createElement("input",{type:"hidden",name:b,value:H}));var q,G}));Am.displayName="@mantine/core/Slider";const Em=r.useLayoutEffect;var km=function(e,t){"function"!==typeof e?e.current=t:e(t)};const Cm=function(e,t){var n=(0,r.useRef)();return(0,r.useCallback)((function(r){e.current=r,n.current&&km(n.current,null),n.current=t,t&&km(t,r)}),[t])};var _m={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Tm=function(e){Object.keys(_m).forEach((function(t){e.style.setProperty(t,_m[t],"important")}))},Pm=null;var Om=function(){},Mm=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Rm=!!document.documentElement.currentStyle,Im=function(e){var t=function(e){var t=r.useRef(e);return Em((function(){t.current=e})),t}(e);(0,r.useLayoutEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])},Lm=function(e,t){var n=e.cacheMeasurements,i=e.maxRows,a=e.minRows,s=e.onChange,o=void 0===s?Om:s,l=e.onHeightChange,c=void 0===l?Om:l,d=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var u=void 0!==d.value,h=(0,r.useRef)(null),f=Cm(h,t),p=(0,r.useRef)(0),m=(0,r.useRef)(),g=function(){var e=h.current,t=n&&m.current?m.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,Mm.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(Rm&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){m.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),Pm||((Pm=document.createElement("textarea")).setAttribute("tabindex","-1"),Pm.setAttribute("aria-hidden","true"),Tm(Pm)),null===Pm.parentNode&&document.body.appendChild(Pm);var i=e.paddingSize,a=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach((function(e){var t=e;Pm.style[t]=s[t]})),Tm(Pm),Pm.value=t;var l=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(Pm,e);Pm.value="x";var c=Pm.scrollHeight-i,d=c*n;"border-box"===o&&(d=d+i+a),l=Math.max(d,l);var u=c*r;return"border-box"===o&&(u=u+i+a),[l=Math.min(u,l),c]}(t,e.value||e.placeholder||"x",a,i),s=r[0],o=r[1];p.current!==s&&(p.current=s,e.style.setProperty("height",s+"px","important"),c(s,{rowHeight:o}))}};return(0,r.useLayoutEffect)(g),Im(g),(0,r.createElement)("textarea",le({},d,{onChange:function(e){u||g(),o(e)},ref:f}))};const Dm=(0,r.forwardRef)(Lm);const Nm=cn((e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})));var zm=Object.defineProperty,Fm=Object.defineProperties,jm=Object.getOwnPropertyDescriptors,Bm=Object.getOwnPropertySymbols,Hm=Object.prototype.hasOwnProperty,$m=Object.prototype.propertyIsEnumerable,Wm=(e,t,n)=>t in e?zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Um=(e,t)=>{for(var n in t||(t={}))Hm.call(t,n)&&Wm(e,n,t[n]);if(Bm)for(var n of Bm(t))$m.call(t,n)&&Wm(e,n,t[n]);return e},Vm=(e,t)=>Fm(e,jm(t));const qm={autosize:!1,size:"sm",__staticSelector:"Textarea"},Gm=(0,r.forwardRef)(((e,t)=>{const n=jt("Textarea",qm,e),{autosize:i,maxRows:a,minRows:s,label:o,error:l,description:c,id:d,className:u,required:h,style:f,wrapperProps:p,classNames:m,styles:g,size:b,__staticSelector:v,sx:y,errorProps:w,descriptionProps:x,labelProps:S,inputWrapperOrder:A,inputContainer:E,unstyled:k,withAsterisk:C}=n,_=((e,t)=>{var n={};for(var r in e)Hm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bm)for(var r of Bm(e))t.indexOf(r)<0&&$m.call(e,r)&&(n[r]=e[r]);return n})(n,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk"]),T=Ur(d),{classes:P,cx:O}=Nm(),{systemStyles:M,rest:R}=gn(_),I=Um({required:h,ref:t,invalid:!!l,id:T,classNames:Vm(Um({},m),{input:O(P.input,null==m?void 0:m.input)}),styles:g,__staticSelector:v,size:b,multiline:!0,unstyled:k},R);return r.createElement(ep.Wrapper,Um(Um({label:o,error:l,id:T,description:c,required:h,style:f,className:u,classNames:m,styles:g,size:b,__staticSelector:v,sx:y,errorProps:w,labelProps:S,descriptionProps:x,inputContainer:E,inputWrapperOrder:A,unstyled:k,withAsterisk:C},M),p),i?r.createElement(ep,Vm(Um({},I),{component:Dm,maxRows:a,minRows:s})):r.createElement(ep,Vm(Um({},I),{component:"textarea",rows:s})))}));Gm.displayName="@mantine/core/Textarea";const Xm=cn(((e,t)=>{let{orientation:n,buttonBorderWidth:r}=t;return{root:{display:"flex",flexDirection:"vertical"===n?"column":"row","& [data-button]":{"&:first-of-type":{borderBottomRightRadius:0,["vertical"===n?"borderBottomLeftRadius":"borderTopRightRadius"]:0,["vertical"===n?"borderBottomWidth":"borderRightWidth"]:r/2},"&:last-of-type":{borderTopLeftRadius:0,["vertical"===n?"borderTopRightRadius":"borderBottomLeftRadius"]:0,["vertical"===n?"borderTopWidth":"borderLeftWidth"]:r/2},"&:not(:first-of-type):not(:last-of-type)":{borderRadius:0,["vertical"===n?"borderTopWidth":"borderLeftWidth"]:r/2,["vertical"===n?"borderBottomWidth":"borderRightWidth"]:r/2},"& + [data-button]":{["vertical"===n?"marginTop":"marginLeft"]:-r,"@media (min-resolution: 192dpi)":{["vertical"===n?"marginTop":"marginLeft"]:0}}}}}}));var Ym=Object.defineProperty,Km=Object.getOwnPropertySymbols,Qm=Object.prototype.hasOwnProperty,Jm=Object.prototype.propertyIsEnumerable,Zm=(e,t,n)=>t in e?Ym(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const eg={orientation:"horizontal",buttonBorderWidth:1},tg=(0,r.forwardRef)(((e,t)=>{const n=jt("ButtonGroup",eg,e),{className:i,orientation:a,buttonBorderWidth:s,unstyled:o}=n,l=((e,t)=>{var n={};for(var r in e)Qm.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Km)for(var r of Km(e))t.indexOf(r)<0&&Jm.call(e,r)&&(n[r]=e[r]);return n})(n,["className","orientation","buttonBorderWidth","unstyled"]),{classes:c,cx:d}=Xm({orientation:a,buttonBorderWidth:s},{name:"ButtonGroup",unstyled:o});return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))Qm.call(t,n)&&Zm(e,n,t[n]);if(Km)for(var n of Km(t))Jm.call(t,n)&&Zm(e,n,t[n]);return e})({className:d(c.root,i),ref:t},l))}));tg.displayName="@mantine/core/ButtonGroup";var ng=Object.defineProperty,rg=Object.defineProperties,ig=Object.getOwnPropertyDescriptors,ag=Object.getOwnPropertySymbols,sg=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable,lg=(e,t,n)=>t in e?ng(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cg=(e,t)=>{for(var n in t||(t={}))sg.call(t,n)&&lg(e,n,t[n]);if(ag)for(var n of ag(t))og.call(t,n)&&lg(e,n,t[n]);return e},dg=(e,t)=>rg(e,ig(t));const ug={xs:{height:jf.xs,paddingLeft:14,paddingRight:14},sm:{height:jf.sm,paddingLeft:18,paddingRight:18},md:{height:jf.md,paddingLeft:22,paddingRight:22},lg:{height:jf.lg,paddingLeft:26,paddingRight:26},xl:{height:jf.xl,paddingLeft:32,paddingRight:32},"compact-xs":{height:22,paddingLeft:7,paddingRight:7},"compact-sm":{height:26,paddingLeft:8,paddingRight:8},"compact-md":{height:30,paddingLeft:10,paddingRight:10},"compact-lg":{height:34,paddingLeft:12,paddingRight:12},"compact-xl":{height:40,paddingLeft:14,paddingRight:14}};function hg(e){let{compact:t,size:n,withLeftIcon:r,withRightIcon:i}=e;if(t)return ug[`compact-${n}`];const a=ug[n];return dg(cg({},a),{paddingLeft:r?a.paddingLeft/1.5:a.paddingLeft,paddingRight:i?a.paddingRight/1.5:a.paddingRight})}const fg=e=>({display:e?"block":"inline-block",width:e?"100%":"auto"});function pg(e){let{variant:t,theme:n,color:r,gradient:i}=e;const a=n.fn.variant({color:r,variant:t,gradient:i});return"gradient"===t?{border:0,backgroundImage:a.background,color:a.color,"&:hover":n.fn.hover({backgroundSize:"200%"})}:cg({border:`1px solid ${a.border}`,backgroundColor:a.background,color:a.color},n.fn.hover({backgroundColor:a.hover}))}var mg=cn(((e,t)=>{let{color:n,size:r,radius:i,fullWidth:a,compact:s,gradient:o,variant:l,withLeftIcon:c,withRightIcon:d}=t;return{root:dg(cg(dg(cg(cg(cg(cg({},hg({compact:s,size:r,withLeftIcon:c,withRightIcon:d})),e.fn.fontStyles()),e.fn.focusStyles()),fg(a)),{borderRadius:e.fn.radius(i),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:r,sizes:e.fontSizes}),userSelect:"none",cursor:"pointer"}),pg({variant:l,theme:e,color:n,gradient:o})),{"&:active":e.activeStyles,"&:disabled, &[data-disabled]":{borderColor:"transparent",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed",backgroundImage:"none",pointerEvents:"none","&:active":{transform:"none"}},"&[data-loading]":{pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.radius(i),cursor:"not-allowed"}}}),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},centerLoader:{position:"absolute",left:"50%",transform:"translateX(-50%)",opacity:.5},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}}));const gg=mg;var bg=Object.defineProperty,vg=Object.getOwnPropertySymbols,yg=Object.prototype.hasOwnProperty,wg=Object.prototype.propertyIsEnumerable,xg=(e,t,n)=>t in e?bg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sg=(e,t)=>{for(var n in t||(t={}))yg.call(t,n)&&xg(e,n,t[n]);if(vg)for(var n of vg(t))wg.call(t,n)&&xg(e,n,t[n]);return e};const Ag={size:"sm",type:"button",variant:"filled",loaderPosition:"left"},Eg=(0,r.forwardRef)(((e,t)=>{const n=jt("Button",Ag,e),{className:i,size:a,color:s,type:o,disabled:l,children:c,leftIcon:d,rightIcon:u,fullWidth:h,variant:f,radius:p,uppercase:m,compact:g,loading:b,loaderPosition:v,loaderProps:y,gradient:w,classNames:x,styles:S,unstyled:A}=n,E=((e,t)=>{var n={};for(var r in e)yg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&vg)for(var r of vg(e))t.indexOf(r)<0&&wg.call(e,r)&&(n[r]=e[r]);return n})(n,["className","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","unstyled"]),{classes:k,cx:C,theme:_}=gg({radius:p,color:s,size:a,fullWidth:h,compact:g,gradient:w,variant:f,withLeftIcon:!!d,withRightIcon:!!u},{name:"Button",unstyled:A,classNames:x,styles:S}),T=_.fn.variant({color:s,variant:f}),P=r.createElement(yo,Sg({color:T.color,size:_.fn.size({size:a,sizes:ug}).height/2},y));return r.createElement(Do,Sg({className:C(k.root,i),type:o,disabled:l,"data-button":!0,"data-disabled":l||void 0,"data-loading":b||void 0,ref:t,unstyled:A},E),r.createElement("div",{className:k.inner},(d||b&&"left"===v)&&r.createElement("span",{className:C(k.icon,k.leftIcon)},b&&"left"===v?P:d),b&&"center"===v&&r.createElement("span",{className:k.centerLoader},P),r.createElement("span",{className:k.label,style:{textTransform:m?"uppercase":void 0}},c),(u||b&&"right"===v)&&r.createElement("span",{className:C(k.icon,k.rightIcon)},b&&"right"===v?P:u)))}));Eg.displayName="@mantine/core/Button",Eg.Group=tg;const kg=Eg;var Cg=n(579);const _g=[{value:"en-US",label:"English (US)"},{value:"en-GB",label:"English (UK)"}];const Tg=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(_g[0].value),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(-1),[u,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(1),m=(0,r.useRef)(null),g=(0,r.useRef)(null),b=(0,r.useRef)(null),v=()=>{window.speechSynthesis.cancel(),s(!1),l(!1),d(-1),h(!1)};(0,r.useEffect)((()=>{if(-1!==c&&g.current){const e=g.current.children[c];e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}),[c]);const y=e.split(/\r?\n/);return(0,Cg.jsxs)(Cg.Fragment,{children:[(0,Cg.jsxs)($i,{padding:"md",shadow:"xs",mt:"md",radius:"md",withBorder:!0,children:[(0,Cg.jsx)(up,{data:_g,value:n,onChange:e=>i(e),label:"Select Voice",placeholder:"Select a voice",mb:"md"}),(0,Cg.jsx)(xp,{direction:"row",spacing:"md",mb:"md",children:(0,Cg.jsxs)("div",{style:{flex:1},children:[(0,Cg.jsx)(Or,{size:"sm",children:"Speech Rate"}),(0,Cg.jsx)(Am,{min:.1,max:2,step:.1,value:f,onChange:p,marks:[{value:.1,label:"0.1"},{value:.5,label:"0.5"},{value:1,label:"1"},{value:1.5,label:"1.5"},{value:2,label:"2"}]})]})}),(0,Cg.jsx)(Kn,{h:"20px"}),(0,Cg.jsxs)(xp,{direction:"row",spacing:"md",children:[u?(0,Cg.jsx)(kg,{onClick:()=>{var e;a&&v(),h(!1),null===(e=b.current)||void 0===e||e.focus()},color:"green",children:"Edit"}):(0,Cg.jsx)(Gm,{ref:b,value:e,onChange:e=>t(e.currentTarget.value),placeholder:"Enter text here",minRows:10,maxRows:20,autosize:!0,style:{width:"100%"}}),(0,Cg.jsx)("div",{ref:g,style:{marginTop:"20px",overflowY:"auto",maxHeight:"400px"},children:y.map(((t,r)=>(0,Cg.jsx)("p",{onClick:()=>(t=>{(window.speechSynthesis.speaking||a)&&v();const r=e.split(/\r?\n/),i=new SpeechSynthesisUtterance;i.lang=n,i.rate=f;let o=t;const c=()=>{if(o>=r.length)return s(!1),void d(-1);const e=r[o];i.text=e,window.speechSynthesis.speak(i),d(o),o+=1};i.onend=()=>{c()},i.onpause=()=>{l(!0),s(!1)},i.onresume=()=>{l(!1),s(!0)},m.current=i,s(!0),l(!1),h(!0),c()})(r),style:{backgroundColor:r===c?"#171616":"transparent",padding:"5px",margin:"0",cursor:"pointer"},children:t},r)))})]})]}),(0,Cg.jsxs)("div",{style:{position:"fixed",right:"20px",top:"25%",display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"10px",zIndex:1e3},children:[(0,Cg.jsx)(kg,{onClick:()=>{if(!e)return;const t=e.split(/\r?\n/),r=new SpeechSynthesisUtterance;r.lang=n,r.rate=f;let i=c+1;const a=()=>{if(i>=t.length)return s(!1),void d(-1);const e=t[i];r.text=e,window.speechSynthesis.speak(r),d(i),i+=1};r.onend=()=>{a()},r.onpause=()=>{l(!0),s(!1)},r.onresume=()=>{l(!1),s(!0)},m.current=r,s(!0),l(!1),h(!0),a()},color:"blue",disabled:a,children:"Speak"}),(0,Cg.jsx)(kg,{onClick:()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.pause(),l(!0),s(!1))},color:"yellow",disabled:!a||o,children:"Pause"}),(0,Cg.jsx)(kg,{onClick:()=>{o&&(window.speechSynthesis.resume(),l(!1),s(!0))},color:"green",disabled:!o,children:"Resume"}),(0,Cg.jsx)(kg,{onClick:v,color:"red",disabled:!a&&!o,children:"Stop"})]})]})};const Pg=function(){return(0,Cg.jsx)($i,{padding:"md",shadow:"xs",mt:"md",radius:"md",withBorder:!0,children:(0,Cg.jsx)("video",{src:"/baby_crying.mp4",autoPlay:!0,loop:!0,style:{width:"100%",zindex:1e4}})})};const Og=cn((()=>({placeholder:{},input:{cursor:"pointer"}})));var Mg=Object.defineProperty,Rg=Object.getOwnPropertySymbols,Ig=Object.prototype.hasOwnProperty,Lg=Object.prototype.propertyIsEnumerable,Dg=(e,t,n)=>t in e?Mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ng=(e,t)=>{for(var n in t||(t={}))Ig.call(t,n)&&Dg(e,n,t[n]);if(Rg)for(var n of Rg(t))Lg.call(t,n)&&Dg(e,n,t[n]);return e};const zg={multiple:!1},Fg=(0,r.forwardRef)(((e,t)=>{const n=jt("FileButton",zg,e),{onChange:i,children:a,multiple:s,accept:o,name:l,form:c,resetRef:d,disabled:u,capture:h,inputProps:f}=n,p=((e,t)=>{var n={};for(var r in e)Ig.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Rg)for(var r of Rg(e))t.indexOf(r)<0&&Lg.call(e,r)&&(n[r]=e[r]);return n})(n,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),m=(0,r.useRef)();return Gr(d,(()=>{m.current.value=""})),r.createElement(r.Fragment,null,a(Ng({onClick:()=>{!u&&m.current.click()}},p)),r.createElement("input",Ng({style:{display:"none"},type:"file",accept:o,multiple:s,onChange:e=>{i(s?Array.from(e.currentTarget.files):e.currentTarget.files[0]||null)},ref:Xr(t,m),name:l,form:c,capture:h},f)))}));Fg.displayName="@mantine/core/FileButton";var jg=Object.defineProperty,Bg=Object.defineProperties,Hg=Object.getOwnPropertyDescriptors,$g=Object.getOwnPropertySymbols,Wg=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable,Vg=(e,t,n)=>t in e?jg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qg=(e,t)=>{for(var n in t||(t={}))Wg.call(t,n)&&Vg(e,n,t[n]);if($g)for(var n of $g(t))Ug.call(t,n)&&Vg(e,n,t[n]);return e},Gg=(e,t)=>Bg(e,Hg(t));const Xg={size:"sm",valueComponent:e=>{let{value:t}=e;return r.createElement(Or,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(t)?t.map((e=>e.name)).join(", "):null==t?void 0:t.name)},clearButtonTabIndex:0},Yg={xs:24,sm:30,md:34,lg:40,xl:44},Kg=(0,r.forwardRef)(((e,t)=>{const n=kh("FileInput",Xg,e),{inputProps:i,wrapperProps:a,placeholder:s,value:o,defaultValue:l,onChange:c,multiple:d,accept:u,name:h,form:f,classNames:p,styles:m,unstyled:g,valueComponent:b,rightSection:v,rightSectionWidth:y,clearable:w,clearButtonLabel:x,clearButtonTabIndex:S,readOnly:A,capture:E,fileInputProps:k}=n,C=((e,t)=>{var n={};for(var r in e)Wg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&$g)for(var r of $g(e))t.indexOf(r)<0&&Ug.call(e,r)&&(n[r]=e[r]);return n})(n,["inputProps","wrapperProps","placeholder","value","defaultValue","onChange","multiple","accept","name","form","classNames","styles","unstyled","valueComponent","rightSection","rightSectionWidth","clearable","clearButtonLabel","clearButtonTabIndex","readOnly","capture","fileInputProps"]),_=(0,r.useRef)(),{classes:T,theme:P,cx:O}=Og(null,{name:"FileInput",classNames:p,styles:m,unstyled:g}),[M,R]=Br({value:o,defaultValue:l,onChange:c,finalValue:d?[]:null}),I=Array.isArray(M)?0!==M.length:null!==M,L=v||(w&&I&&!A?r.createElement(al,{variant:"transparent","aria-label":x,onClick:()=>R(d?[]:null),size:i.size,tabIndex:S,unstyled:g}):null);return(0,r.useEffect)((()=>{(Array.isArray(M)&&0===M.length||null===M)&&_.current()}),[M]),r.createElement(ep.Wrapper,Gg(qg({},a),{__staticSelector:"FileInput"}),r.createElement(Fg,{onChange:R,multiple:d,accept:u,name:h,form:f,resetRef:_,disabled:A,capture:E,inputProps:k},(e=>r.createElement(ep,Gg(qg(qg(qg({multiline:!0},e),i),C),{component:"button",type:"button",ref:t,__staticSelector:"FileInput",rightSection:L,rightSectionWidth:y||P.fn.size({size:i.size,sizes:Yg}),classNames:Gg(qg({},p),{input:O(T.input,null==p?void 0:p.input)})}),I?r.createElement(b,{value:M}):r.createElement(ep.Placeholder,{className:T.placeholder},s)))))}));Kg.displayName="@mantine/core/FileInput";const Qg=Kg;var Jg=Object.defineProperty,Zg=Object.defineProperties,eb=Object.getOwnPropertyDescriptors,tb=Object.getOwnPropertySymbols,nb=Object.prototype.hasOwnProperty,rb=Object.prototype.propertyIsEnumerable,ib=(e,t,n)=>t in e?Jg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ab=(e,t)=>{for(var n in t||(t={}))nb.call(t,n)&&ib(e,n,t[n]);if(tb)for(var n of tb(t))rb.call(t,n)&&ib(e,n,t[n]);return e},sb=(e,t)=>Zg(e,eb(t));function ob(e){let{variant:t,color:n,theme:r}=e;if("filled"===t){return{backgroundColor:r.fn.variant({variant:"filled",color:n}).background,color:r.white}}if("outline"===t){const e=r.fn.variant({variant:"outline",color:n});return{color:e.color,borderColor:e.border,backgroundColor:"dark"===r.colorScheme?r.colors.dark[6]:r.white}}const i=r.fn.variant({variant:"light",color:n});return{backgroundColor:i.background,color:i.color}}var lb=cn(((e,t)=>{let{color:n,radius:r,variant:i}=t;return{root:ab(sb(ab({},e.fn.fontStyles()),{position:"relative",overflow:"hidden",padding:`${e.spacing.sm}px ${e.spacing.md}px`,borderRadius:e.fn.radius(r),border:"1px solid transparent"}),ob({variant:i,color:n,theme:e})),wrapper:{display:"flex"},body:{flex:1},title:{boxSizing:"border-box",margin:0,marginBottom:7,display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,fontWeight:700,"&[data-with-close-button]":{paddingRight:e.spacing.md}},label:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},icon:{lineHeight:1,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"flex-start",marginRight:e.spacing.md,marginTop:1},message:sb(ab({},e.fn.fontStyles()),{lineHeight:e.lineHeight,textOverflow:"ellipsis",overflow:"hidden",fontSize:e.fontSizes.sm,color:"filled"===i?e.white:"dark"===e.colorScheme?"light"===i?e.white:e.colors.dark[0]:e.black}),closeButton:{position:"absolute",top:e.spacing.sm,right:e.spacing.sm,color:"inherit"}}}));const cb=lb;var db=Object.defineProperty,ub=Object.getOwnPropertySymbols,hb=Object.prototype.hasOwnProperty,fb=Object.prototype.propertyIsEnumerable,pb=(e,t,n)=>t in e?db(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const mb={variant:"light"},gb=(0,r.forwardRef)(((e,t)=>{const n=jt("Alert",mb,e),{id:i,className:a,title:s,variant:o,children:l,color:c,classNames:d,icon:u,styles:h,onClose:f,radius:p,withCloseButton:m,closeButtonLabel:g,unstyled:b}=n,v=((e,t)=>{var n={};for(var r in e)hb.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ub)for(var r of ub(e))t.indexOf(r)<0&&fb.call(e,r)&&(n[r]=e[r]);return n})(n,["id","className","title","variant","children","color","classNames","icon","styles","onClose","radius","withCloseButton","closeButtonLabel","unstyled"]),{classes:y,cx:w}=cb({color:c,radius:p,variant:o},{classNames:d,styles:h,unstyled:b,name:"Alert"}),x=Ur(i),S=s&&`${x}-title`,A=`${x}-body`;return r.createElement(Nn,((e,t)=>{for(var n in t||(t={}))hb.call(t,n)&&pb(e,n,t[n]);if(ub)for(var n of ub(t))fb.call(t,n)&&pb(e,n,t[n]);return e})({id:x,role:"alert","aria-labelledby":S,"aria-describedby":A,className:w(y.root,y[o],a),ref:t},v),r.createElement("div",{className:y.wrapper},u&&r.createElement("div",{className:y.icon},u),r.createElement("div",{className:y.body},s&&r.createElement("div",{className:y.title,"data-with-close-button":m||void 0},r.createElement("span",{id:S,className:y.label},s)),m&&r.createElement(al,{className:y.closeButton,onClick:f,variant:"transparent",size:16,iconSize:16,"aria-label":g}),r.createElement("div",{id:A,className:y.message},l))))}));gb.displayName="@mantine/core/Alert";var bb={d:(e,t)=>{for(var n in t)bb.o(t,n)&&!bb.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},vb=globalThis.pdfjsLib={};bb.d(vb,{AbortException:()=>Mv,AnnotationEditorLayer:()=>_S,AnnotationEditorParamsType:()=>Ib,AnnotationEditorType:()=>Rb,AnnotationEditorUIManager:()=>Ry,AnnotationLayer:()=>mS,AnnotationMode:()=>Mb,CMapCompressionType:()=>hv,ColorPicker:()=>AS,DOMSVGFactory:()=>oy,DrawLayer:()=>TS,FeatureTest:()=>Dv,GlobalWorkerOptions:()=>Aw,ImageKind:()=>Hb,InvalidPDFException:()=>_v,MissingPDFException:()=>Tv,OPS:()=>fv,PDFDataRangeTransport:()=>Ax,PDFDateString:()=>vy,PDFWorker:()=>_x,PasswordResponses:()=>pv,PermissionFlag:()=>Lb,PixelsPerInch:()=>ry,RenderingCancelledException:()=>cy,TextLayer:()=>fx,UnexpectedResponseException:()=>Pv,Util:()=>zv,VerbosityLevel:()=>uv,XfaLayer:()=>Fx,build:()=>Lx,createValidAbsoluteUrl:()=>Sv,fetchData:()=>iy,getDocument:()=>wx,getFilenameFromUrl:()=>hy,getPdfFilenameFromUrl:()=>fy,getXfaPageViewport:()=>yy,isDataScheme:()=>dy,isPdfFile:()=>uy,noContextMenu:()=>gy,normalizeUnicode:()=>Bv,setLayerDimensions:()=>Ay,shadow:()=>Av,version:()=>Ix});const yb="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),wb=[1,0,0,1,0,0],xb=[.001,0,0,.001,0,0],Sb=1.35,Ab=1,Eb=2,kb=4,Cb=16,_b=32,Tb=64,Pb=128,Ob=256,Mb={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Rb={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ib={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Lb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Db=0,Nb=1,zb=2,Fb=3,jb=3,Bb=4,Hb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$b=1,Wb=2,Ub=3,Vb=4,qb=5,Gb=6,Xb=7,Yb=8,Kb=9,Qb=10,Jb=11,Zb=12,ev=13,tv=14,nv=15,rv=16,iv=17,av=20,sv=1,ov=2,lv=3,cv=4,dv=5,uv={ERRORS:0,WARNINGS:1,INFOS:5},hv={NONE:0,BINARY:1},fv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},pv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let mv=uv.WARNINGS;function gv(e){Number.isInteger(e)&&(mv=e)}function bv(){return mv}function vv(e){mv>=uv.INFOS&&console.log(`Info: ${e}`)}function yv(e){mv>=uv.WARNINGS&&console.log(`Warning: ${e}`)}function wv(e){throw new Error(e)}function xv(e,t){e||wv(t)}function Sv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const r=t?new URL(e,t):new URL(e);if(function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(r))return r}catch{}return null}function Av(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Ev=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class kv extends Ev{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Cv extends Ev{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class _v extends Ev{constructor(e){super(e,"InvalidPDFException")}}class Tv extends Ev{constructor(e){super(e,"MissingPDFException")}}class Pv extends Ev{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class Ov extends Ev{constructor(e){super(e,"FormatError")}}class Mv extends Ev{constructor(e){super(e,"AbortException")}}function Rv(e){"object"===typeof e&&void 0!==e?.length||wv("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function Iv(e){"string"!==typeof e&&wv("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function Lv(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}class Dv{static get isLittleEndian(){return Av(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Av(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Av(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){return"undefined"!==typeof navigator&&"string"===typeof navigator?.platform?Av(this,"platform",{isMac:navigator.platform.includes("Mac")}):Av(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Av(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Nv=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class zv{static makeHexColor(e,t,n){return`#${Nv[e]}${Nv[t]}${Nv[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],a[0]),Math.min(n[1],r[1],i[1],a[1]),Math.max(n[0],r[0],i[0],a[0]),Math.max(n[1],r[1],i[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],s=(n+a)/2,o=Math.sqrt((n+a)**2-4*(n*a-i*r))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[n,i,r,a]}static#e(e,t,n,r,i,a,s,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,f=d*(d*(d*e+3*l*t)+3*u*n)+h*r,p=d*(d*(d*i+3*l*a)+3*u*s)+h*o;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}static#t(e,t,n,r,i,a,s,o,l,c,d,u){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&this.#e(e,t,n,r,i,a,s,o,-d/c,u));const h=c**2-4*d*l;if(h<0)return;const f=Math.sqrt(h),p=2*l;this.#e(e,t,n,r,i,a,s,o,(-c+f)/p,u),this.#e(e,t,n,r,i,a,s,o,(-c-f)/p,u)}static bezierBoundingBox(e,t,n,r,i,a,s,o,l){return l?(l[0]=Math.min(l[0],e,s),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,s),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,s),Math.min(t,o),Math.max(e,s),Math.max(t,o)],this.#t(e,n,i,s,t,r,a,o,3*(3*(n-i)-e+s),6*(e-2*n+i),3*(n-e),l),this.#t(e,n,i,s,t,r,a,o,3*(3*(r-a)-t+o),6*(t-2*r+a),3*(r-t),l),l}}let Fv=null,jv=null;function Bv(e){return Fv||(Fv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,jv=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Fv,((e,t,n)=>t?t.normalize("NFKC"):jv.get(n)))}const Hv="pdfjs_internal_id_",$v=0,Wv=1,Uv=2,Vv=3,qv=4,Gv=5,Xv=6,Yv=7,Kv=8;class Qv{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(){}}class Jv{#n=!1;constructor(){let{enableHWA:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#n=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#n})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){wv("Abstract method `_createCanvas` called.")}}class Zv{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":""),r=this.isCompressed?hv.BINARY:hv.NONE;return this._fetchData(n,r).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)}))}_fetchData(e,t){wv("Abstract method `_fetchData` called.")}}class ey{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetchData(n).catch((e=>{throw new Error(`Unable to load font data at: ${n}`)}))}_fetchData(e){wv("Abstract method `_fetchData` called.")}}class ty{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){wv("Abstract method `_createSVG` called.")}}const ny="http://www.w3.org/2000/svg";class ry{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=(()=>this.CSS/this.PDF)()}async function iy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(my(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)}))}class ay extends Zv{_fetchData(e,t){return iy(e,this.isCompressed?"arraybuffer":"text").then((e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):Iv(e),compressionType:t})))}}class sy extends ey{_fetchData(e){return iy(e,"arraybuffer").then((e=>new Uint8Array(e)))}}class oy extends ty{_createSVG(e){return document.createElementNS(ny,e)}}class ly{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=a;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,u,h,f,p,m,g;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(u=-u,h=-h),0===c?(f=Math.abs(l-t[1])*n+i,p=Math.abs(o-t[0])*n+a,m=(t[3]-t[1])*n,g=(t[2]-t[0])*n):(f=Math.abs(o-t[0])*n+i,p=Math.abs(l-t[1])*n+a,m=(t[2]-t[0])*n,g=(t[3]-t[1])*n),this.transform=[c*n,d*n,u*n,h*n,f-c*n*o-u*n*l,p-d*n*o-h*n*l],this.width=m,this.height=g}get rawDims(){const{viewBox:e}=this;return Av(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ly({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return zv.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=zv.applyTransform([e[0],e[1]],this.transform),n=zv.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return zv.applyInverseTransform([e,t],this.transform)}}class cy extends Ev{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function dy(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function uy(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function hy(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function fy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(dy(e))return yv('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch{}return i||t}class py{started=(()=>Object.create(null))();times=[];time(e){e in this.started&&yv(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||yv(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push(`${n.padEnd(t)} ${i-r}ms\n`);return e.join("")}}function my(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch{return!1}}function gy(e){e.preventDefault()}let by;class vy{static toDateObject(e){if(!e||"string"!==typeof e)return null;by||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=by.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(a+=c,s+=d):"+"===l&&(a-=c,s-=d),new Date(Date.UTC(n,r,i,a,s,o))}}function yy(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:a}=e.attributes.style,s=[0,0,parseInt(i),parseInt(a)];return new ly({viewBox:s,scale:n,rotation:r})}function wy(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(yv(`Not a valid color format: "${e}"`),[0,0,0])}function xy(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform();return[t,n,r,i,a,s]}function Sy(e){const{a:t,b:n,c:r,d:i,e:a,f:s}=e.getTransform().invertSelf();return[t,n,r,i,a,s]}function Ay(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof ly){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:a}=e,s=Dv.isCSSRoundSupported,o=`var(--scale-factor) * ${r}px`,l=`var(--scale-factor) * ${i}px`,c=s?`round(${o}, 1px)`:`calc(${o})`,d=s?`round(${l}, 1px)`:`calc(${l})`;n&&t.rotation%180!==0?(a.width=d,a.height=c):(a.width=c,a.height=d)}r&&e.setAttribute("data-main-rotation",t.rotation)}class Ey{#r=null;#i=null;#a;#s=null;#o=null;static#l=null;constructor(e){this.#a=e,Ey.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const e=this.#r=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#a._uiManager._signal;e.addEventListener("contextmenu",gy,{signal:t}),e.addEventListener("pointerdown",Ey.#c,{signal:t});const n=this.#s=document.createElement("div");n.className="buttons",e.append(n);const r=this.#a.toolbarPosition;if(r){const{style:t}=e,n="ltr"===this.#a._uiManager.direction?1-r[0]:r[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#d(),e}static#c(e){e.stopPropagation()}#u(e){this.#a._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#h(e){this.#a._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#f(e){const t=this.#a._uiManager._signal;e.addEventListener("focusin",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",gy,{signal:t})}hide(){this.#r.classList.add("hidden"),this.#i?.hideDropdown()}show(){this.#r.classList.remove("hidden"),this.#o?.shown()}#d(){const{editorType:e,_uiManager:t}=this.#a,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",Ey.#l[e]),this.#f(n),n.addEventListener("click",(e=>{t.delete()}),{signal:t._signal}),this.#s.append(n)}get#p(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#s.prepend(t,this.#p),this.#o=e}addColorPicker(e){this.#i=e;const t=e.renderButton();this.#f(t),this.#s.prepend(t,this.#p)}remove(){this.#r.remove(),this.#i?.destroy(),this.#i=null}}class ky{#s=null;#r=null;#m;constructor(e){this.#m=e}#g(){const e=this.#r=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",gy,{signal:this.#m._signal});const t=this.#s=document.createElement("div");return t.className="buttons",e.append(t),this.#b(),e}#v(e,t){let n=0,r=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const a=i.x+(t?i.width:0);e>n?(r=a,n=e):t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,n]}show(e,t,n){const[r,i]=this.#v(t,n),{style:a}=this.#r||=this.#g();e.append(this.#r),a.insetInlineEnd=100*r+"%",a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){this.#r.remove()}#b(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#m._signal;e.addEventListener("contextmenu",gy,{signal:n}),e.addEventListener("click",(()=>{this.#m.highlightSelection("floating_button")}),{signal:n}),this.#s.append(e)}}function Cy(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}class _y{#y=0;get id(){return"pdfjs_internal_editor_"+this.#y++}}class Ty{#w=(()=>function(){if("undefined"!==typeof crypto&&"function"===typeof crypto?.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof crypto?.getRandomValues)crypto.getRandomValues(e);else for(let t=0;t<32;t++)e[t]=Math.floor(255*Math.random());return Rv(e)}())();#y=0;#x=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Av(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async#S(e,t){this.#x||=new Map;let n=this.#x.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#w}_${this.#y++}`,refCounter:0,isSvg:!1},"string"===typeof t?(n.url=t,e=await iy(t,"blob")):e=n.file=t,"image/svg+xml"===e.type){const t=Ty._isSVGFittingCanvas,r=new FileReader,i=new Image,a=new Promise(((e,a)=>{i.onload=()=>{n.bitmap=i,n.isSvg=!0,e()},r.onload=async()=>{const e=n.svgUrl=r.result;i.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},i.onerror=r.onerror=a}));r.readAsDataURL(e),await a}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(r){console.error(r),n=null}return this.#x.set(e,n),n&&this.#x.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return this.#S(`${t}_${n}_${r}_${i}`,e)}async getFromUrl(e){return this.#S(e,e)}async getFromId(e){this.#x||=new Map;const t=this.#x.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(e){const t=this.#x.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#x||=new Map;const t=this.#x.get(e);t&&(t.refCounter-=1,0===t.refCounter&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#w}_`)}}class Py{#A=[];#E=!1;#k;#C=-1;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;this.#k=e}add(e){let{cmd:t,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}=e;if(i&&t(),this.#E)return;const l={cmd:t,undo:n,post:r,type:a};if(-1===this.#C)return this.#A.length>0&&(this.#A.length=0),this.#C=0,void this.#A.push(l);if(s&&this.#A[this.#C].type===a)return o&&(l.undo=this.#A[this.#C].undo),void(this.#A[this.#C]=l);const c=this.#C+1;c===this.#k?this.#A.splice(0,1):(this.#C=c,c<this.#A.length&&this.#A.splice(c)),this.#A.push(l)}undo(){if(-1===this.#C)return;this.#E=!0;const{undo:e,post:t}=this.#A[this.#C];e(),t?.(),this.#E=!1,this.#C-=1}redo(){if(this.#C<this.#A.length-1){this.#C+=1,this.#E=!0;const{cmd:e,post:t}=this.#A[this.#C];e(),t?.(),this.#E=!1}}hasSomethingToUndo(){return-1!==this.#C}hasSomethingToRedo(){return this.#C<this.#A.length-1}destroy(){this.#A=null}}class Oy{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Dv.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}#_(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#_(t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:a=[],checker:s=null}}=n;s&&!s(e,t)||(r.bind(e,...a,t)(),i||(t.stopPropagation(),t.preventDefault()))}}class My{static _colorsMapping=(()=>new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]))();get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,wy(r))}t.remove()}(e),Av(this,"_colors",e)}convert(e){const t=wy(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return My._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?zv.makeHexColor(...t):e}}class Ry{#T=(()=>new AbortController)();#P=null;#O=(()=>new Map)();#M=(()=>new Map)();#R=null;#I=null;#L=null;#D=(()=>new Py)();#N=null;#z=0;#F=(()=>new Set)();#j=null;#B=null;#H=(()=>new Set)();#$=!1;#W=!1;#U=!1;#V=null;#q=null;#G=null;#X=null;#Y=!1;#K=null;#Q=(()=>new _y)();#J=!1;#Z=!1;#ee=null;#te=null;#ne=null;#re=null;#ie=(()=>Rb.NONE)();#ae=(()=>new Set)();#se=null;#oe=null;#le=null;#ce={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#de=[0,0];#ue=null;#he=null;#fe=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Ry.prototype,t=e=>e.#he.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return Av(this,"_keyboardManager",new Oy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#he.contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&e.#he.contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,r,i,a,s,o,l,c,d){const u=this._signal=this.#T.signal;this.#he=e,this.#fe=t,this.#R=n,this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:u}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:u}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:u}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:u}),r._on("setpreference",this.onSetPreference.bind(this),{signal:u}),r._on("switchannotationeditorparams",(e=>this.updateParams(e.type,e.value)),{signal:u}),this.#pe(),this.#me(),this.#ge(),this.#I=i.annotationStorage,this.#V=i.filterFactory,this.#oe=a,this.#X=s||null,this.#$=o,this.#W=l,this.#U=c,this.#re=d||null,this.viewParameters={realScale:ry.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#T?.abort(),this.#T=null,this._signal=null;for(const e of this.#M.values())e.destroy();this.#M.clear(),this.#O.clear(),this.#H.clear(),this.#P=null,this.#ae.clear(),this.#D.destroy(),this.#R?.destroy(),this.#K?.hide(),this.#K=null,this.#q&&(clearTimeout(this.#q),this.#q=null),this.#ue&&(clearTimeout(this.#ue),this.#ue=null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#re}get useNewAltTextFlow(){return this.#W}get useNewAltTextWhenAddingImage(){return this.#U}get hcmFilter(){return Av(this,"hcmFilter",this.#oe?this.#V.addHCMFilter(this.#oe.foreground,this.#oe.background):"none")}get direction(){return Av(this,"direction",getComputedStyle(this.#he).direction)}get highlightColors(){return Av(this,"highlightColors",this.#X?new Map(this.#X.split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return Av(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){this.#ne=e}editAltText(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.#R?.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)this.#U=n}onPageChanging(e){let{pageNumber:t}=e;this.#z=t-1}focusMainContainer(){this.#he.focus()}findParent(e,t){for(const n of this.#M.values()){const{x:r,y:i,width:a,height:s}=n.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=i&&t<=i+s)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#fe.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#H.add(e)}removeShouldRescale(e){this.#H.delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*ry.PDF_TO_CSS_UNITS;for(const n of this.#H)n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}#be(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#ve(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#M.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t,s=t.toString(),o=this.#be(t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=this.#ve(o),d=this.#ie===Rb.NONE,u=()=>{c?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a,text:s}),d&&this.showAllEditors("highlight",!0,!0)};d?this.switchToMode(Rb.HIGHLIGHT,u):u()}#ye(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#be(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#K||=new ky(this),this.#K.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#I||this.#I.has(e.id)||this.#I.setValue(e.id,e)}#we(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#se&&(this.#K?.hide(),this.#se=null,this.#xe({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#se)return;const n=this.#be(e).closest(".textLayer");if(n){if(this.#K?.hide(),this.#se=t,this.#xe({hasSelectedText:!0}),(this.#ie===Rb.HIGHLIGHT||this.#ie===Rb.NONE)&&(this.#ie===Rb.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#Y=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this.#ie===Rb.HIGHLIGHT?this.#ve(n):null;e?.toggleDrawing();const t=new AbortController,r=this.combinedSignal(t),i=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),e?.toggleDrawing(!0),"pointerup"===n.type&&this.#Se("main_toolbar"))};window.addEventListener("pointerup",i,{signal:r}),window.addEventListener("blur",i,{signal:r})}}else this.#se&&(this.#K?.hide(),this.#se=null,this.#xe({hasSelectedText:!1}))}#Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.#ie===Rb.HIGHLIGHT?this.highlightSelection(e):this.#$&&this.#ye()}#pe(){document.addEventListener("selectionchange",this.#we.bind(this),{signal:this._signal})}#Ae(){if(this.#G)return;this.#G=new AbortController;const e=this.combinedSignal(this.#G);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#Ee(){this.#G?.abort(),this.#G=null}blur(){if(this.isShiftKeyDown=!1,this.#Y&&(this.#Y=!1,this.#Se("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#ae)if(t.div.contains(e)){this.#te=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#te)return;const[e,t]=this.#te;this.#te=null,t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}#ge(){if(this.#ee)return;this.#ee=new AbortController;const e=this.combinedSignal(this.#ee);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ke(){this.#ee?.abort(),this.#ee=null}#Ce(){if(this.#N)return;this.#N=new AbortController;const e=this.combinedSignal(this.#N);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#_e(){this.#N?.abort(),this.#N=null}#me(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#ge(),this.#Ce()}removeEditListeners(){this.#ke(),this.#_e()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#B)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#B)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#P?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#ae){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of this.#B)if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void yv(`paste: "${i.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const a of n){const t=r.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Te(t);this.#Pe(e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){yv(`paste: "${i.message}".`)}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#ie===Rb.NONE||this.isEditorHandlingKeyboard||Ry._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#Y&&(this.#Y=!1,this.#Se("main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#xe(e){Object.entries(e).some((e=>{let[t,n]=e;return this.#ce[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#ce,e)}),this.#ie===Rb.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#Oe([[Ib.HIGHLIGHT_FREE,!0]]))}#Oe(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#Ae(),this.#Ce(),this.#xe({isEditing:this.#ie!==Rb.NONE,isEmpty:this.#Me(),hasSomethingToUndo:this.#D.hasSomethingToUndo(),hasSomethingToRedo:this.#D.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Ee(),this.#_e(),this.#xe({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#B){this.#B=e;for(const e of this.#B)this.#Oe(e.defaultPropertiesToUpdate)}}getId(){return this.#Q.id}get currentLayer(){return this.#M.get(this.#z)}getLayer(e){return this.#M.get(e)}get currentPageIndex(){return this.#z}addLayer(e){this.#M.set(e.pageIndex,e),this.#J?e.enable():e.disable()}removeLayer(e){this.#M.delete(e.pageIndex)}updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.#ie!==e){if(this.#ie=e,e===Rb.NONE)return this.setEditingState(!1),void this.#Re();this.setEditingState(!0),this.#Ie(),this.unselectAll();for(const t of this.#M.values())t.updateMode(e);if(t||!n){if(t)for(const e of this.#O.values())if(e.annotationElementId===t){this.setSelected(e),e.enterInEditMode();break}}else this.addNewEditorFromKeyboard()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#ie&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#B){switch(e){case Ib.CREATE:return void this.currentLayer.addNewEditor();case Ib.HIGHLIGHT_DEFAULT_COLOR:this.#ne?.updateColor(t);break;case Ib.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#le||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(const n of this.#ae)n.updateParams(e,t);for(const n of this.#B)n.updateDefaultParams(e,t)}}showAllEditors(e,t){for(const n of this.#O.values())n.editorType===e&&n.show(t);(this.#le?.get(Ib.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#Oe([[Ib.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#Z!==e){this.#Z=e;for(const t of this.#M.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#Ie(){if(!this.#J){this.#J=!0;for(const e of this.#M.values())e.enable();for(const e of this.#O.values())e.enable()}}#Re(){if(this.unselectAll(),this.#J){this.#J=!1;for(const e of this.#M.values())e.disable();for(const e of this.#O.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#O.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#O.get(e)}addEditor(e){this.#O.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#q&&clearTimeout(this.#q),this.#q=setTimeout((()=>{this.focusMainContainer(),this.#q=null}),0)),this.#O.delete(e.id),this.unselect(e),e.annotationElementId&&this.#F.has(e.annotationElementId)||this.#I?.remove(e.id)}addDeletedAnnotationElement(e){this.#F.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#F.has(e)}removeDeletedAnnotationElement(e){this.#F.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Te(e){const t=this.#M.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#P!==e&&(this.#P=e,e&&this.#Oe(e.propertiesToUpdate))}get#Le(){let e=null;for(e of this.#ae);return e}updateUI(e){this.#Le===e&&this.#Oe(e.propertiesToUpdate)}toggleSelected(e){if(this.#ae.has(e))return this.#ae.delete(e),e.unselect(),void this.#xe({hasSelectedEditor:this.hasSelection});this.#ae.add(e),e.select(),this.#Oe(e.propertiesToUpdate),this.#xe({hasSelectedEditor:!0})}setSelected(e){for(const t of this.#ae)t!==e&&t.unselect();this.#ae.clear(),this.#ae.add(e),e.select(),this.#Oe(e.propertiesToUpdate),this.#xe({hasSelectedEditor:!0})}isSelected(e){return this.#ae.has(e)}get firstSelectedEditor(){return this.#ae.values().next().value}unselect(e){e.unselect(),this.#ae.delete(e),this.#xe({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#ae.size}get isEnterHandled(){return 1===this.#ae.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#D.undo(),this.#xe({hasSomethingToUndo:this.#D.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Me()})}redo(){this.#D.redo(),this.#xe({hasSomethingToUndo:!0,hasSomethingToRedo:this.#D.hasSomethingToRedo(),isEmpty:this.#Me()})}addCommands(e){this.#D.add(e),this.#xe({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Me()})}#Me(){if(0===this.#O.size)return!0;if(1===this.#O.size)for(const e of this.#O.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...this.#ae];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)this.#Te(t)},mustExec:!0})}commitOrRemove(){this.#P?.commitOrRemove()}hasSomethingToControl(){return this.#P||this.hasSelection}#Pe(e){for(const t of this.#ae)t.unselect();this.#ae.clear();for(const t of e)t.isEmpty()||(this.#ae.add(t),t.select());this.#xe({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#ae)e.commit();this.#Pe(this.#O.values())}unselectAll(){if((!this.#P||(this.#P.commitOrRemove(),this.#ie===Rb.NONE))&&this.hasSelection){for(const e of this.#ae)e.unselect();this.#ae.clear(),this.#xe({hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;this.#de[0]+=e,this.#de[1]+=t;const[n,r]=this.#de,i=[...this.#ae];this.#ue&&clearTimeout(this.#ue),this.#ue=setTimeout((()=>{this.#ue=null,this.#de[0]=this.#de[1]=0,this.addCommands({cmd:()=>{for(const e of i)this.#O.has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of i)this.#O.has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3);for(const a of i)a.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#j=new Map;for(const e of this.#ae)this.#j.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#j)return!1;this.disableUserSelect(!1);const e=this.#j;this.#j=null;let t=!1;for(const[{x:r,y:i,pageIndex:a},s]of e)s.newX=r,s.newY=i,s.newPageIndex=a,t||=r!==s.savedX||i!==s.savedY||a!==s.savedPageIndex;if(!t)return!1;const n=(e,t,n,r)=>{if(this.#O.has(e.id)){const i=this.#M.get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:a}]of e)n(t,r,i,a)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:a}]of e)n(t,r,i,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#j)for(const n of this.#j.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#ae.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#P===e}getActive(){return this.#P}getMode(){return this.#ie}get imageManager(){return Av(this,"imageManager",new Ty)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(e,t,s,o)=>({x:(t-r)/a,y:1-(e+s-n)/i,width:o/a,height:s/i});break;case"180":s=(e,t,s,o)=>({x:1-(e+s-n)/i,y:1-(t+o-r)/a,width:s/i,height:o/a});break;case"270":s=(e,t,s,o)=>({x:1-(t+o-r)/a,y:(e-n)/i,width:o/a,height:s/i});break;default:s=(e,t,s,o)=>({x:(e-n)/i,y:(t-r)/a,width:s/i,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:r,height:i}of e.getClientRects())0!==r&&0!==i&&o.push(s(t,n,r,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(this.#L||=new Map).set(t,n)}removeChangedExistingAnnotation(e){let{annotationElementId:t}=e;this.#L?.delete(t)}renderAnnotationElement(e){const t=this.#L?.get(e.data.id);if(!t)return;const n=this.#I.getRawValue(t);n&&(this.#ie!==Rb.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}}class Iy{#o=null;#De=!1;#Ne=null;#ze=null;#Fe=null;#je=!1;#Be=null;#a=null;#He=null;#$e=null;#We=!1;static _l10nPromise=null;constructor(e){this.#a=e,this.#We=e._uiManager.useNewAltTextFlow}static initialize(e){Iy._l10nPromise||=e}async render(){const e=this.#Ne=document.createElement("button");let t;e.className="altText",this.#We?(e.classList.add("new"),t=await Iy._l10nPromise.get("pdfjs-editor-new-alt-text-missing-button-label")):t=await Iy._l10nPromise.get("pdfjs-editor-alt-text-button-label"),e.textContent=t,e.setAttribute("aria-label",t),e.tabIndex="0";const n=this.#a._uiManager._signal;e.addEventListener("contextmenu",gy,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const r=e=>{e.preventDefault(),this.#a._uiManager.editAltText(this.#a),this.#We&&this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#Ue}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(this.#je=!0,r(t))}),{signal:n}),await this.#Ve(),e}get#Ue(){return(this.#o?"added":null===this.#o&&this.guessedText&&"review")||"missing"}finish(){this.#Ne&&(this.#Ne.focus({focusVisible:this.#je}),this.#je=!1)}isEmpty(){return this.#We?null===this.#o:!this.#o&&!this.#De}hasData(){return this.#We?null!==this.#o||!!this.#He:this.isEmpty()}get guessedText(){return this.#He}async setGuessedText(e){null===this.#o&&(this.#He=e,this.#$e=await Iy._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:e}),this.#Ve())}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.#We||this.#o)return this.#Be?.remove(),void(this.#Be=null);if(!this.#Be){const e=this.#Be=document.createElement("div");e.className="noAltTextBadge",this.#a.div.append(e)}this.#Be.classList.toggle("hidden",!e)}serialize(e){let t=this.#o;return e||this.#He!==t||(t=this.#$e),{altText:t,decorative:this.#De,guessedText:this.#He,textWithDisclaimer:this.#$e}}get data(){return{altText:this.#o,decorative:this.#De}}set data(e){let{altText:t,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}=e;r&&(this.#He=r,this.#$e=i),this.#o===t&&this.#De===n||(a||(this.#o=t,this.#De=n),this.#Ve())}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Ne&&(!e&&this.#Fe&&(clearTimeout(this.#Fe),this.#Fe=null),this.#Ne.disabled=!e)}shown(){this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#Ue}})}destroy(){this.#Ne?.remove(),this.#Ne=null,this.#ze=null,this.#Be?.remove(),this.#Be=null}async#Ve(){const e=this.#Ne;if(!e)return;if(this.#We){const t=this.#Ue,n="review"===t?"to-review":t;if(e.classList.toggle("done",!!this.#o),Iy._l10nPromise.get(`pdfjs-editor-new-alt-text-${n}-button-label`).then((t=>{e.setAttribute("aria-label",t);for(const n of e.childNodes)if(n.nodeType===Node.TEXT_NODE){n.textContent=t;break}})),!this.#o)return void this.#ze?.remove()}else{if(!this.#o&&!this.#De)return e.classList.remove("done"),void this.#ze?.remove();e.classList.add("done"),Iy._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((t=>{e.setAttribute("aria-label",t)}))}let t=this.#ze;if(!t){this.#ze=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip");const n=t.id=`alt-text-tooltip-${this.#a.id}`;e.setAttribute("aria-describedby",n);const r=100,i=this.#a._uiManager._signal;i.addEventListener("abort",(()=>{clearTimeout(this.#Fe),this.#Fe=null}),{once:!0}),e.addEventListener("mouseenter",(()=>{this.#Fe=setTimeout((()=>{this.#Fe=null,this.#ze.classList.add("show"),this.#a._reportTelemetry({action:"alt_text_tooltip"})}),r)}),{signal:i}),e.addEventListener("mouseleave",(()=>{this.#Fe&&(clearTimeout(this.#Fe),this.#Fe=null),this.#ze?.classList.remove("show")}),{signal:i})}t.innerText=this.#De?await Iy._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#o,t.parentNode||e.append(t);const n=this.#a.getImageForAltText();n?.setAttribute("aria-describedby",t.id)}}class Ly{#qe=null;#Ge=null;#o=null;#Xe=!1;#Ye=!1;#Ke=null;#Qe=null;#Je=null;#Ze="";#et=!1;#tt=null;#nt=!1;#rt=!1;#it=!1;#at=null;#st=0;#ot=0;#lt=null;_editToolbar=null;_initialOptions=(()=>Object.create(null))();_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10nPromise=null;static _l10nResizer=null;#ct=!1;#dt=(()=>Ly._zIndex++)();static _borderLineWidth=-1;static _colorManager=(()=>new My)();static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Ly.prototype._resizeWithKeyboard,t=Ry.TRANSLATE_SMALL,n=Ry.TRANSLATE_BIG;return Av(this,"_resizerKeyboardManager",new Oy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Ly.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,a];const[s,o]=this.parentDimensions;this.x=e.x/s,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Av(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Dy({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,n){if(Ly._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Ly._l10nPromise||=new Map([...["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map((t=>[t,e.get(t)])),...["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map((t=>[t,e.get.bind(e,t)]))]),n?.strings)for(const i of n.strings)Ly._l10nPromise.set(i,e.get(i));if(-1!==Ly._borderLineWidth)return;const r=getComputedStyle(document.documentElement);Ly._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){wv("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#ct}set _isDraggable(e){this.#ct=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#dt}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#ut(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#et?this.#et=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,a]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/a,this.fixAndSetPosition()}#ht(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this.fixAndSetPosition()}translate(e,t){this.#ht(this.parentDimensions,e,t)}translateInPage(e,t){this.#tt||=[this.x,this.y],this.#ht(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#tt||=[this.x,this.y];const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[s,o]=this.getBaseTranslation();i+=s,a+=o,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#tt&&(this.#tt[0]!==this.x||this.#tt[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Ly,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:r,y:i,width:a,height:s}=this;if(a*=t,s*=n,r*=t,i*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-a,r)),i=Math.max(0,Math.min(n-s,i));break;case 90:r=Math.max(0,Math.min(t-s,r)),i=Math.min(n,Math.max(a,i));break;case 180:r=Math.min(t,Math.max(a,r)),i=Math.min(n,Math.max(s,i));break;case 270:r=Math.min(t,Math.max(s,r)),i=Math.max(0,Math.min(n-a,i))}this.x=r/=t,this.y=i/=n;const[o,l]=this.getBaseTranslation();r+=o,i+=l;const{style:c}=this.div;c.left=`${(100*r).toFixed(2)}%`,c.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}static#ft(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Ly.#ft(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Ly.#ft(e,t,360-this.parentRotation)}#pt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this,r=t*e,i=n*e;return Dv.isCSSRoundSupported?[Math.round(r),Math.round(i)]:[r,i]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,this.#Ye||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!this.#Ye&&t.endsWith("%");if(r&&i)return;const[a,s]=this.parentDimensions;r||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),this.#Ye||i||(e.height=`${(100*parseFloat(t)/s).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#mt(){if(this.#Ke)return;this.#Ke=document.createElement("div"),this.#Ke.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Ke.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#gt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",gy,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Ke)}#gt(e,t){t.preventDefault();const{isMac:n}=Dv.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#o?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#bt.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",gy,{signal:a});const s=this.x,o=this.y,l=this.width,c=this.height,d=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{i.abort(),this.parent.togglePointerEvents(!0),this.#o?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=d,this.div.style.cursor=u,this.#vt(s,o,l,c)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})}#vt(e,t,n,r){const i=this.x,a=this.y,s=this.width,o=this.height;i===e&&a===t&&s===n&&o===r||this.addCommands({cmd:()=>{this.width=s,this.height=o,this.x=i,this.y=a;const[e,t]=this.parentDimensions;this.setDims(e*s,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*n,a*r),this.fixAndSetPosition()},mustExec:!0})}#bt(e,t){const[n,r]=this.parentDimensions,i=this.x,a=this.y,s=this.width,o=this.height,l=Ly.MIN_SIZE/n,c=Ly.MIN_SIZE/r,d=e=>Math.round(1e4*e)/1e4,u=this.#pt(this.rotation),h=(e,t)=>[u[0]*e+u[2]*t,u[1]*e+u[3]*t],f=this.#pt(360-this.rotation);let p,m,g=!1,b=!1;switch(e){case"topLeft":g=!0,p=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":g=!0,p=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":b=!0,p=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,p=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,p=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":b=!0,p=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const v=p(s,o),y=m(s,o);let w=h(...y);const x=d(i+w[0]),S=d(a+w[1]);let A=1,E=1,[k,C]=this.screenToPageTranslation(t.movementX,t.movementY);var _,T;if([k,C]=(_=k/n,T=C/r,[f[0]*_+f[2]*T,f[1]*_+f[3]*T]),g){const e=Math.hypot(s,o);A=E=Math.max(Math.min(Math.hypot(y[0]-v[0]-k,y[1]-v[1]-C)/e,1/s,1/o),l/s,c/o)}else b?A=Math.max(l,Math.min(1,Math.abs(y[0]-v[0]-k)))/s:E=Math.max(c,Math.min(1,Math.abs(y[1]-v[1]-C)))/o;const P=d(s*A),O=d(o*E);w=h(...m(P,O));const M=x-w[0],R=S-w[1];this.width=P,this.height=O,this.x=M,this.y=R,this.setDims(n*P,r*O),this.fixAndSetPosition()}altTextFinish(){this.#o?.finish()}async addEditToolbar(){return this._editToolbar||this.#rt||(this._editToolbar=new Ey(this),this.div.append(this._editToolbar.render()),this.#o&&await this._editToolbar.addAltText(this.#o)),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#o?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#o||(Iy.initialize(Ly._l10nPromise),this.#o=new Iy(this),this.#qe&&(this.#o.data=this.#qe,this.#qe=null),await this.addEditToolbar())}get altTextData(){return this.#o?.data}set altTextData(e){this.#o&&(this.#o.data=e)}get guessedAltText(){return this.#o?.guessedText}async setGuessedAltText(e){await(this.#o?.setGuessedText(e))}serializeAltText(e){return this.#o?.serialize(e)}hasAltText(){return!!this.#o&&!this.#o.isEmpty()}hasAltTextData(){return this.#o?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#Xe?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#yt();const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,r]=this.getInitialTranslation();return this.translate(n,r),Cy(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=Dv.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#et=!0,this._isDraggable?this.#wt(e):this.#xt(e))}#xt(e){const{isMac:t}=Dv.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#wt(e){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),this.#st=e.clientX,this.#ot=e.clientY;const t=e=>{const{clientX:t,clientY:n}=e,[r,i]=this.screenToPageTranslation(t-this.#st,n-this.#ot);this.#st=t,this.#ot=n,this._uiManager.dragSelectedEditors(r,i)};window.addEventListener("pointermove",t,{passive:!0,capture:!0,signal:r})}const i=()=>{n.abort(),t&&this.div.classList.remove("moving"),this.#et=!1,this._uiManager.endDragSession()||this.#xt(e)};window.addEventListener("pointerup",i,{signal:r}),window.addEventListener("blur",i,{signal:r})}moveInDOM(){this.#at&&clearTimeout(this.#at),this.#at=setTimeout((()=>{this.#at=null,this.parent?.moveEditorInDOM(this)}),0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=e/r,c=t/r,d=this.x*i,u=this.y*a,h=this.width*i,f=this.height*a;switch(n){case 0:return[d+l+s,a-u-c-f+o,d+l+h+s,a-u-c+o];case 90:return[d+c+s,a-u+l+o,d+c+f+s,a-u+l+h+o];case 180:return[d-l-h+s,a-u+c+o,d-l+s,a-u+c+f+o];case 270:return[d-c-f+s,a-u-l-h+o,d-c+s,a-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,a]=e,s=i-n,o=a-r;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-r,o,s];case 180:return[i,t-r,s,o];case 270:return[i,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#rt=!0}disableEditMode(){this.#rt=!1}isInEditMode(){return this.#rt}shouldGetKeyboardEvents(){return this.#it}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#yt(){if(this.#Je||!this.div)return;this.#Je=new AbortController;const e=this._uiManager.combinedSignal(this.#Je);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#yt()}rotate(e){}serialize(){wv("An editor must be serializable")}static deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,r.#qe=e.accessibilityData;const[i,a]=r.pageDimensions,[s,o,l,c]=r.getRectInCurrentCoords(e.rect,a);return r.x=s/i,r.y=o/a,r.width=l/i,r.height=c/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#Je?.abort(),this.#Je=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#at&&(clearTimeout(this.#at),this.#at=null),this.#ut(),this.removeEditToolbar(),this.#lt){for(const e of this.#lt.values())clearTimeout(e);this.#lt=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#mt(),this.#Ke.classList.remove("hidden"),Cy(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#Qe={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Ke.children;if(!this.#Ge){this.#Ge=Array.from(t);const e=this.#St.bind(this),n=this.#At.bind(this),r=this._uiManager._signal;for(const t of this.#Ge){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:r}),t.addEventListener("blur",n,{signal:r}),t.addEventListener("focus",this.#Et.bind(this,i),{signal:r}),t.setAttribute("data-l10n-id",Ly._l10nResizer[i])}}const n=this.#Ge[0];let r=0;for(const a of t){if(a===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(this.#Ge.length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)this.#Ke.append(this.#Ke.firstChild);else if(i>r)for(let t=0;t<i-r;t++)this.#Ke.firstChild.before(this.#Ke.lastChild);let e=0;for(const n of t){const t=this.#Ge[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",Ly._l10nResizer[t])}}this.#kt(0),this.#it=!0,this.#Ke.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#St(e){Ly._resizerKeyboardManager.exec(this,e)}#At(e){this.#it&&e.relatedTarget?.parentNode!==this.#Ke&&this.#ut()}#Et(e){this.#Ze=this.#it?e:""}#kt(e){if(this.#Ge)for(const t of this.#Ge)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#it&&this.#bt(this.#Ze,{movementX:e,movementY:t})}#ut(){if(this.#it=!1,this.#kt(-1),this.#Qe){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=this.#Qe;this.#vt(e,t,n,r),this.#Qe=null}}_stopResizingWithKeyboard(){this.#ut(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#o?.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()}))}unselect(){this.#Ke?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#o?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#nt}set isEditing(e){this.#nt=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#Ye=!0;const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){this.#lt||=new Map;const{action:t}=e;let n=this.#lt.get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),this.#lt.delete(t),0===this.#lt.size&&(this.#lt=null)}),Ly._telemetryTimeout),void this.#lt.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#Xe=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Xe=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Dy extends Ly{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const Ny=3285377520,zy=4294901760,Fy=65535;class jy{constructor(e){this.h1=e?4294967295&e:Ny,this.h2=e?4294967295&e:Ny}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,i=n-4*r,a=new Uint32Array(t.buffer,0,r);let s=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,f=13715;for(let p=0;p<r;p++)1&p?(s=a[p],s=s*d&zy|s*h&Fy,s=s<<15|s>>>17,s=s*u&zy|s*f&Fy,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[p],o=o*d&zy|o*h&Fy,o=o<<15|o>>>17,o=o*u&zy|o*f&Fy,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,i){case 3:s^=t[4*r+2]<<16;case 2:s^=t[4*r+1]<<8;case 1:s^=t[4*r],s=s*d&zy|s*h&Fy,s=s<<15|s>>>17,s=s*u&zy|s*f&Fy,1&r?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&zy|36045*e&Fy,t=4283543511*t&zy|(2950163797*(t<<16|e>>>16)&zy)>>>16,e^=t>>>1,e=444984403*e&zy|60499*e&Fy,t=3301882366*t&zy|(3120437893*(t<<16|e>>>16)&zy)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const By=Object.freeze({map:null,hash:"",transfer:void 0});class Hy{#Ct=!1;#_t=null;#Tt=(()=>new Map)();constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#Tt.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#Tt.get(e)}remove(e){if(this.#Tt.delete(e),0===this.#Tt.size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of this.#Tt.values())if(e instanceof Ly)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#Tt.get(e);let r=!1;if(void 0!==n)for(const[i,a]of Object.entries(t))n[i]!==a&&(r=!0,n[i]=a);else r=!0,this.#Tt.set(e,t);r&&this.#Pt(),t instanceof Ly&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#Tt.has(e)}getAll(){return this.#Tt.size>0?Lv(this.#Tt):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return this.#Tt.size}#Pt(){this.#Ct||(this.#Ct=!0,"function"===typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#Ct&&(this.#Ct=!1,"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new $y(this)}get serializable(){if(0===this.#Tt.size)return By;const e=new Map,t=new jy,n=[],r=Object.create(null);let i=!1;for(const[a,s]of this.#Tt){const n=s instanceof Ly?s.serialize(!1,r):s;n&&(e.set(a,n),t.update(`${a}:${JSON.stringify(n)}`),i||=!!n.bitmap)}if(i)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:By}get editorStats(){let e=null;const t=new Map;for(const n of this.#Tt.values()){if(!(n instanceof Ly))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:i}=r;t.has(i)||t.set(i,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const a=e[i]||=new Map;for(const[e,t]of Object.entries(r)){if("type"===e)continue;let n=a.get(e);n||(n=new Map,a.set(e,n));const r=n.get(t)??0;n.set(t,r+1)}}for(const[n,r]of t)e[n]=r.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#_t=null}get modifiedIds(){if(this.#_t)return this.#_t;const e=[];for(const t of this.#Tt.values())t instanceof Ly&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return this.#_t={ids:new Set(e),hash:e.join(",")}}}class $y extends Hy{#Ot;constructor(e){super();const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);this.#Ot={map:i,hash:n,transfer:r}}get print(){wv("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#Ot}get modifiedIds(){return Av(this,"modifiedIds",{ids:new Set,hash:""})}}class Wy{#Mt=(()=>new Set)();constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#Mt.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!this.#Mt.has(t.loadedName))if(xv(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:r,style:i}=t,a=new FontFace(e,r,i);this.addNativeFontFace(a);try{await a.load(),this.#Mt.add(e),n?.(t)}catch{yv(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}}else wv("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw yv(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){return Av(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return(yb||"undefined"!==typeof navigator&&"string"===typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Av(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(xv(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return Av(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let i,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=r(d,976,c.length,c);const u=1482184792;let h=n(d,16);for(i=0,a=c.length-3;i<a;i+=4)h=h-u+n(c,i)|0;var f;i<c.length&&(h=h-u+n(c+"XXX",i)|0),d=r(d,16,4,(f=h,String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f)));const p=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(p);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const g of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=g,m.append(e)}this._document.body.append(m),function e(t,n){if(++l>30)return yv("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{m.remove(),t.complete()}))}}class Uy{constructor(e,t){let{disableFontFace:n=!1,inspectFont:r=null}=t;this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=!0===n,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=Rv(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){yv(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const r=[];for(let a=0,s=n.length;a<s;)switch(n[a++]){case $v:{const[e,t,i,s,o,l]=n.slice(a,a+6);r.push((n=>n.bezierCurveTo(e,t,i,s,o,l))),a+=6}break;case Wv:{const[e,t]=n.slice(a,a+2);r.push((n=>n.moveTo(e,t))),a+=2}break;case Uv:{const[e,t]=n.slice(a,a+2);r.push((n=>n.lineTo(e,t))),a+=2}break;case Vv:{const[e,t,i,s]=n.slice(a,a+4);r.push((n=>n.quadraticCurveTo(e,t,i,s))),a+=4}break;case qv:r.push((e=>e.restore()));break;case Gv:r.push((e=>e.save()));break;case Xv:xv(2===r.length,"Scale command is only valid at the third position.");break;case Yv:{const[e,t,i,s,o,l]=n.slice(a,a+6);r.push((n=>n.transform(e,t,i,s,o,l))),a+=6}break;case Kv:{const[e,t]=n.slice(a,a+2);r.push((n=>n.translate(e,t))),a+=2}}return this.compiledGlyphs[t]=function(e,t){r[0](e),r[1](e),e.scale(t,-t);for(let n=2,i=r.length;n<i;n++)r[n](e)}}}if(yb){var Vy=Promise.withResolvers(),qy=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),r=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:undefined,path2d:undefined}))})().then((e=>{qy=e,Vy.resolve()}),(e=>{yv(`loadPackages: ${e}`),qy=new Map,Vy.resolve()}))}class Gy{static get promise(){return Vy.promise}static get(e){return qy?.get(e)}}const Xy=function(e){return Gy.get("fs").promises.readFile(e).then((e=>new Uint8Array(e)))};const Yy="Fill",Ky="Stroke",Qy="Shading";function Jy(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class Zy{getPattern(){wv("Abstract method `getPattern` called.")}}class ew extends Zy{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let i;if(r===Ky||r===Yy){const a=t.current.getClippedPathBoundingBox(r,xy(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",s,o,!0),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),n=zv.transform(n,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Jy(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);i.setTransform(d)}else Jy(e,this._bbox),i=this._createGradient(e);return i}}function tw(e,t,n,r,i,a,s,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=o,o=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=a,a=s,s=h);const f=(l[n]+t.offsetX)*t.scaleX,p=(l[n+1]+t.offsetY)*t.scaleY,m=(l[r]+t.offsetX)*t.scaleX,g=(l[r+1]+t.offsetY)*t.scaleY,b=(l[i]+t.offsetX)*t.scaleX,v=(l[i+1]+t.offsetY)*t.scaleY;if(p>=v)return;const y=c[a],w=c[a+1],x=c[a+2],S=c[s],A=c[s+1],E=c[s+2],k=c[o],C=c[o+1],_=c[o+2],T=Math.round(p),P=Math.round(v);let O,M,R,I,L,D,N,z;for(let F=T;F<=P;F++){if(F<g){const e=F<p?0:(p-F)/(p-g);O=f-(f-m)*e,M=y-(y-S)*e,R=w-(w-A)*e,I=x-(x-E)*e}else{let e;e=F>v?1:g===v?0:(g-F)/(g-v),O=m-(m-b)*e,M=S-(S-k)*e,R=A-(A-C)*e,I=E-(E-_)*e}let e;e=F<p?0:F>v?1:(p-F)/(p-v),L=f-(f-b)*e,D=y-(y-k)*e,N=w-(w-C)*e,z=x-(x-_)*e;const t=Math.round(Math.min(O,L)),n=Math.round(Math.max(O,L));let r=u*F+4*t;for(let i=t;i<=n;i++)e=(O-i)/(O-L),e<0?e=0:e>1&&(e=1),d[r++]=M-(M-D)*e|0,d[r++]=R-(R-N)*e|0,d[r++]=I-(I-z)*e|0,d[r++]=255}}function nw(e,t,n){const r=t.coords,i=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)tw(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),tw(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)tw(e,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class rw extends Zy{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,d=s/l,u={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/d},h=o+4,f=l+4,p=n.getCanvas("mesh",h,f,!1),m=p.context,g=m.createImageData(o,l);if(t){const e=g.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const b of this._figures)nw(g,b,u);m.putImageData(g,2,2);return{canvas:p.canvas,offsetX:r-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}getPattern(e,t,n,r){let i;if(Jy(e,this._bbox),r===Qy)i=zv.singularValueDecompose2dScale(xy(e));else if(i=zv.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=zv.singularValueDecompose2dScale(this.matrix);i=[i[0]*e[0],i[1]*e[1]]}const a=this._createMeshCanvas(i,r===Qy?null:this._background,t.cachedCanvases);return r!==Qy&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class iw extends Zy{getPattern(){return"hotpink"}}const aw=1,sw=2;class ow{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const t=this.operatorList,n=this.bbox,r=this.xstep,i=this.ystep,a=this.paintType,s=this.tilingType,o=this.color,l=this.canvasGraphicsFactory;vv("TilingType: "+s);const c=n[0],d=n[1],u=n[2],h=n[3],f=zv.singularValueDecompose2dScale(this.matrix),p=zv.singularValueDecompose2dScale(this.baseTransform),m=[f[0]*p[0],f[1]*p[1]],g=this.getSizeAndScale(r,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(i,this.ctx.canvas.height,m[1]),v=e.cachedCanvases.getCanvas("pattern",g.size,b.size,!0),y=v.context,w=l.createCanvasGraphics(y);w.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(w,a,o);let x=c,S=d,A=u,E=h;return c<0&&(x=0,A+=Math.abs(c)),d<0&&(S=0,E+=Math.abs(d)),y.translate(-g.scale*x,-b.scale*S),w.transform(g.scale,0,0,b.scale,0,0),y.save(),this.clipBbox(w,x,S,A,E),w.baseTransform=xy(w.ctx),w.executeOperatorList(t),w.endDrawing(),{canvas:v.canvas,scaleX:g.scale,scaleY:b.scale,offsetX:x,offsetY:S}}getSizeAndScale(e,t,n){e=Math.abs(e);const r=Math.max(ow.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,i){const a=r-t,s=i-n;e.ctx.rect(t,n,a,s),e.current.updateRectMinMax(xy(e.ctx),[t,n,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,i=e.current;switch(t){case aw:const e=this.ctx;r.fillStyle=e.fillStyle,r.strokeStyle=e.strokeStyle,i.fillColor=e.fillStyle,i.strokeColor=e.strokeStyle;break;case sw:const a=zv.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new Ov(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,r){let i=n;r!==Qy&&(i=zv.transform(i,t.baseTransform),this.matrix&&(i=zv.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let s=new DOMMatrix(i);s=s.translate(a.offsetX,a.offsetY),s=s.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(s),o}}function lw(e){let{src:t,srcPos:n=0,dest:r,width:i,height:a,nonBlackColor:s=4294967295,inverseDecode:o=!1}=e;const l=Dv.isLittleEndian?4278190080:255,[c,d]=o?[s,l]:[l,s],u=i>>3,h=7&i,f=t.length;r=new Uint32Array(r.buffer);let p=0;for(let m=0;m<a;m++){for(const i=n+u;n<i;n++){const e=n<f?t[n]:255;r[p++]=128&e?d:c,r[p++]=64&e?d:c,r[p++]=32&e?d:c,r[p++]=16&e?d:c,r[p++]=8&e?d:c,r[p++]=4&e?d:c,r[p++]=2&e?d:c,r[p++]=1&e?d:c}if(0===h)continue;const e=n<f?t[n++]:255;for(let t=0;t<h;t++)r[p++]=e&1<<7-t?d:c}return{srcPos:n,destPos:p}}const cw=16;class dw{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function uw(e,t,n,r,i,a,s,o,l,c){const[d,u,h,f,p,m]=xy(e);if(0===u&&0===h){const g=s*d+p,b=Math.round(g),v=o*f+m,y=Math.round(v),w=(s+l)*d+p,x=Math.abs(Math.round(w)-b)||1,S=(o+c)*f+m,A=Math.abs(Math.round(S)-y)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(f),b,y),e.drawImage(t,n,r,i,a,0,0,x,A),e.setTransform(d,u,h,f,p,m),[x,A]}if(0===d&&0===f){const g=o*h+p,b=Math.round(g),v=s*u+m,y=Math.round(v),w=(o+c)*h+p,x=Math.abs(Math.round(w)-b)||1,S=(s+l)*u+m,A=Math.abs(Math.round(S)-y)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,b,y),e.drawImage(t,n,r,i,a,0,0,A,x),e.setTransform(d,u,h,f,p,m),[A,x]}e.drawImage(t,n,r,i,a,s,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,f)*c]}class hw{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=wb,this.textMatrixScale=1,this.fontMatrix=xb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Db,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=zv.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=zv.applyTransform(t,e),r=zv.applyTransform(t.slice(2),e),i=zv.applyTransform([t[0],t[3]],e),a=zv.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],i[0],a[0]),this.minY=Math.min(this.minY,n[1],r[1],i[1],a[1]),this.maxX=Math.max(this.maxX,n[0],r[0],i[0],a[0]),this.maxY=Math.max(this.maxY,n[1],r[1],i[1],a[1])}updateScalingPathMinMax(e,t){zv.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,i,a,s,o,l,c){const d=zv.bezierBoundingBox(t,n,r,i,a,s,o,l,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yy,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===Ky){t||wv("Stroke bounding box must include transform.");const e=zv.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,i=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=i,n[2]+=r,n[3]+=i}return n}updateClipFromPath(){const e=zv.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yy,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return zv.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function fw(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,i=n%cw,a=(n-i)/cw,s=0===i?a:a+1,o=e.createImageData(r,cw);let l,c=0;const d=t.data,u=o.data;let h,f,p,m;if(t.kind===Hb.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(u.buffer,0,u.byteLength>>2),m=n.length,g=r+7>>3,b=4294967295,v=Dv.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(p=h<a?cw:i,l=0,f=0;f<p;f++){const e=t-c;let i=0;const a=e>g?r:8*e-7,s=-8&a;let o=0,u=0;for(;i<s;i+=8)u=d[c++],n[l++]=128&u?b:v,n[l++]=64&u?b:v,n[l++]=32&u?b:v,n[l++]=16&u?b:v,n[l++]=8&u?b:v,n[l++]=4&u?b:v,n[l++]=2&u?b:v,n[l++]=1&u?b:v;for(;i<a;i++)0===o&&(u=d[c++],o=128),n[l++]=u&o?b:v,o>>=1}for(;l<m;)n[l++]=0;e.putImageData(o,0,h*cw)}}else if(t.kind===Hb.RGBA_32BPP){for(f=0,m=r*cw*4,h=0;h<a;h++)u.set(d.subarray(c,c+m)),c+=m,e.putImageData(o,0,f),f+=cw;h<s&&(m=r*i*4,u.set(d.subarray(c,c+m)),e.putImageData(o,0,f))}else{if(t.kind!==Hb.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(p=cw,m=r*p,h=0;h<s;h++){for(h>=a&&(p=i,m=r*p),l=0,f=m;f--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;e.putImageData(o,0,h*cw)}}}function pw(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%cw,a=(n-i)/cw,s=0===i?a:a+1,o=e.createImageData(r,cw);let l=0;const c=t.data,d=o.data;for(let u=0;u<s;u++){const t=u<a?cw:i;({srcPos:l}=lw({src:c,srcPos:l,dest:d,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,u*cw)}}function mw(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function gw(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!yb){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function bw(e,t){if(t)return!0;const n=zv.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*ry.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const vw=["butt","round","square"],yw=["miter","round","bevel"],ww={},xw={};class Sw{constructor(e,t,n,r,i,a,s,o){let{optionalContentConfig:l,markedContentStack:c=null}=a;this.ctx=e,this.current=new hw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new dw(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:i=null}=e;const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const e=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...xy(this.compositeCtx))}this.ctx.save(),gw(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=xy(this.ctx)}executeOperatorList(e,t,n,r){const i=e.argsArray,a=e.fnArray;let s=t||0;const o=i.length;if(o===s)return s;const l=o-s>10&&"function"===typeof n,c=l?Date.now()+15:0;let d=0;const u=this.commonObjs,h=this.objs;let f;for(;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if(f=a[s],f!==fv.dependency)this[f].apply(this,i[s]);else for(const e of i[s]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,n),s}if(s++,s===o)return s;if(l&&++d>10){if(Date.now()>c)return n(),s;d=0}}}#Rt(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#Rt(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#It()}#It(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width,r=e.height;let i,a,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),l=n,c=r,d="prescale1";for(;s>2&&l>1||o>2&&c>1;){let t=l,n=c;s>2&&l>1&&(t=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),s/=l/t),o>2&&c>1&&(n=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/n),i=this.cachedCanvases.getCanvas(d,t,n),a=i.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,l,c,0,0,t,n),e=i.canvas,l=t,c=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,i=this.current.fillColor,a=this.current.patternFill,s=xy(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?s:[s.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!a){return{canvas:n,offsetX:Math.round(Math.min(s[0],s[2])+s[4]),offsetY:Math.round(Math.min(s[1],s[3])+s[5])}}c=n}c||(d=this.cachedCanvases.getCanvas("maskCanvas",n,r),pw(d.context,e));let u=zv.transform(s,[1/n,0,0,-1/r,0,0]);u=zv.transform(u,[1,0,0,1,0,-r]);const[h,f,p,m]=zv.getAxialAlignedBoundingBox([0,0,n,r],u),g=Math.round(p-h)||1,b=Math.round(m-f)||1,v=this.cachedCanvases.getCanvas("fillCanvas",g,b),y=v.context,w=h,x=f;y.translate(-w,-x),y.transform(...u),c||(c=this._scaleImage(d.canvas,Sy(y)),c=c.img,o&&a&&o.set(l,c)),y.imageSmoothingEnabled=bw(xy(y),e.interpolate),uw(y,c,0,0,c.width,c.height,0,0,n,r),y.globalCompositeOperation="source-in";const S=zv.transform(Sy(y),[1,0,0,1,-w,-x]);return y.fillStyle=a?i.getPattern(t,this,S,Yy):i,y.fillRect(0,0,n,r),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,v.canvas)),{canvas:v.canvas,offsetX:Math.round(w),offsetY:Math.round(x)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=vw[e]}setLineJoin(e){this.ctx.lineJoin=yw[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...xy(this.suspendedCtx)),mw(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,a,s){t.transform(e,n,r,i,a,s),this.__originalTransform(e,n,r,i,a,s)},e.setTransform=function(e,n,r,i,a,s){t.setTransform(e,n,r,i,a,s),this.__originalSetTransform(e,n,r,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,a,s){t.bezierCurveTo(e,n,r,i,a,s),this.__originalBezierCurveTo(e,n,r,i,a,s)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),mw(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const i=r[0],a=r[1],s=r[2]-i,o=r[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,i,a,s,o,l,c,d){let u=e.canvas,h=o-c,f=l-d;if(a)if(h<0||f<0||h+n>u.width||f+r>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,r),t=e.context;t.drawImage(u,-h,-f),a.some((e=>0!==e))&&(t.globalCompositeOperation="destination-atop",t.fillStyle=zv.makeHexColor(...a),t.fillRect(0,0,n,r),t.globalCompositeOperation="source-over"),u=e.canvas,h=f=0}else if(a.some((e=>0!==e))){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,f,n,r),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=zv.makeHexColor(...a),e.fillRect(h,f,n,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(s));const p=new Path2D;p.rect(o,l,n,r),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(u,h,f,n,r,o,l,n,r),t.restore()}save(){this.inSMaskMode?(mw(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),mw(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,i=this.current;let a,s,o=i.x,l=i.y;const c=xy(r),d=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],u=d?n.slice(0):null;for(let h=0,f=0,p=e.length;h<p;h++)switch(0|e[h]){case fv.rectangle:o=t[f++],l=t[f++];const e=t[f++],n=t[f++],h=o+e,p=l+n;r.moveTo(o,l),0===e||0===n?r.lineTo(h,p):(r.lineTo(h,l),r.lineTo(h,p),r.lineTo(o,p)),d||i.updateRectMinMax(c,[o,l,h,p]),r.closePath();break;case fv.moveTo:o=t[f++],l=t[f++],r.moveTo(o,l),d||i.updatePathMinMax(c,o,l);break;case fv.lineTo:o=t[f++],l=t[f++],r.lineTo(o,l),d||i.updatePathMinMax(c,o,l);break;case fv.curveTo:a=o,s=l,o=t[f+4],l=t[f+5],r.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],o,l),i.updateCurvePathMinMax(c,a,s,t[f],t[f+1],t[f+2],t[f+3],o,l,u),f+=6;break;case fv.curveTo2:a=o,s=l,r.bezierCurveTo(o,l,t[f],t[f+1],t[f+2],t[f+3]),i.updateCurvePathMinMax(c,a,s,o,l,t[f],t[f+1],t[f+2],t[f+3],u),o=t[f+2],l=t[f+3],f+=4;break;case fv.curveTo3:a=o,s=l,o=t[f+2],l=t[f+3],r.bezierCurveTo(t[f],t[f+1],o,l,o,l),i.updateCurvePathMinMax(c,a,s,t[f],t[f+1],o,l,o,l,u),f+=4;break;case fv.closePath:r.closePath()}d&&i.updateScalingPathMinMax(c,u),i.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&n?.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,Sy(t),Ky),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,Sy(t),Yy),r=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=ww}eoClip(){this.pendingClip=xw}beginText(){this.current.textMatrix=wb,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const n=this.commonObjs.get(e),r=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=n.fontMatrix||xb,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||yv("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const i=n.loadedName||"sans-serif",a=n.systemFontInfo?.css||`"${i}", ${n.fallbackName}`;let s="normal";n.black?s="900":n.bold&&(s="bold");const o=n.italic?"italic":"normal";let l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font=`${o} ${s} ${l}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const i=this.ctx,a=this.current,s=a.font,o=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,c=o&jb,d=!!(o&Bb),u=a.patternFill&&!s.missingFile;let h;if((s.disableFontFace||d||u)&&(h=s.getPathGenerator(this.commonObjs,e)),s.disableFontFace||u?(i.save(),i.translate(t,n),i.beginPath(),h(i,l),r&&i.setTransform(...r),c!==Db&&c!==zb||i.fill(),c!==Nb&&c!==zb||i.stroke(),i.restore()):(c!==Db&&c!==zb||i.fillText(e,t,n),c!==Nb&&c!==zb||i.strokeText(e,t,n)),d){(this.pendingTextPaths||=[]).push({transform:xy(i),x:t,y:n,fontSize:l,addToPath:h})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return Av(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const i=this.ctx,a=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=n.vertical,h=u?1:-1,f=n.defaultVMetrics,p=r*t.fontMatrix[0],m=t.textRenderingMode===Db&&!n.disableFontFace&&!t.patternFill;let g;if(i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,Sy(i),Yy);g=xy(i),i.restore(),i.fillStyle=e}let b=t.lineWidth;const v=t.textMatrixScale;if(0===v||0===b){const e=t.textRenderingMode&jb;e!==Nb&&e!==zb||(b=this.getSinglePixelWidth())}else b/=v;if(1!==a&&(i.scale(a,a),b/=a),i.lineWidth=b,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return i.fillText(n.join(""),0,0),t.x+=r*p*c,i.restore(),void this.compose()}let y,w=0;for(y=0;y<d;++y){const t=e[y];if("number"===typeof t){w+=h*t*r/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+s,b=t.fontChar,v=t.accent;let x,S,A=t.width;if(u){const e=t.vmetric||f,n=-(t.vmetric?e[1]:.5*A)*p,r=e[2]*p;A=e?-e[0]:A,x=n/a,S=(w+r)/a}else x=w/a,S=0;if(n.remeasure&&A>0){const e=1e3*i.measureText(b).width/r*a;if(A<e&&this.isFontSubpixelAAEnabled){const t=A/e;c=!0,i.save(),i.scale(t,1),x/=t}else A!==e&&(x+=(A-e)/2e3*r/a)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(m&&!v)i.fillText(b,x,S);else if(this.paintChar(b,x,S,g),v){const e=x+r*v.offset.x/a,t=S-r*v.offset.y/a;this.paintChar(v.fontChar,e,t,g)}w+=u?A*p-d*l:A*p+d*l,c&&i.restore()}u?t.y-=w:t.x+=w*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,i=n.fontSize,a=n.fontDirection,s=r.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*a,d=n.fontMatrix||xb,u=e.length;let h,f,p,m;if(!(n.textRenderingMode===Fb)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,a),h=0;h<u;++h){if(f=e[h],"number"===typeof f){m=s*f*i/1e3,this.ctx.translate(m,0),n.x+=m*c;continue}const a=(f.isSpace?l:0)+o,u=r.charProcOperatorList[f.operatorListId];if(!u){yv(`Type3 character "${f.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=f,this.save(),t.scale(i,i),t.transform(...d),this.executeOperatorList(u),this.restore());p=zv.applyTransform([f.width,0],d)[0]*i+a,t.translate(p,0),n.x+=p*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||xy(this.ctx),i={createCanvasGraphics:e=>new Sw(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new ow(e,n,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=zv.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=zv.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new ew(e);case"Mesh":return new rw(e);case"Dummy":return new iw}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Sy(t),Qy);const r=Sy(t);if(r){const{width:e,height:n}=t.canvas,[i,a,s,o]=zv.getAxialAlignedBoundingBox([0,0,e,n],r);this.ctx.fillRect(i,a,s-i,o-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){wv("Should not call beginInlineImage")}beginImageData(){wv("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=xy(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(xy(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||vv("TODO: Support non-isolated groups."),e.knockout&&yv("Knockout groups not supported.");const n=xy(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=zv.getAxialAlignedBoundingBox(e.bbox,xy(t));const i=[0,0,t.canvas.width,t.canvas.height];r=zv.intersect(r,i)||[0,0,0,0];const a=Math.floor(r[0]),s=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-a,1),l=Math.max(Math.ceil(r[3])-s,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),u=d.context;u.translate(-a,-s),u.transform(...n),e.smask?this.smaskStack.push({canvas:d.canvas,context:u,offsetX:a,offsetY:s,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.save()),mw(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=xy(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=zv.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,r,i){if(this.#Rt(),gw(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const r=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=a;const[i,s]=zv.singularValueDecompose2dScale(xy(this.ctx)),{viewportScale:o}=this,l=Math.ceil(r*this.outputScaleX*o),c=Math.ceil(a*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:d,context:u}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=u,this.ctx.save(),this.ctx.setTransform(i,0,0,-s,0,a*s),gw(this.ctx)}else gw(this.ctx),this.ctx.rect(t[0],t[1],r,a),this.ctx.clip(),this.endPath()}this.current=new hw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#It(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let a,s,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let d=new Uint8Array(c*n),u=0;for(const m of e.data){let e=128;for(;e>0;)d[u++]=m&e?0:255,e>>=1}let h=0;for(u=0,0!==d[u]&&(l[0]=1,++h),s=1;s<t;s++)d[u]!==d[u+1]&&(l[s]=d[u]?2:1,++h),u++;for(0!==d[u]&&(l[s]=2,++h),a=1;a<n;a++){u=a*c,o=a*i,d[u-c]!==d[u]&&(l[o]=d[u]?1:8,++h);let e=(d[u]?4:0)+(d[u-c]?8:0);for(s=1;s<t;s++)e=(e>>2)+(d[u+1]?4:0)+(d[u-c+1]?8:0),r[e]&&(l[o+s]=r[e],++h),u++;if(d[u-c]!==d[u]&&(l[o+s]=d[u]?2:4,++h),h>1e3)return null}for(u=c*(n-1),o=a*i,0!==d[u]&&(l[o]=8,++h),s=1;s<t;s++)d[u]!==d[u+1]&&(l[o+s]=d[u]?4:8,++h),u++;if(0!==d[u]&&(l[o+s]=4,++h),h>1e3)return null;const f=new Int32Array([0,i,-1,0,-i,0,0,0,1]),p=new Path2D;for(a=0;h&&a<=n;a++){let e=a*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;p.moveTo(e%i,a);const r=e;let s=l[e];do{const t=f[s];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(s=n,l[e]=0):(s=n&51*s>>4,l[e]&=s>>2|s<<2),p.lineTo(e%i,e/i|0),l[e]||--h}while(r!==e);--a}return d=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(p),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),a=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const s=this.ctx;s.save();const o=xy(s);s.transform(t,n,r,i,0,0);const l=this._createMaskCanvas(e);s.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=a.length;c<d;c+=2){const e=zv.transform(o,[t,n,r,i,a[c],a[c+1]]),[d,u]=zv.applyTransform([0,0],e);s.drawImage(l.canvas,d,u)}s.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:e,width:a,height:s,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",a,s),c=l.context;c.save();pw(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this,Sy(t),Yy):n,c.fillRect(0,0,a,s),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),uw(t,l.canvas,0,0,a,s,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):yv("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void yv("Dependent image isn't ready yet");const a=i.width,s=i.height,o=[];for(let l=0,c=r.length;l<c;l+=2)o.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!yb){const{filter:e}=r;"none"!==e&&""!==e&&(r.filter="none")}let i;if(r.scale(1/t,-1/n),e.bitmap)i=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)i=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;fw(r,e),i=this.applyTransferMapsToCanvas(r)}const a=this._scaleImage(i,Sy(r));r.imageSmoothingEnabled=bw(xy(r),e.interpolate),uw(r,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;fw(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),uw(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===xw?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=xy(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let a,s;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)a=s=1/n;else{const t=n*e;a=s=t<1?1/t:1}else if(0===e)a=1/n,s=1/r;else{const t=n*e,i=r*e;a=t<1?1/t:1,s=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)a=c/o,s=l/o;else{const t=e*o;a=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const a=t.getLineDash();if(e&&t.save(),t.scale(r,i),a.length>0){const e=Math.max(r,i);t.setLineDash(a.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const IS in fv)void 0!==Sw.prototype[IS]&&(Sw.prototype[fv[IS]]=Sw.prototype[IS]);class Aw{static#Lt=null;static#Dt="";static get workerPort(){return this.#Lt}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#Lt=e}static get workerSrc(){return this.#Dt}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");this.#Dt=e}}const Ew=1,kw=2,Cw=1,_w=2,Tw=3,Pw=4,Ow=5,Mw=6,Rw=7,Iw=8;function Lw(e){switch(e instanceof Error||"object"===typeof e&&null!==e||wv('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Mv(e.message);case"MissingPDFException":return new Tv(e.message);case"PasswordException":return new kv(e.message,e.code);case"UnexpectedResponseException":return new Pv(e.message,e.status);case"UnknownErrorException":return new Cv(e.message,e.details);default:return new Cv(e.message,e.toString())}}class Dw{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this.#Nt(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===Ew)n.resolve(t.data);else{if(t.callback!==kw)throw new Error("Unexpected callback case");n.reject(Lw(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,i=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:i,callback:Ew,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:i,callback:kw,callbackId:t.callbackId,reason:Lw(r)})}))}else t.streamId?this.#zt(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,n,r){const i=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:e,streamId:i,data:t,desiredSize:n.desiredSize},r),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:a,targetName:s,stream:Mw,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{xv(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:Cw,streamId:i,reason:Lw(e)}),t.promise}},n)}#zt(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:Pw,streamId:t,chunk:e},s)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:Tw,streamId:t}),delete a.streamSinks[t])},error(e){xv(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:Ow,streamId:t,reason:Lw(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(s(e.data,o))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:Iw,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:Iw,streamId:t,reason:Lw(e)})}))}#Nt(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case Iw:e.success?a.startCall.resolve():a.startCall.reject(Lw(e.reason));break;case Rw:e.success?a.pullCall.resolve():a.pullCall.reject(Lw(e.reason));break;case Mw:if(!s){i.postMessage({sourceName:n,targetName:r,stream:Rw,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,new Promise((function(e){e(s.onPull?.())})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:Rw,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:Rw,streamId:t,reason:Lw(e)})}));break;case Pw:if(xv(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Tw:if(xv(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#Ft(a,t);break;case Ow:xv(a,"error should have stream controller"),a.controller.error(Lw(e.reason)),this.#Ft(a,t);break;case _w:e.success?a.cancelCall.resolve():a.cancelCall.reject(Lw(e.reason)),this.#Ft(a,t);break;case Cw:if(!s)break;new Promise((function(t){t(s.onCancel?.(Lw(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:_w,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:_w,streamId:t,reason:Lw(e)})})),s.sinkCapability.reject(Lw(e.reason)),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#Ft(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Nw{#jt;#Bt;constructor(e){let{parsedData:t,rawData:n}=e;this.#jt=t,this.#Bt=n}getRaw(){return this.#Bt}get(e){return this.#jt.get(e)??null}getAll(){return Lv(this.#jt)}has(e){return this.#jt.has(e)}}const zw=Symbol("INTERNAL");class Fw{#Ht=!1;#$t=!1;#Wt=!1;#Ut=!0;constructor(e,t){let{name:n,intent:r,usage:i}=t;this.#Ht=!!(e&Eb),this.#$t=!!(e&kb),this.name=n,this.intent=r,this.usage=i}get visible(){if(this.#Wt)return this.#Ut;if(!this.#Ut)return!1;const{print:e,view:t}=this.usage;return this.#Ht?"OFF"!==t?.viewState:!this.#$t||"OFF"!==e?.printState}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==zw&&wv("Internal method `_setVisible` called."),this.#Wt=n,this.#Ut=t}}class jw{#Vt=null;#qt=(()=>new Map)();#Gt=null;#Xt=null;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eb;if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#Xt=e.order;for(const n of e.groups)this.#qt.set(n.id,new Fw(t,n));if("OFF"===e.baseState)for(const e of this.#qt.values())e._setVisible(zw,!1);for(const t of e.on)this.#qt.get(t)._setVisible(zw,!0);for(const t of e.off)this.#qt.get(t)._setVisible(zw,!1);this.#Gt=this.getHash()}}#Yt(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let i;if(Array.isArray(t))i=this.#Yt(t);else{if(!this.#qt.has(t))return yv(`Optional content group not found: ${t}`),!0;i=this.#qt.get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}isVisible(e){if(0===this.#qt.size)return!0;if(!e)return vv("Optional content group not defined."),!0;if("OCG"===e.type)return this.#qt.has(e.id)?this.#qt.get(e.id).visible:(yv(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return this.#Yt(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return yv(`Optional content group not found: ${t}`),!0;if(this.#qt.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return yv(`Optional content group not found: ${t}`),!0;if(!this.#qt.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return yv(`Optional content group not found: ${t}`),!0;if(!this.#qt.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#qt.has(t))return yv(`Optional content group not found: ${t}`),!0;if(this.#qt.get(t).visible)return!1}return!0}return yv(`Unknown optional content policy ${e.policy}.`),!0}return yv(`Unknown group type ${e.type}.`),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.#qt.get(e);n?(n._setVisible(zw,!!t,!0),this.#Vt=null):yv(`Optional content group not found: ${e}`)}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=this.#qt.get(i);if(e)switch(t){case"ON":e._setVisible(zw,!0);break;case"OFF":e._setVisible(zw,!1);break;case"Toggle":e._setVisible(zw,!e.visible)}}this.#Vt=null}get hasInitialVisibility(){return null===this.#Gt||this.getHash()===this.#Gt}getOrder(){return this.#qt.size?this.#Xt?this.#Xt.slice():[...this.#qt.keys()]:null}getGroups(){return this.#qt.size>0?Lv(this.#qt):null}getGroup(e){return this.#qt.get(e)||null}getHash(){if(null!==this.#Vt)return this.#Vt;const e=new jy;for(const[t,n]of this.#qt)e.update(`${t}:${n.visible}`);return this.#Vt=e.hexdigest()}}class Bw{constructor(e,t){let{disableRange:n=!1,disableStream:r=!1}=t;xv(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,a?.length>0){const e=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{xv(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){xv(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Hw(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new $w(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class Hw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=uy(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class $w{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ww(e){let{getResponseHeader:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const a={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);if(!Number.isInteger(s))return a;if(a.suggestedLength=s,s<=2*r)return a;if(i||!n)return a;if("bytes"!==t("Accept-Ranges"))return a;return"identity"!==(t("Content-Encoding")||"identity")||(a.allowRangeRequests=!0),a}function Uw(e){const t=e("Content-Disposition");if(t){let e=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=s(n);return e=unescape(e),e=o(e),e=l(e),a(e)}if(n=function(e){const t=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const a=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=s(n),e&&(n=unescape(n),0===r&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(l(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=s(n);return e=l(e),a(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),i=Iv(n);n=r.decode(i),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return i(t,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch{}return i(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(uy(e))return e}return null}function Vw(e,t){return 404===e||0===e&&t.startsWith("file:")?new Tv('Missing PDF "'+t+'".'):new Pv(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function qw(e){return 200===e||206===e}function Gw(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Xw(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}function Yw(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(yv(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class Kw{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return xv(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Qw(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Jw(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Qw{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Xw(this._stream.httpHeaders);const n=t.url;fetch(n,Gw(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!qw(e.status))throw Vw(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:r,suggestedLength:i}=Ww({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=Uw(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Mv("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Yw(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Jw{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController,this._headers=Xw(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const i=r.url;fetch(i,Gw(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!qw(e.status))throw Vw(e.status,i);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Yw(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Zw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const e=this.httpHeaders[i];void 0!==e&&t.setRequestHeader(i,e)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void n.onError?.(r.status);const i=r.status||200;if(!(200===i&&206===n.expectedStatus)&&i!==n.expectedStatus)return void n.onError?.(r.status);const a=function(e){const t=e.response;return"string"!==typeof t?t:Iv(t).buffer}(r);if(206===i){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:a})}else a?n.onDone({begin:0,chunk:a}):n.onError?.(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class ex{constructor(e){this._source=e,this._manager=new Zw(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return xv(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new tx(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new nx(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class tx{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:i}=Ww({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=Uw(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Vw(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nx{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Vw(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rx=/^[a-z][a-z0-9\-+.]+:/i;function ix(e,t,n){if("http:"===e.protocol){return Gy.get("http").request(e,{headers:t},n)}return Gy.get("https").request(e,{headers:t},n)}class ax{constructor(e){this.source=e,this.url=function(e){if(rx.test(e))return new URL(e);const t=Gy.get("url");return new URL(t.pathToFileURL(e))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return xv(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new dx(this):new lx(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new ux(this,e,t):new cx(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class sx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Mv("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ox{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}class lx extends sx{constructor(e){super(e);this._request=ix(this._url,e.httpHeaders,(t=>{if(404===t.statusCode){const e=new Tv(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:r,suggestedLength:i}=Ww({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=Uw(n)})),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class cx extends ox{constructor(e,t,n){super(e),this._httpHeaders={};for(const r in e.httpHeaders){const t=e.httpHeaders[r];void 0!==t&&(this._httpHeaders[r]=t)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;this._request=ix(this._url,this._httpHeaders,(e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new Tv(`Missing PDF "${this._url}".`);this._storedError=e}})),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class dx extends sx{constructor(e){super(e);const t=Gy.get("fs");t.promises.lstat(this._url).then((e=>{this._contentLength=e.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new Tv(`Missing PDF "${this._url}".`)),this._storedError=e,this._headersCapability.reject(e)}))}}class ux extends ox{constructor(e,t,n){super(e);const r=Gy.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const hx=30;class fx{#Kt=(()=>Promise.withResolvers())();#he=null;#Qt=!1;#Jt=(()=>!!globalThis.FontInspector?.enabled)();#Zt=null;#en=null;#tn=0;#nn=0;#rn=null;#in=null;#an=0;#sn=0;#on=(()=>Object.create(null))();#ln=[];#cn=null;#dn=[];#un=(()=>new WeakMap)();#hn=null;static#fn=(()=>new Map)();static#pn=(()=>new Map)();static#mn=null;static#gn=(()=>new Set)();constructor(e){let{textContentSource:t,container:n,viewport:r}=e;if(t instanceof ReadableStream)this.#cn=t;else{if("object"!==typeof t)throw new Error('No "textContentSource" parameter specified.');this.#cn=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#he=this.#in=n,this.#sn=r.scale*(globalThis.devicePixelRatio||1),this.#an=r.rotation,this.#en={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;this.#hn=[1,0,0,-1,-s,o+a],this.#nn=i,this.#tn=a,fx.#bn(),Ay(n,r),this.#Kt.promise.catch((()=>{})).then((()=>{fx.#gn.delete(this),this.#en=null,this.#on=null}))}render(){const e=()=>{this.#rn.read().then((t=>{let{value:n,done:r}=t;r?this.#Kt.resolve():(this.#Zt??=n.lang,Object.assign(this.#on,n.styles),this.#vn(n.items),e())}),this.#Kt.reject)};return this.#rn=this.#cn.getReader(),fx.#gn.add(this),e(),this.#Kt.promise}update(e){let{viewport:t,onBefore:n=null}=e;const r=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==this.#an&&(n?.(),this.#an=i,Ay(this.#in,{rotation:i})),r!==this.#sn){n?.(),this.#sn=r;const e={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:fx.#yn(this.#Zt)};for(const t of this.#dn)e.properties=this.#un.get(t),e.div=t,this.#wn(e)}}cancel(){const e=new Mv("TextLayer task cancelled.");this.#rn?.cancel(e).catch((()=>{})),this.#rn=null,this.#Kt.reject(e)}get textDivs(){return this.#dn}get textContentItemsStr(){return this.#ln}#vn(e){if(this.#Qt)return;this.#en.ctx??=fx.#yn(this.#Zt);const t=this.#dn,n=this.#ln;for(const r of e){if(t.length>1e5)return yv("Ignoring additional textDivs for performance reasons."),void(this.#Qt=!0);if(void 0!==r.str)n.push(r.str),this.#xn(r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const e=this.#he;this.#he=document.createElement("span"),this.#he.classList.add("markedContent"),null!==r.id&&this.#he.setAttribute("id",`${r.id}`),e.append(this.#he)}else"endMarkedContent"===r.type&&(this.#he=this.#he.parentNode)}}#xn(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#dn.push(t);const r=zv.transform(this.#hn,e.transform);let i=Math.atan2(r[1],r[0]);const a=this.#on[e.fontName];a.vertical&&(i+=Math.PI/2);const s=this.#Jt&&a.fontSubstitution||a.fontFamily,o=Math.hypot(r[2],r[3]),l=o*fx.#Sn(s,this.#Zt);let c,d;0===i?(c=r[4],d=r[5]-l):(c=r[4]+l*Math.sin(i),d=r[5]-l*Math.cos(i));const u="calc(var(--scale-factor)*",h=t.style;this.#he===this.#in?(h.left=`${(100*c/this.#nn).toFixed(2)}%`,h.top=`${(100*d/this.#tn).toFixed(2)}%`):(h.left=`${u}${c.toFixed(2)}px)`,h.top=`${u}${d.toFixed(2)}px)`),h.fontSize=`${u}${(fx.#mn*o).toFixed(2)}px)`,h.fontFamily=s,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#Jt&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let f=!1;if(e.str.length>1)f=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=a.vertical?e.height:e.width),this.#un.set(t,n),this.#en.div=t,this.#en.properties=n,this.#wn(this.#en),n.hasText&&this.#he.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#he.append(e)}}#wn(e){const{div:t,properties:n,ctx:r,prevFontSize:i,prevFontFamily:a}=e,{style:s}=t;let o="";if(fx.#mn>1&&(o=`scale(${1/fx.#mn})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:d}=n;i===d&&a===l||(r.font=`${d*this.#sn}px ${l}`,e.prevFontSize=d,e.prevFontFamily=l);const{width:u}=r.measureText(t.textContent);u>0&&(o=`scaleX(${c*this.#sn/u}) ${o}`)}0!==n.angle&&(o=`rotate(${n.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#gn.size>0)){this.#fn.clear();for(const{canvas:e}of this.#pn.values())e.remove();this.#pn.clear()}}static#yn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.#pn.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#pn.set(e,t)}return t}static#bn(){if(null!==this.#mn)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#mn=e.getBoundingClientRect().height,e.remove()}static#Sn(e,t){const n=this.#fn.get(e);if(n)return n;const r=this.#yn(t),i=r.font;r.canvas.width=r.canvas.height=hx,r.font=`30px ${e}`;const a=r.measureText("");let s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);if(s){const t=s/(s+o);return this.#fn.set(e,t),r.canvas.width=r.canvas.height=0,r.font=i,t}r.strokeStyle="red",r.clearRect(0,0,hx,hx),r.strokeText("g",0,0);let l=r.getImageData(0,0,hx,hx).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/hx);break}r.clearRect(0,0,hx,hx),r.strokeText("A",0,hx),l=r.getImageData(0,0,hx,hx).data,s=0;for(let d=0,u=l.length;d<u;d+=4)if(l[d]>0){s=hx-Math.floor(d/4/hx);break}r.canvas.width=r.canvas.height=0,r.font=i;const c=s?s/(s+o):.8;return this.#fn.set(e,c),c}}class px{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let r=null;const i=n.name;if("#text"===i)r=n.value;else{if(!px.shouldBuildText(i))return;n?.attributes?.textContent?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&t.push({str:r}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const mx=65536,gx=yb?class extends Jv{_createCanvas(e,t){return Gy.get("canvas").createCanvas(e,t)}}:class extends Jv{constructor(){let{ownerDocument:e=globalThis.document,enableHWA:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},bx=yb?class extends Zv{_fetchData(e,t){return Xy(e).then((e=>({cMapData:e,compressionType:t})))}}:ay,vx=yb?class extends Qv{}:class extends Qv{#An;#En;#kn;#Cn;#_n;#Tn;#y=0;constructor(){let{docId:e,ownerDocument:t=globalThis.document}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.#Cn=e,this.#_n=t}get#x(){return this.#En||=new Map}get#Pn(){return this.#Tn||=new Map}get#On(){if(!this.#kn){const e=this.#_n.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#_n.createElementNS(ny,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#kn=this.#_n.createElementNS(ny,"defs"),e.append(n),n.append(this.#kn),this.#_n.body.append(e)}return this.#kn}#Mn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const r=n.join(",");return[r,r,r]}const[t,n,r]=e,i=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,a[o]=n[o]/255,s[o]=r[o]/255;return[i.join(","),a.join(","),s.join(",")]}#Rn(e){if(void 0===this.#An){this.#An="";const e=this.#_n.URL;e!==this.#_n.baseURI&&(dy(e)?yv('#createUrl: ignore "data:"-URL for performance reasons.'):this.#An=e.split("#",1)[0])}return`url(${this.#An}#${e})`}addFilter(e){if(!e)return"none";let t=this.#x.get(e);if(t)return t;const[n,r,i]=this.#Mn(e),a=1===e.length?n:`${n}${r}${i}`;if(t=this.#x.get(a),t)return this.#x.set(e,t),t;const s=`g_${this.#Cn}_transfer_map_${this.#y++}`,o=this.#Rn(s);this.#x.set(e,o),this.#x.set(a,o);const l=this.#In(s);return this.#Ln(n,r,i,l),o}addHCMFilter(e,t){const n=`${e}-${t}`,r="base";let i=this.#Pn.get(r);if(i?.key===n)return i.url;if(i?(i.filter?.remove(),i.key=n,i.url="none",i.filter=null):(i={key:n,url:"none",filter:null},this.#Pn.set(r,i)),!e||!t)return i.url;const a=this.#Dn(e);e=zv.makeHexColor(...a);const s=this.#Dn(t);if(t=zv.makeHexColor(...s),this.#On.style.color="","#000000"===e&&"#ffffff"===t||e===t)return i.url;const o=new Array(256);for(let h=0;h<=255;h++){const e=h/255;o[h]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=o.join(","),c=`g_${this.#Cn}_hcm_filter`,d=i.filter=this.#In(c);this.#Ln(l,l,l,d),this.#Nn(d);const u=(e,t)=>{const n=a[e]/255,r=s[e]/255,i=new Array(t+1);for(let a=0;a<=t;a++)i[a]=n+a/t*(r-n);return i.join(",")};return this.#Ln(u(0,5),u(1,5),u(2,5),d),i.url=this.#Rn(c),i.url}addAlphaFilter(e){let t=this.#x.get(e);if(t)return t;const[n]=this.#Mn([e]),r=`alpha_${n}`;if(t=this.#x.get(r),t)return this.#x.set(e,t),t;const i=`g_${this.#Cn}_alpha_map_${this.#y++}`,a=this.#Rn(i);this.#x.set(e,a),this.#x.set(r,a);const s=this.#In(i);return this.#zn(n,s),a}addLuminosityFilter(e){let t,n,r=this.#x.get(e||"luminosity");if(r)return r;if(e?([t]=this.#Mn([e]),n=`luminosity_${t}`):n="luminosity",r=this.#x.get(n),r)return this.#x.set(e,r),r;const i=`g_${this.#Cn}_luminosity_map_${this.#y++}`,a=this.#Rn(i);this.#x.set(e,a),this.#x.set(n,a);const s=this.#In(i);return this.#Fn(s),e&&this.#zn(t,s),a}addHighlightHCMFilter(e,t,n,r,i){const a=`${t}-${n}-${r}-${i}`;let s=this.#Pn.get(e);if(s?.key===a)return s.url;if(s?(s.filter?.remove(),s.key=a,s.url="none",s.filter=null):(s={key:a,url:"none",filter:null},this.#Pn.set(e,s)),!t||!n)return s.url;const[o,l]=[t,n].map(this.#Dn.bind(this));let c=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[u,h]=[r,i].map(this.#Dn.bind(this));d<c&&([c,d,u,h]=[d,c,h,u]),this.#On.style.color="";const f=(e,t,n)=>{const r=new Array(256),i=(d-c)/n,a=e/255,s=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(c+l*i),t=a+l*s;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},p=`g_${this.#Cn}_hcm_${e}_filter`,m=s.filter=this.#In(p);return this.#Nn(m),this.#Ln(f(u[0],h[0],5),f(u[1],h[1],5),f(u[2],h[2],5),m),s.url=this.#Rn(p),s.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==this.#Pn.size||(this.#kn&&(this.#kn.parentNode.parentNode.remove(),this.#kn=null),this.#En&&(this.#En.clear(),this.#En=null),this.#y=0)}#Fn(e){const t=this.#_n.createElementNS(ny,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#Nn(e){const t=this.#_n.createElementNS(ny,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#In(e){const t=this.#_n.createElementNS(ny,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#On.append(t),t}#jn(e,t,n){const r=this.#_n.createElementNS(ny,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}#Ln(e,t,n,r){const i=this.#_n.createElementNS(ny,"feComponentTransfer");r.append(i),this.#jn(i,"feFuncR",e),this.#jn(i,"feFuncG",t),this.#jn(i,"feFuncB",n)}#zn(e,t){const n=this.#_n.createElementNS(ny,"feComponentTransfer");t.append(n),this.#jn(n,"feFuncA",e)}#Dn(e){return this.#On.style.color=e,wy(getComputedStyle(this.#On).getPropertyValue("color"))}},yx=yb?class extends ey{_fetchData(e){return Xy(e)}}:sy;function wx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new Sx,{docId:n}=t,r=e.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(yb&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,i=e.data?function(e){if(yb&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return Iv(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,a=e.httpHeaders||null,s=!0===e.withCredentials,o=e.password??null,l=e.range instanceof Ax?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:mx;let d=e.worker instanceof _x?e.worker:null;const u=e.verbosity,h="string"!==typeof e.docBaseUrl||dy(e.docBaseUrl)?null:e.docBaseUrl,f="string"===typeof e.cMapUrl?e.cMapUrl:null,p=!1!==e.cMapPacked,m=e.CMapReaderFactory||bx,g="string"===typeof e.standardFontDataUrl?e.standardFontDataUrl:null,b=e.StandardFontDataFactory||yx,v=!0!==e.stopAtErrors,y=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,w=!1!==e.isEvalSupported,x="boolean"===typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!yb,S=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,A="boolean"===typeof e.disableFontFace?e.disableFontFace:yb,E=!0===e.fontExtraProperties,k=!0===e.enableXfa,C=e.ownerDocument||globalThis.document,_=!0===e.disableRange,T=!0===e.disableStream,P=!0===e.disableAutoFetch,O=!0===e.pdfBug,M=!0===e.enableHWA,R=l?l.length:e.length??NaN,I="boolean"===typeof e.useSystemFonts?e.useSystemFonts:!yb&&!A,L="boolean"===typeof e.useWorkerFetch?e.useWorkerFetch:m===ay&&b===sy&&f&&g&&my(f,document.baseURI)&&my(g,document.baseURI),D=e.canvasFactory||new gx({ownerDocument:C,enableHWA:M}),N=e.filterFactory||new vx({docId:n,ownerDocument:C});gv(u);const z={canvasFactory:D,filterFactory:N};if(L||(z.cMapReaderFactory=new m({baseUrl:f,isCompressed:p}),z.standardFontDataFactory=new b({baseUrl:g})),!d){const e={verbosity:u,port:Aw.workerPort};d=e.port?_x.fromPort(e):new _x(e),t._worker=d}const F={docId:n,apiVersion:"4.6.82",data:i,password:o,disableAutoFetch:P,rangeChunkSize:c,length:R,docBaseUrl:h,enableXfa:k,evaluatorOptions:{maxImageSize:y,disableFontFace:A,ignoreErrors:v,isEvalSupported:w,isOffscreenCanvasSupported:x,canvasMaxAreaInBytes:S,fontExtraProperties:E,useSystemFonts:I,cMapUrl:L?f:null,standardFontDataUrl:L?g:null}},j={disableFontFace:A,fontExtraProperties:E,ownerDocument:C,pdfBug:O,styleElement:null,loadingParams:{disableAutoFetch:P,enableXfa:k}};return d.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const e=d.messageHandler.sendWithPromise("GetDocRequest",F,i?[i.buffer]:null);let o;if(l)o=new Bw(l,{disableRange:_,disableStream:T});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");o=(e=>{if(yb){return function(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype}()&&my(e.url)?new Kw(e):new ax(e)}return my(e.url)?new Kw(e):new ex(e)})({url:r,length:R,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:_,disableStream:T})}return e.then((e=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const r=new Dw(n,e,d.port),i=new Tx(r,t,o,j,z);t._transport=i,r.send("Ready",null)}))})).catch(t._capability.reject),t}function xx(e){return"object"===typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0}class Sx{static#Cn=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+Sx.#Cn++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Ax{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){wv("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Ex{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Av(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class kx{#Bn=null;#Hn=!1;constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new py:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Ox,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ly({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Av(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render(e){let{canvasContext:t,viewport:n,intent:r="display",annotationMode:i=Mb.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:u=!1}=e;this._stats?.time("Overall");const h=this._transport.getRenderingIntent(r,i,d,u),{renderingIntent:f,cacheKey:p}=h;this.#Hn=!1,this.#$n(),o||=this._transport.getOptionalContentConfig(f);let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const g=!!(f&kb);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(h));const b=e=>{m.renderTasks.delete(v),(this._maybeCleanupAfterRender||g)&&(this.#Hn=!0),this.#Wn(!g),e?(v.capability.reject(e),this._abortOperatorList({intentState:m,reason:e instanceof Error?e:new Error(e)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new Rx({callback:b,params:{canvasContext:t,viewport:n,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:c});(m.renderTasks||=new Set).add(v);const y=v.task;return Promise.all([m.displayReadyCapability.promise,o]).then((e=>{let[t,n]=e;if(this.destroyed)b();else{if(this._stats?.time("Rendering"),!(n.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:t,optionalContentConfig:n}),v.operatorListChanged()}})).catch(b),y}getOperatorList(){let{intent:e="display",annotationMode:t=Mb.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,r,!0);let a,s=this._intentStates.get(i.cacheKey);return s||(s=Object.create(null),this._intentStates.set(i.cacheKey,s)),s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=function(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))},s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||=new Set).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(i)),s.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>px.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then((function(n){let{value:r,done:a}=n;a?e(i):(i.lang??=r.lang,Object.assign(i.styles,r.styles),i.items.push(...r.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#Hn=!1,this.#$n(),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Hn=!0;const t=this.#Wn(!1);return e&&t&&(this._stats&&=new py),t}#Wn(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.#$n(),!this.#Hn||this.destroyed)return!1;if(e)return this.#Bn=setTimeout((()=>{this.#Bn=null,this.#Wn(!1)}),5e3),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#Hn=!1,!0}#$n(){this.#Bn&&(clearTimeout(this.#Bn),this.#Bn=null)}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#Wn(!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}=e;const{map:a,transfer:s}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())}),(e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();this.#Wn(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}}))};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof cy){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new Mv(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}class Cx{#Un=(()=>new Set)();#Vn=(()=>Promise.resolve())();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#Vn.then((()=>{for(const e of this.#Un)e.call(this,n)}))}addEventListener(e,t){this.#Un.add(t)}removeEventListener(e,t){this.#Un.delete(t)}terminate(){this.#Un.clear()}}class _x{static#qn=0;static#Gn=!1;static#Xn;static#Yn=(()=>{yb&&(this.#Gn=!0,Aw.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch{return!1}const r=new URL(t,n);return n.origin===r.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}})();constructor(){let{name:e=null,port:t=null,verbosity:n=bv()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(_x.#Xn?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(_x.#Xn||=new WeakMap).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return yb?Promise.all([Gy.promise,this._readyCapability.promise]):this._readyCapability.promise}#Kn(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Dw("main","worker",e),this._messageHandler.on("ready",(function(){})),this.#Kn()}_initialize(){if(_x.#Gn||_x.#Qn)return void this._setupFakeWorker();let{workerSrc:e}=_x;try{_x._isSameOrigin(window.location.href,e)||(e=_x._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Dw("main","worker",t),r=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",(()=>{this._webWorker||r()}),{signal:i.signal}),n.on("test",(e=>{i.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,this.#Kn()):r()})),n.on("ready",(e=>{if(i.abort(),this.destroyed)r();else try{a()}catch{this._setupFakeWorker()}}));const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch{vv("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){_x.#Gn||(yv("Setting up fake worker."),_x.#Gn=!0),_x._setupFakeWorkerGlobal.then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new Cx;this._port=t;const n="fake"+_x.#qn++,r=new Dw(n+"_worker",n,t);e.setup(r,t),this._messageHandler=new Dw(n,n+"_worker",t),this.#Kn()})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_x.#Xn?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#Xn?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new _x(e)}static get workerSrc(){if(Aw.workerSrc)return Aw.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#Qn(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Av(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#Qn)return this.#Qn;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class Tx{#Jn=(()=>new Map)();#Zn=(()=>new Map)();#er=(()=>new Map)();#tr=(()=>new Map)();#nr=null;constructor(e,t,n,r,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Ox,this.fontLoader=new Wy({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#Jn.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return this.#Jn.set(e,r),r}get annotationStorage(){return Av(this,"annotationStorage",new Hy)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mb.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=Eb,s=By;switch(e){case"any":a=Ab;break;case"display":break;case"print":a=kb;break;default:yv(`getRenderingIntent - invalid intent: ${e}`)}const o=a&kb&&n instanceof $y?n:this.annotationStorage;switch(t){case Mb.DISABLE:a+=Tb;break;case Mb.ENABLE:break;case Mb.ENABLE_FORMS:a+=Cb;break;case Mb.ENABLE_STORAGE:a+=_b,s=o.serializable;break;default:yv(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=Pb),i&&(a+=Ob);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#nr?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#Zn.values())e.push(n._destroy());this.#Zn.clear(),this.#er.clear(),this.#tr.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#Jn.clear(),this.filterFactory.destroy(),fx.cleanup(),this._networkStream?.cancelAllRequests(new Mv("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{xv(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():(xv(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress?.(this._lastProgress),r.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{xv(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():(xv(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new Ex(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new kv(e.message,e.code);break;case"InvalidPDFException":n=new _v(e.message);break;case"MissingPDFException":n=new Tv(e.message);break;case"UnexpectedResponseException":n=new Pv(e.message,e.status);break;case"UnknownErrorException":n=new Cv(e.message,e.details);break;default:wv("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this.#nr=Promise.withResolvers(),t.onPassword){const r=e=>{e instanceof Error?this.#nr.reject(e):this.#nr.resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){this.#nr.reject(n)}}else this.#nr.reject(new kv(e.message,e.code));return this.#nr.promise})),e.on("DataLoaded",(e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;this.#Zn.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{let[n,r,i]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(r){case"Font":const{disableFontFace:t,fontExtraProperties:a,pdfBug:s}=this._params;if("error"in i){const e=i.error;yv(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}const o=s&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,l=new Uy(i,{disableFontFace:t,inspectFont:o});this.fontLoader.bind(l).catch((()=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!a&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)}));break;case"CopyLocalImage":const{imageRef:c}=i;xv(c,"The imageRef must be defined.");for(const e of this.#Zn.values())for(const[,t]of e.objs)if(t?.ref===c)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,i);break;default:throw new Error(`Got unknown common object type ${r}`)}return null})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const a=this.#Zn.get(n);if(!a.objs.has(t))if(0!==a._intentStates.size)switch(r){case"Image":a.objs.resolve(t,i),i?.dataLen>1e7&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(t,i);break;default:throw new Error(`Got unknown object type ${r}`)}else i?.bitmap?.close()})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.")))),e.on("FetchStandardFontData",(e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&yv("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#er.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#tr.set(n.refStr,e);const r=new kx(t,n,this,this._params.pdfBug);return this.#Zn.set(t,r),r}));return this.#er.set(t,r),r}getPageIndex(e){return xx(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#rr("GetFieldObjects")}hasJSActions(){return this.#rr("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#rr("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#rr("GetOptionalContentConfig").then((t=>new jw(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#Jn.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>({info:e[0],metadata:e[1]?new Nw(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})));return this.#Jn.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#Zn.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#Jn.clear(),this.filterFactory.destroy(!0),fx.cleanup()}}cachedPageNumber(e){if(!xx(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#tr.get(t)??null}}const Px=Symbol("INITIAL_DATA");class Ox{#ir=(()=>Object.create(null))();#ar(e){return this.#ir[e]||={...Promise.withResolvers(),data:Px}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=this.#ar(e);return n.promise.then((()=>t(n.data))),null}const n=this.#ir[e];if(!n||n.data===Px)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#ir[e];return!!t&&t.data!==Px}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.#ar(e);n.data=t,n.resolve()}clear(){for(const e in this.#ir){const{data:t}=this.#ir[e];t?.bitmap?.close()}this.#ir=Object.create(null)}*[Symbol.iterator](){for(const e in this.#ir){const{data:t}=this.#ir[e];t!==Px&&(yield[e,t])}}}class Mx{#sr=null;constructor(e){this.#sr=e,this.onContinue=null}get promise(){return this.#sr.capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.#sr.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#sr.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#sr;return e.form||e.canvas&&t?.size>0}}class Rx{#or=null;static#lr=(()=>new WeakSet)();constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:u=!1,pageColors:h=null}=e;this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=u,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Mx(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){let{transparency:t=!1,optionalContentConfig:n}=e;if(this.cancelled)return;if(this._canvas){if(Rx.#lr.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Rx.#lr.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:a,background:s}=this.params;this.gfx=new Sw(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#or&&(window.cancelAnimationFrame(this.#or),this.#or=null),Rx.#lr.delete(this._canvas),this.callback(e||new cy(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#or=window.requestAnimationFrame((()=>{this.#or=null,this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Rx.#lr.delete(this._canvas),this.callback())))}}const Ix="4.6.82",Lx="9b541910f";function Dx(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Nx(e){return Math.max(0,Math.min(255,255*e))}class zx{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=Nx(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=Dx(t);return`#${n}${n}${n}`}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(Nx)}static RGB_HTML(e){return`#${e.map(Dx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[Nx(1-Math.min(1,t+i)),Nx(1-Math.min(1,r+i)),Nx(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,a=1-n,s=1-r;return["CMYK",i,a,s,Math.min(i,a,s)]}}class Fx{static setupStorage(e,t,n,r,i){const a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:a}=e;const{attributes:s}=n,o=t instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=`${s.name}-${i}`);for(const[l,c]of Object.entries(s))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&a.addLinkAttributes(t,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(t,s.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:i,linkService:n});const s="richText"!==i,o=e.div;if(o.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;o.style.transform=t}s&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===r.children.length){if(r.value){const e=document.createTextNode(r.value);a.append(e),s&&px.shouldBuildText(r.name)&&l.push(e)}return{textDivs:l}}const c=[[r,-1,a]];for(;c.length>0;){const[e,r,a]=c.at(-1);if(r+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const e=document.createTextNode(o.value);l.push(e),a.append(e);continue}const u=o?.attributes?.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(a.append(u),o.attributes&&this.setAttributes({html:u,element:o,storage:t,intent:i,linkService:n}),o.children?.length>0)c.push([o,-1,u]);else if(o.value){const e=document.createTextNode(o.value);s&&px.shouldBuildText(d)&&l.push(e),u.append(e)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const jx=1e3,Bx=new WeakSet;function Hx(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class $x{static create(e){switch(e.data.annotationType){case Wb:return new Ux(e);case $b:return new Vx(e);case av:switch(e.data.fieldType){case"Tx":return new Gx(e);case"Btn":return e.data.radioButton?new Kx(e):e.data.checkBox?new Yx(e):new Qx(e);case"Ch":return new Jx(e);case"Sig":return new Xx(e)}return new qx(e);case rv:return new Zx(e);case Ub:return new tS(e);case Vb:return new nS(e);case qb:return new rS(e);case Gb:return new iS(e);case Yb:return new aS(e);case tv:return new oS(e);case nv:return new lS(e);case Xb:return new sS(e);case Kb:return new cS(e);case Qb:return new dS(e);case Jb:return new uS(e);case Zb:return new hS(e);case ev:return new fS(e);case iv:return new pS(e);default:return new Wx(e)}}}class Wx{#cr=null;#dr=!1;#ur=null;constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(t?.str||n?.str||r?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Wx._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#cr||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#hr(t),this.#ur?.popup.updateEdited(e)}resetEdited(){this.#cr&&(this.#hr(this.#cr.rect),this.#ur?.popup.resetEdited(),this.#cr=null)}#hr(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}}}=this;n?.splice(0,4,...e);const{width:l,height:c}=Hx(e);t.left=100*(e[0]-s)/i+"%",t.top=100*(a-e[3]+o)/a+"%",0===r?(t.width=100*l/i+"%",t.height=100*c/a+"%"):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof qx||(i.tabIndex=jx);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.popupRef&&i.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Zx){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:s,height:o}=Hx(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--scale-factor)) / calc(${n}px * var(--scale-factor))`;a.borderRadius=t}else if(this instanceof Kx){const e=`calc(${s}px * var(--scale-factor)) / calc(${o}px * var(--scale-factor))`;a.borderRadius=e}switch(t.borderStyle.style){case sv:a.borderStyle="solid";break;case ov:a.borderStyle="dashed";break;case lv:yv("Unimplemented border style: beveled");break;case cv:yv("Unimplemented border style: inset");break;case dv:a.borderBottomStyle="solid"}const r=t.borderColor||null;r?(this.#dr=!0,a.borderColor=zv.makeHexColor(0|r[0],0|r[1],0|r[2])):a.borderWidth=0}const l=zv.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=r.rawDims;a.left=100*(l[0]-u)/c+"%",a.top=100*(l[1]-h)/d+"%";const{rotation:f}=t;return t.hasOwnCanvas||0===f?(a.width=100*s/c+"%",a.height=100*o/d+"%"):this.setRotation(f,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:a}=Hx(this.data.rect);let s,o;e%180===0?(s=100*i/n,o=100*a/r):(s=100*a/n,o=100*i/r),t.style.width=`${s}%`,t.style.height=`${o}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],a=r.slice(1);n.target.style[t]=zx[`${i}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[t]:zx[`${i}_rgb`](a)})};return Av(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];i?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const a=n[r];if(a){a({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[a,s,o,l]=e.subarray(2,6);if(r===a&&i===s&&t===o&&n===l)return}const{style:a}=this.container;let s;if(this.#dr){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),f=`clippath_${this.data.id}`;h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let p=2,m=e.length;p<m;p+=8){const n=e[p],r=e[p+1],a=e[p+2],d=e[p+3],u=c.createElement("rect"),f=(a-t)/o,m=(i-r)/l,g=(n-a)/o,b=(r-d)/l;u.setAttribute("x",f),u.setAttribute("y",m),u.setAttribute("width",g),u.setAttribute("height",b),h.append(u),s?.push(`<rect vector-effect="non-scaling-stroke" x="${f}" y="${m}" width="${g}" height="${b}"/>`)}this.#dr&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(d),this.container.style.clipPath=`url(#${f})`}_createPopup(){const{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");const n=this.#ur=new Zx({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){wv("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:i,exportValues:a}of r){if(-1===e)continue;if(i===t)continue;const r="string"===typeof a?a:null,s=document.querySelector(`[data-element-id="${i}"]`);!s||Bx.has(s)?n.push({id:i,exportValue:r,domElement:s}):yv(`_getElementsByName - element not allowed: ${i}`)}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(Bx.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}class Ux extends Wx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(this.#fr(n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(this.#pr(n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#mr(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#mr()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#mr()}#fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,n),!1),this.#mr()}#pr(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#mr()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.onclick||(e.onclick=()=>!1),this.#mr()}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),this.#mr(),!this._fieldObjects)return yv('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{n?.();const{fields:e,refs:r,include:i}=t,a=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const s=this.annotationStorage,o=[];for(const t of a){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;s.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";s.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(Bx.has(n)?n.dispatchEvent(new Event("resetform")):yv(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}),!1}}}class Vx extends Wx{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class qx extends Wx{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Dv.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}})}))}_setEventListeners(e,t,n,r){for(const[i,a]of n)("Action"===a||this.data.actions?.[a])&&("Focus"!==a&&"Blur"!==a||(t||={focused:!1}),this._setEventListener(e,t,i,a,r),"Focus"!==a||this.data.actions?.Blur?"Blur"!==a||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":zv.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,i=e.style;let a;const s=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(Sb*r))||1);a=Math.min(r,s(t/Sb))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(r,s(e/Sb))}i.fontSize=`calc(${a}px * var(--scale-factor))`,i.color=zv.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class Gx extends qx{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),i.setValue(a.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let i=r.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&i.length>a&&(i=i.slice(0,a));let s=r.formattedValue||this.data.textContent?.join("\n")||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));const o={userValue:i,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=s??i,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",s??i),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Bx.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=jx,this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),o.formattedValue=null})),n.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue??"";n.value=o.userValue=t,o.formattedValue=null}));let l=e=>{const{formattedValue:t}=o;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{if(o.focused)return;const{target:t}=e;o.userValue&&(t.value=o.userValue),o.lastCommittedValue=t.value,o.commitKey=1,this.data.actions?.Focus||(o.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){o.userValue=n.detail.value??"",e.setValue(t,{value:o.userValue.toString()}),n.target.value=o.userValue},formattedValue(n){const{formattedValue:r}=n.detail;o.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:r}=n.detail,{target:i}=n;if(0===r)return void i.removeAttribute("maxLength");i.setAttribute("maxLength",r);let a=o.userValue;!a||a.length<=r||(a=a.slice(0,r),i.value=o.userValue=a,e.setValue(t,{value:a}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:i.selectionStart,selEnd:i.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{o.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(o.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;o.lastCommittedValue!==r&&(o.lastCommittedValue=r,o.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=l;l=null,n.addEventListener("blur",(e=>{if(!o.focused||!e.relatedTarget)return;this.data.actions?.Blur||(o.focused=!1);const{value:n}=e.target;o.userValue=n,o.lastCommittedValue!==n&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:n,willCommit:!0,commitKey:o.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e)})),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",(e=>{o.lastCommittedValue=null;const{data:n,target:r}=e,{value:i,selectionStart:a,selectionEnd:s}=r;let l=a,c=s;switch(e.inputType){case"deleteWordBackward":{const e=i.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=i.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===s&&(l-=1);break;case"deleteContentForward":a===s&&(c+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,change:n||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(l&&n.addEventListener("blur",l),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Xx extends qx{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Yx extends qx{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Bx.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=jx,i.addEventListener("change",(r=>{const{name:i,checked:a}=r.target;for(const s of this._getElementsByName(i,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:a})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Kx extends qx{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(Bx.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=jx,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const a of this._getElementsByName(r,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Qx extends Ux{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class Jx extends qx{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Bx.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=jx;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),a=()=>{e.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){a?.();const i=n.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const e of r.options)e.selected=l.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,a=n.detail.remove;if(i[a].selected=!1,r.remove(a),i.length>0){-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0)}e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:i,displayValue:a,exportValue:c}=n.detail.insert,d=r.children[i],u=document.createElement("option");u.textContent=a,u.value=c,d?d.before(u):r.append(u),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(n)}),o=s(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{const r=s(!0),i=s(!1);e.setValue(t,{value:r}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:i,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:s(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Zx extends Wx{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Wx._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new eS({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>`${Hv}${e}`)).join(",")),this.container}}class eS{#gr=this.#br.bind(this);#vr=this.#yr.bind(this);#wr=this.#xr.bind(this);#Sr=this.#Ar.bind(this);#Er=null;#he=null;#kr=null;#Cr=null;#_r=null;#Tr=null;#Pr=null;#Or=!1;#Mr=null;#C=null;#Rr=null;#Ir=null;#Lr=null;#cr=null;#Dr=!1;constructor(e){let{container:t,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:l,rect:c,parentRect:d,open:u}=e;this.#he=t,this.#Lr=i,this.#kr=s,this.#Ir=o,this.#Tr=l,this.#Er=n,this.#Rr=c,this.#Pr=d,this.#_r=r,this.#Cr=vy.toDateObject(a),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const h of this.trigger)h.addEventListener("click",this.#Sr),h.addEventListener("mouseenter",this.#wr),h.addEventListener("mouseleave",this.#vr),h.classList.add("popupTriggerArea");for(const h of r)h.container?.addEventListener("keydown",this.#gr);this.#he.hidden=!0,u&&this.#Ar()}render(){if(this.#Mr)return;const e=this.#Mr=document.createElement("div");if(e.className="popup",this.#Er){const t=e.style.outlineColor=zv.makeHexColor(...this.#Er);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else{const t=.7;e.style.backgroundColor=zv.makeHexColor(...this.#Er.map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=this.#Lr),e.append(t),this.#Cr){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#Cr.valueOf()})),t.append(e)}const r=this.#Nr;if(r)Fx.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#kr);e.append(t)}this.#he.append(e)}get#Nr(){const e=this.#Ir,t=this.#kr;return!e?.str||t?.str&&t.str!==e.str?null:this.#Ir.html||null}get#zr(){return this.#Nr?.attributes?.style?.fontSize||0}get#Fr(){return this.#Nr?.attributes?.style?.color||null}#jr(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#Fr,fontSize:this.#zr?`calc(${this.#zr}px * var(--scale-factor))`:""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:r});return n}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let a=0,s=i.length;a<s;++a){const e=i[a];r.append(document.createTextNode(e)),a<s-1&&r.append(document.createElement("br"))}return r}#br(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#Or)&&this.#Ar()}updateEdited(e){let{rect:t,popupContent:n}=e;this.#cr||={contentsObj:this.#kr,richText:this.#Ir},t&&(this.#C=null),n&&(this.#Ir=this.#jr(n),this.#kr=null),this.#Mr?.remove(),this.#Mr=null}resetEdited(){this.#cr&&(({contentsObj:this.#kr,richText:this.#Ir}=this.#cr),this.#cr=null,this.#Mr?.remove(),this.#Mr=null,this.#C=null)}#Br(){if(null!==this.#C)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:i}}}=this.#Tr;let a=!!this.#Pr,s=a?this.#Pr:this.#Rr;for(const h of this.#_r)if(!s||null!==zv.intersect(h.data.rect,s)){s=h.data.rect,a=!0;break}const o=zv.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,d=o[1];this.#C=[100*(c-r)/t,100*(d-i)/n];const{style:u}=this.#he;u.left=`${this.#C[0]}%`,u.top=`${this.#C[1]}%`}#Ar(){this.#Or=!this.#Or,this.#Or?(this.#xr(),this.#he.addEventListener("click",this.#Sr),this.#he.addEventListener("keydown",this.#gr)):(this.#yr(),this.#he.removeEventListener("click",this.#Sr),this.#he.removeEventListener("keydown",this.#gr))}#xr(){this.#Mr||this.render(),this.isVisible?this.#Or&&this.#he.classList.add("focused"):(this.#Br(),this.#he.hidden=!1,this.#he.style.zIndex=parseInt(this.#he.style.zIndex)+1e3)}#yr(){this.#he.classList.remove("focused"),!this.#Or&&this.isVisible&&(this.#he.hidden=!0,this.#he.style.zIndex=parseInt(this.#he.style.zIndex)-1e3)}forceHide(){this.#Dr=this.isVisible,this.#Dr&&(this.#he.hidden=!0)}maybeShow(){this.#Dr&&(this.#Mr||this.#xr(),this.#Dr=!1,this.#he.hidden=!1)}get isVisible(){return!1===this.#he.hidden}}class tS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Rb.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class nS extends Wx{#Hr=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=Hx(e.rect),r=this.svgFactory.create(t,n,!0),i=this.#Hr=this.svgFactory.createElement("svg:line");return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Hr}addHighlightArea(){this.container.classList.add("highlightArea")}}class rS extends Wx{#$r=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=Hx(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=this.#$r=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#$r}addHighlightArea(){this.container.classList.add("highlightArea")}}class iS extends Wx{#Wr=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=Hx(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,a=this.#Wr=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Wr}addHighlightArea(){this.container.classList.add("highlightArea")}}class aS extends Wx{#Ur=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r}}=this;if(!t)return this.container;const{width:i,height:a}=Hx(e),s=this.svgFactory.create(i,a,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],r=e[3]-t[c+1];o.push(`${n},${r}`)}o=o.join(" ");const l=this.#Ur=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ur}addHighlightArea(){this.container.classList.add("highlightArea")}}class sS extends aS{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class lS extends Wx{#Vr=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Rb.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:r}}=this,{width:i,height:a}=Hx(e),s=this.svgFactory.create(i,a,!0);for(const o of t){let t=[];for(let n=0,r=o.length;n<r;n+=2){const r=o[n]-e[0],i=e[3]-o[n+1];t.push(`${r},${i}`)}t=t.join(" ");const i=this.svgFactory.createElement(this.svgElementName);this.#Vr.push(i),i.setAttribute("points",t),i.setAttribute("stroke-width",n.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),s.append(i)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return this.#Vr}addHighlightArea(){this.container.classList.add("highlightArea")}}class cS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class dS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class uS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class hS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class fS extends Wx{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class pS extends Wx{#qr=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Gr.bind(this)),this.#qr=n;const{isMac:r}=Dv.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&this.#Gr()})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#qr}addHighlightArea(){this.container.classList.add("highlightArea")}#Gr(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class mS{#Xr=null;#Yr=null;#Kr=(()=>new Map)();constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s}=e;this.div=t,this.#Xr=n,this.#Yr=r,this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#Kr.size>0}#Qr(e,t){const n=e.firstChild||e;n.id=`${Hv}${t}`,this.div.append(e),this.#Xr?.moveElementInDOM(this.div,e,n,!1)}async render(e){const{annotations:t}=e,n=this.div;Ay(n,this.viewport);const r=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new oy,annotationStorage:e.annotationStorage||new Hy,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const e=a.annotationType===rv;if(e){const e=r.get(a.id);if(!e)continue;i.elements=e}else{const{width:e,height:t}=Hx(a.rect);if(e<=0||t<=0)continue}i.data=a;const t=$x.create(i);if(!t.isRenderable)continue;if(!e&&a.popupRef){const e=r.get(a.popupRef);e?e.push(t):r.set(a.popupRef,[t])}const n=t.render();a.hidden&&(n.style.visibility="hidden"),this.#Qr(n,a.id),t._isEditable&&(this.#Kr.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#Jr()}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,Ay(n,{rotation:t.rotation}),this.#Jr(),n.hidden=!1}#Jr(){if(!this.#Yr)return;const e=this.div;for(const[t,n]of this.#Yr){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):r.append(n)}this.#Yr.clear()}getEditableAnnotations(){return Array.from(this.#Kr.values())}getEditableAnnotation(e){return this.#Kr.get(e)}}const gS=/\r\n?|\n/g;class bS extends Ly{#Er;#Zr="";#ei=`${this.id}-editor`;#ti=null;#zr;#ni=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=bS.prototype,t=e=>e.isEmpty(),n=Ry.TRANSLATE_SMALL,r=Ry.TRANSLATE_BIG;return Av(this,"_keyboardManager",new Oy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=(()=>Rb.FREETEXT)();constructor(e){super({...e,name:"freeTextEditor"}),this.#Er=e.color||bS._defaultColor||Ly._defaultLineColor,this.#zr=e.fontSize||bS._defaultFontSize}static initialize(e,t){Ly.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ib.FREETEXT_SIZE:bS._defaultFontSize=t;break;case Ib.FREETEXT_COLOR:bS._defaultColor=t}}updateParams(e,t){switch(e){case Ib.FREETEXT_SIZE:this.#ri(t);break;case Ib.FREETEXT_COLOR:this.#ii(t)}}static get defaultPropertiesToUpdate(){return[[Ib.FREETEXT_SIZE,bS._defaultFontSize],[Ib.FREETEXT_COLOR,bS._defaultColor||Ly._defaultLineColor]]}get propertiesToUpdate(){return[[Ib.FREETEXT_SIZE,this.#zr],[Ib.FREETEXT_COLOR,this.#Er]]}#ri(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#zr)*this.parentScale),this.#zr=e,this.#ai()},n=this.#zr;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#ii(e){const t=e=>{this.#Er=this.editorDiv.style.color=e},n=this.#Er;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-bS._internalPadding*e,-(bS._internalPadding+this.#zr)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Rb.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#ti=new AbortController;const e=this._uiManager.combinedSignal(this.#ti);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#ei),this._isDraggable=!0,this.#ti?.abort(),this.#ti=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#si(){const e=[];this.editorDiv.normalize();for(const t of this.editorDiv.childNodes)e.push(bS.#oi(t));return e.join("\n")}#ai(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#Zr,t=this.#Zr=this.#si().trimEnd();if(e===t)return;const n=e=>{this.#Zr=e,e?(this.#li(),this._uiManager.rebuild(this),this.#ai()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#ai()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){bS._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#ei),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ly._l10nPromise.get("pdfjs-free-text-default-content").then((e=>this.editorDiv?.setAttribute("default-content",e))),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#zr}px * var(--scale-factor))`,n.color=this.#Er,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Cy(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this.#ni;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(i[0]-c)/o,h=t+this.height-(i[1]-d)/l;break;case 90:u=e+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[s,-a];break;case 180:u=e-this.width+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[-a,-s];break;case 270:u=e+(i[0]-c-this.height*l)/o,h=t+(i[1]-d-this.width*o)/l,[a,s]=[-s,a]}this.setAt(u*n,h*r,a,s)}else this.setAt(e*n,t*r,this.width*n,this.height*r);this.#li(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#oi(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(gS,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=bS.#ci(t.getData("text")||"").replaceAll(gS,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const a=i.getRangeAt(0);if(!r.includes("\n"))return a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:s,startOffset:o}=a,l=[],c=[];if(s.nodeType===Node.TEXT_NODE){const e=s.parentElement;if(c.push(s.nodeValue.slice(o).replaceAll(gS,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(bS.#oi(n)):t=c}l.push(s.nodeValue.slice(0,o).replaceAll(gS,""))}else if(s===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(bS.#oi(n))}this.#Zr=`${l.join("\n")}${r}${c.join("\n")}`,this.#li();const d=new Range;let u=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){const e=h.nodeValue.length;if(u<=e){d.setStart(h,u),d.setEnd(h,u);break}u-=e}i.removeAllRanges(),i.addRange(d)}#li(){if(this.editorDiv.replaceChildren(),this.#Zr)for(const e of this.#Zr.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#di(){return this.#Zr.replaceAll("\xa0"," ")}static#ci(e){return e.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,n){let r=null;if(e instanceof tS){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:a,id:s},textContent:o,textPosition:l,parent:{page:{pageNumber:c}}}=e;if(!o||0===o.length)return null;r=e={annotationType:Rb.FREETEXT,color:Array.from(n),fontSize:t,value:o.join("\n"),position:l,pageIndex:c-1,rect:i.slice(0),rotation:a,id:s,deleted:!1}}const i=super.deserialize(e,t,n);return i.#zr=e.fontSize,i.#Er=zv.makeHexColor(...e.color),i.#Zr=bS.#ci(e.value),i.annotationElementId=e.id||null,i.#ni=r,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const t=bS._internalPadding*this.parentScale,n=this.getRect(t,t),r=Ly._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#Er),i={annotationType:Rb.FREETEXT,color:r,fontSize:this.#zr,value:this.#di(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!this.#ui(i)?null:(i.id=this.annotationElementId,i)}#ui(e){const{value:t,fontSize:n,color:r,pageIndex:i}=this.#ni;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==i}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize=`calc(${this.#zr}px * var(--scale-factor))`,n.color=this.#Er,t.replaceChildren();for(const i of this.#Zr.split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const r=bS._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:this.#Zr}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class vS{#hi;#fi=[];#pi=[];constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=1/0,a=-1/0,s=1/0,o=-1/0;const l=10**-4;for(const{x:m,y:g,width:b,height:v}of e){const e=Math.floor((m-t)/l)*l,n=Math.ceil((m+b+t)/l)*l,r=Math.floor((g-t)/l)*l,c=Math.ceil((g+v+t)/l)*l,d=[e,r,c,!0],u=[n,r,c,!1];this.#fi.push(d,u),i=Math.min(i,e),a=Math.max(a,n),s=Math.min(s,r),o=Math.max(o,c)}const c=a-i+2*n,d=o-s+2*n,u=i-n,h=s-n,f=this.#fi.at(r?-1:-2),p=[f[0],f[2]];for(const m of this.#fi){const[e,t,n]=m;m[0]=(e-u)/c,m[1]=(t-h)/d,m[2]=(n-h)/d}this.#hi={x:u,y:h,width:c,height:d,lastPoint:p}}getOutlines(){this.#fi.sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of this.#fi)t[3]?(e.push(...this.#mi(t)),this.#gi(t)):(this.#bi(t),e.push(...this.#mi(t)));return this.#vi(e)}#vi(e){const t=[],n=new Set;for(const a of e){const[e,n,r]=a;t.push([e,n,a],[e,r,a])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let a=0,s=t.length;a<s;a+=2){const e=t[a][2],r=t[a+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,a,s,o,l]=e;n.delete(e);let c=t,d=a;for(i=[t,s],r.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,a,s,o,l]=e,c!==t&&(i.push(c,d,t,d===a?a:s),c=t),d=d===a?s:a}i.push(c,d)}return new wS(r,this.#hi)}#yi(e){const t=this.#pi;let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,a=t[i][0];if(a===e)return i;a<e?n=i+1:r=i-1}return r+1}#gi(e){let[,t,n]=e;const r=this.#yi(t);this.#pi.splice(r,0,[t,n])}#bi(e){let[,t,n]=e;const r=this.#yi(t);for(let i=r;i<this.#pi.length;i++){const[e,r]=this.#pi[i];if(e!==t)break;if(e===t&&r===n)return void this.#pi.splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=this.#pi[i];if(e!==t)break;if(e===t&&r===n)return void this.#pi.splice(i,1)}}#mi(e){const[t,n,r]=e,i=[[t,n,r]],a=this.#yi(r);for(let s=0;s<a;s++){const[e,n]=this.#pi[s];for(let r=0,a=i.length;r<a;r++){const[,s,o]=i[r];if(!(n<=s||o<=e))if(s>=e)if(o>n)i[r][1]=n;else{if(1===a)return[];i.splice(r,1),r--,a--}else i[r][2]=e,o>n&&i.push([t,n,o])}}return i}}class yS{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof SS}}class wS extends yS{#hi;#wi;constructor(e,t){super(),this.#wi=e,this.#hi=t}toSVGPath(){const e=[];for(const t of this.#wi){let[n,r]=t;e.push(`M${n} ${r}`);for(let i=2;i<t.length;i+=2){const a=t[i],s=t[i+1];a===n?(e.push(`V${s}`),r=s):s===r&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,i,a]=e;const s=[],o=i-n,l=a-r;for(const c of this.#wi){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=a-c[t+1]*l;s.push(e)}return s}get box(){return this.#hi}}class xS{#hi;#xi=[];#Si;#Ai;#Ei=[];#ki=(()=>new Float64Array(18))();#Ci;#_i;#Ti;#Pi;#Oi;#Mi;#Ri=[];static#Ii=8;static#Li=2;static#Di=(()=>xS.#Ii+xS.#Li)();constructor(e,t,n,r,i){let{x:a,y:s}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.#hi=t,this.#Mi=r*n,this.#Ai=i,this.#ki.set([NaN,NaN,NaN,NaN,a,s],6),this.#Si=o,this.#Pi=xS.#Ii*n,this.#Ti=xS.#Di*n,this.#Oi=n,this.#Ri.push(a,s)}get free(){return!0}isEmpty(){return isNaN(this.#ki[8])}#Ni(){const e=this.#ki.subarray(4,6),t=this.#ki.subarray(16,18),[n,r,i,a]=this.#hi;return[(this.#Ci+(e[0]-t[0])/2-n)/i,(this.#_i+(e[1]-t[1])/2-r)/a,(this.#Ci+(t[0]-e[0])/2-n)/i,(this.#_i+(t[1]-e[1])/2-r)/a]}add(e){let{x:t,y:n}=e;this.#Ci=t,this.#_i=n;const[r,i,a,s]=this.#hi;let[o,l,c,d]=this.#ki.subarray(8,12);const u=t-c,h=n-d,f=Math.hypot(u,h);if(f<this.#Ti)return!1;const p=f-this.#Pi,m=p/f,g=m*u,b=m*h;let v=o,y=l;o=c,l=d,c+=g,d+=b,this.#Ri?.push(t,n);const w=g/p,x=-b/p*this.#Mi,S=w*this.#Mi;if(this.#ki.set(this.#ki.subarray(2,8),0),this.#ki.set([c+x,d+S],4),this.#ki.set(this.#ki.subarray(14,18),12),this.#ki.set([c-x,d-S],16),isNaN(this.#ki[6]))return 0===this.#Ei.length&&(this.#ki.set([o+x,l+S],2),this.#Ei.push(NaN,NaN,NaN,NaN,(o+x-r)/a,(l+S-i)/s),this.#ki.set([o-x,l-S],14),this.#xi.push(NaN,NaN,NaN,NaN,(o-x-r)/a,(l-S-i)/s)),this.#ki.set([v,y,o,l,c,d],6),!this.isEmpty();this.#ki.set([v,y,o,l,c,d],6);return Math.abs(Math.atan2(y-l,v-o)-Math.atan2(b,g))<Math.PI/2?([o,l,c,d]=this.#ki.subarray(2,6),this.#Ei.push(NaN,NaN,NaN,NaN,((o+c)/2-r)/a,((l+d)/2-i)/s),[o,l,v,y]=this.#ki.subarray(14,18),this.#xi.push(NaN,NaN,NaN,NaN,((v+o)/2-r)/a,((y+l)/2-i)/s),!0):([v,y,o,l,c,d]=this.#ki.subarray(0,6),this.#Ei.push(((v+5*o)/6-r)/a,((y+5*l)/6-i)/s,((5*o+c)/6-r)/a,((5*l+d)/6-i)/s,((o+c)/2-r)/a,((l+d)/2-i)/s),[c,d,o,l,v,y]=this.#ki.subarray(12,18),this.#xi.push(((v+5*o)/6-r)/a,((y+5*l)/6-i)/s,((5*o+c)/6-r)/a,((5*l+d)/6-i)/s,((o+c)/2-r)/a,((l+d)/2-i)/s),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#Ei,t=this.#xi,n=this.#ki.subarray(4,6),r=this.#ki.subarray(16,18),[i,a,s,o]=this.#hi,[l,c,d,u]=this.#Ni();if(isNaN(this.#ki[6])&&!this.isEmpty())return`M${(this.#ki[2]-i)/s} ${(this.#ki[3]-a)/o} L${(this.#ki[4]-i)/s} ${(this.#ki[5]-a)/o} L${l} ${c} L${d} ${u} L${(this.#ki[16]-i)/s} ${(this.#ki[17]-a)/o} L${(this.#ki[14]-i)/s} ${(this.#ki[15]-a)/o} Z`;const h=[];h.push(`M${e[4]} ${e[5]}`);for(let f=6;f<e.length;f+=6)isNaN(e[f])?h.push(`L${e[f+4]} ${e[f+5]}`):h.push(`C${e[f]} ${e[f+1]} ${e[f+2]} ${e[f+3]} ${e[f+4]} ${e[f+5]}`);h.push(`L${(n[0]-i)/s} ${(n[1]-a)/o} L${l} ${c} L${d} ${u} L${(r[0]-i)/s} ${(r[1]-a)/o}`);for(let f=t.length-6;f>=6;f-=6)isNaN(t[f])?h.push(`L${t[f+4]} ${t[f+5]}`):h.push(`C${t[f]} ${t[f+1]} ${t[f+2]} ${t[f+3]} ${t[f+4]} ${t[f+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){const e=this.#Ei,t=this.#xi,n=this.#ki,r=n.subarray(4,6),i=n.subarray(16,18),[a,s,o,l]=this.#hi,c=new Float64Array((this.#Ri?.length??0)+2);for(let g=0,b=c.length-2;g<b;g+=2)c[g]=(this.#Ri[g]-a)/o,c[g+1]=(this.#Ri[g+1]-s)/l;c[c.length-2]=(this.#Ci-a)/o,c[c.length-1]=(this.#_i-s)/l;const[d,u,h,f]=this.#Ni();if(isNaN(n[6])&&!this.isEmpty()){const e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(n[2]-a)/o,(n[3]-s)/l,NaN,NaN,NaN,NaN,(n[4]-a)/o,(n[5]-s)/l,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(n[16]-a)/o,(n[17]-s)/l,NaN,NaN,NaN,NaN,(n[14]-a)/o,(n[15]-s)/l],0),new SS(e,c,this.#hi,this.#Oi,this.#Si,this.#Ai)}const p=new Float64Array(this.#Ei.length+24+this.#xi.length);let m=e.length;for(let g=0;g<m;g+=2)isNaN(e[g])?p[g]=p[g+1]=NaN:(p[g]=e[g],p[g+1]=e[g+1]);p.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/l,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/l],m),m+=24;for(let g=t.length-6;g>=6;g-=6)for(let e=0;e<6;e+=2)isNaN(t[g+e])?(p[m]=p[m+1]=NaN,m+=2):(p[m]=t[g+e],p[m+1]=t[g+e+1],m+=2);return p.set([NaN,NaN,NaN,NaN,t[4],t[5]],m),new SS(p,c,this.#hi,this.#Oi,this.#Si,this.#Ai)}}class SS extends yS{#hi;#zi=null;#Si;#Ai;#Ri;#Oi;#Fi;constructor(e,t,n,r,i,a){super(),this.#Fi=e,this.#Ri=t,this.#hi=n,this.#Oi=r,this.#Si=i,this.#Ai=a,this.#ji(a);const{x:s,y:o,width:l,height:c}=this.#zi;for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-s)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-s)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=[`M${this.#Fi[4]} ${this.#Fi[5]}`];for(let t=6,n=this.#Fi.length;t<n;t+=6)isNaN(this.#Fi[t])?e.push(`L${this.#Fi[t+4]} ${this.#Fi[t+5]}`):e.push(`C${this.#Fi[t]} ${this.#Fi[t+1]} ${this.#Fi[t+2]} ${this.#Fi[t+3]} ${this.#Fi[t+4]} ${this.#Fi[t+5]}`);return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,i,a]=e;const s=i-n,o=a-r;let l,c;switch(t){case 0:l=this.#Bi(this.#Fi,n,a,s,-o),c=this.#Bi(this.#Ri,n,a,s,-o);break;case 90:l=this.#Hi(this.#Fi,n,r,s,o),c=this.#Hi(this.#Ri,n,r,s,o);break;case 180:l=this.#Bi(this.#Fi,i,r,-s,o),c=this.#Bi(this.#Ri,i,r,-s,o);break;case 270:l=this.#Hi(this.#Fi,i,a,-s,-o),c=this.#Hi(this.#Ri,i,a,-s,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}#Bi(e,t,n,r,i){const a=new Float64Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*r,a[s+1]=n+e[s+1]*i;return a}#Hi(e,t,n,r,i){const a=new Float64Array(e.length);for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*r,a[s+1]=n+e[s]*i;return a}#ji(e){const t=this.#Fi;let n=t[4],r=t[5],i=n,a=r,s=n,o=r,l=n,c=r;const d=e?Math.max:Math.min;for(let m=6,g=t.length;m<g;m+=6){if(isNaN(t[m]))i=Math.min(i,t[m+4]),a=Math.min(a,t[m+5]),s=Math.max(s,t[m+4]),o=Math.max(o,t[m+5]),c<t[m+5]?(l=t[m+4],c=t[m+5]):c===t[m+5]&&(l=d(l,t[m+4]));else{const e=zv.bezierBoundingBox(n,r,...t.slice(m,m+6));i=Math.min(i,e[0]),a=Math.min(a,e[1]),s=Math.max(s,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=d(l,e[2]))}n=t[m+4],r=t[m+5]}const u=i-this.#Si,h=a-this.#Si,f=s-i+2*this.#Si,p=o-a+2*this.#Si;this.#zi={x:u,y:h,width:f,height:p,lastPoint:[l,c]}}get box(){return this.#zi}getNewOutline(e,t){const{x:n,y:r,width:i,height:a}=this.#zi,[s,o,l,c]=this.#hi,d=i*l,u=a*c,h=n*l+s,f=r*c+o,p=new xS({x:this.#Ri[0]*d+h,y:this.#Ri[1]*u+f},this.#hi,this.#Oi,e,this.#Ai,t??this.#Si);for(let m=2;m<this.#Ri.length;m+=2)p.add({x:this.#Ri[m]*d+h,y:this.#Ri[m+1]*u+f});return p.getOutlines()}}class AS{#gr=this.#br.bind(this);#$i=this.#c.bind(this);#Wi=null;#Ui=null;#Vi;#qi=null;#Gi=!1;#Xi=!1;#a=null;#Yi;#m=null;#Ki;static get _keyboardManager(){return Av(this,"_keyboardManager",new Oy([[["Escape","mac+Escape"],AS.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],AS.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],AS.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],AS.prototype._moveToPrevious],[["Home","mac+Home"],AS.prototype._moveToBeginning],[["End","mac+End"],AS.prototype._moveToEnd]]))}constructor(e){let{editor:t=null,uiManager:n=null}=e;t?(this.#Xi=!1,this.#Ki=Ib.HIGHLIGHT_COLOR,this.#a=t):(this.#Xi=!0,this.#Ki=Ib.HIGHLIGHT_DEFAULT_COLOR),this.#m=t?._uiManager||n,this.#Yi=this.#m._eventBus,this.#Vi=t?.color||this.#m?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const e=this.#Wi=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=this.#m._signal;e.addEventListener("click",this.#Qi.bind(this),{signal:t}),e.addEventListener("keydown",this.#gr,{signal:t});const n=this.#Ui=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#Vi,e.append(n),e}renderMainDropdown(){const e=this.#qi=this.#Ji();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#Ji(){const e=document.createElement("div"),t=this.#m._signal;e.addEventListener("contextmenu",gy,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#m.highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=r,i.setAttribute("aria-selected",r===this.#Vi),i.addEventListener("click",this.#Zi.bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",this.#gr,{signal:t}),e}#Zi(e,t){t.stopPropagation(),this.#Yi.dispatch("switchannotationeditorparams",{source:this,type:this.#Ki,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#Wi)return void this.#Qi(e);const t=e.target.getAttribute("data-color");t&&this.#Zi(t,e)}_moveToNext(e){this.#ea?e.target!==this.#Wi?e.target.nextSibling?.focus():this.#qi.firstChild?.focus():this.#Qi(e)}_moveToPrevious(e){e.target!==this.#qi?.firstChild&&e.target!==this.#Wi?(this.#ea||this.#Qi(e),e.target.previousSibling?.focus()):this.#ea&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#ea?this.#qi.firstChild?.focus():this.#Qi(e)}_moveToEnd(e){this.#ea?this.#qi.lastChild?.focus():this.#Qi(e)}#br(e){AS._keyboardManager.exec(this,e)}#Qi(e){if(this.#ea)return void this.hideDropdown();if(this.#Gi=0===e.detail,window.addEventListener("pointerdown",this.#$i,{signal:this.#m._signal}),this.#qi)return void this.#qi.classList.remove("hidden");const t=this.#qi=this.#Ji();this.#Wi.append(t)}#c(e){this.#qi?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#qi?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#$i)}get#ea(){return this.#qi&&!this.#qi.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#Xi||(this.#ea?(this.hideDropdown(),this.#Wi.focus({preventScroll:!0,focusVisible:this.#Gi})):this.#a?.unselect())}updateColor(e){if(this.#Ui&&(this.#Ui.style.backgroundColor=e),!this.#qi)return;const t=this.#m.highlightColors.values();for(const n of this.#qi.children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#Wi?.remove(),this.#Wi=null,this.#Ui=null,this.#qi?.remove(),this.#qi=null}}class ES extends Ly{#ta=null;#na=0;#ra;#ia=null;#i=null;#aa=null;#sa=null;#oa=0;#la=null;#ca=null;#y=null;#da=!1;#ua=null;#ha;#fa=null;#pa="";#Mi;#ma="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=(()=>Rb.HIGHLIGHT)();static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=ES.prototype;return Av(this,"_keyboardManager",new Oy([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||ES._defaultColor,this.#Mi=e.thickness||ES._defaultThickness,this.#ha=e.opacity||ES._defaultOpacity,this.#ra=e.boxes||null,this.#ma=e.methodOfCreation||"",this.#pa=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#da=!0,this.#ga(e),this.#ba()):(this.#ta=e.anchorNode,this.#na=e.anchorOffset,this.#sa=e.focusNode,this.#oa=e.focusOffset,this.#va(),this.#ba(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#da?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#Mi,methodOfCreation:this.#ma}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#va(){const e=new vS(this.#ra,.001);this.#ca=e.getOutlines(),({x:this.x,y:this.y,width:this.width,height:this.height}=this.#ca.box);const t=new vS(this.#ra,.0025,.001,"ltr"===this._uiManager.direction);this.#aa=t.getOutlines();const{lastPoint:n}=this.#aa.box;this.#ua=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#ga(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;this.#ca=t;if(this.#aa=t.getNewOutline(this.#Mi/2+1.5,.0025),n>=0)this.#y=n,this.#ia=r,this.parent.drawLayer.finalizeLine(n,t),this.#fa=this.parent.drawLayer.highlightOutline(this.#aa);else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#y,t),this.parent.drawLayer.updateBox(this.#y,ES.#ya(this.#ca.box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#fa,this.#aa),this.parent.drawLayer.updateBox(this.#fa,ES.#ya(this.#aa.box,e))}const{x:i,y:a,width:s,height:o}=t.box;switch(this.rotation){case 0:this.x=i,this.y=a,this.width=s,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=a,this.y=1-i,this.width=s*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-a,this.width=s,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-a,this.y=i,this.width=s*t/e,this.height=o*e/t;break}}const{lastPoint:l}=this.#aa.box;this.#ua=[(l[0]-i)/s,(l[1]-a)/o]}static initialize(e,t){Ly.initialize(e,t),ES._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Ib.HIGHLIGHT_DEFAULT_COLOR:ES._defaultColor=t;break;case Ib.HIGHLIGHT_THICKNESS:ES._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#ua}updateParams(e,t){switch(e){case Ib.HIGHLIGHT_COLOR:this.#ii(t);break;case Ib.HIGHLIGHT_THICKNESS:this.#wa(t)}}static get defaultPropertiesToUpdate(){return[[Ib.HIGHLIGHT_DEFAULT_COLOR,ES._defaultColor],[Ib.HIGHLIGHT_THICKNESS,ES._defaultThickness]]}get propertiesToUpdate(){return[[Ib.HIGHLIGHT_COLOR,this.color||ES._defaultColor],[Ib.HIGHLIGHT_THICKNESS,this.#Mi||ES._defaultThickness],[Ib.HIGHLIGHT_FREE,this.#da]]}#ii(e){const t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#y,e),this.#i?.updateColor(e)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#wa(e){const t=this.#Mi,n=e=>{this.#Mi=e,this.#xa(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#i=new AS({editor:this}),e.addColorPicker(this.#i)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#Sa())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#Sa())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#Aa(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#ba(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#Aa():e&&(this.#ba(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#xa(e){if(!this.#da)return;this.#ga({highlightOutlines:this.#ca.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#Aa(){null!==this.#y&&this.parent&&(this.parent.drawLayer.remove(this.#y),this.#y=null,this.parent.drawLayer.remove(this.#fa),this.#fa=null)}#ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===this.#y&&(({id:this.#y,clipPathId:this.#ia}=e.drawLayer.highlight(this.#ca,this.color,this.#ha)),this.#fa=e.drawLayer.highlightOutline(this.#aa),this.#la&&(this.#la.style.clipPath=this.#ia))}static#ya(e,t){let{x:n,y:r,width:i,height:a}=e;switch(t){case 90:return{x:1-r-a,y:n,width:a,height:i};case 180:return{x:1-n-i,y:1-r-a,width:i,height:a};case 270:return{x:r,y:1-n-i,width:a,height:i}}return{x:n,y:r,width:i,height:a}}rotate(e){const{drawLayer:t}=this.parent;let n;this.#da?(e=(e-this.rotation+360)%360,n=ES.#ya(this.#ca.box,e)):n=ES.#ya(this,e),t.rotate(this.#y,e),t.rotate(this.#fa,e),t.updateBox(this.#y,n),t.updateBox(this.#fa,ES.#ya(this.#aa.box,e))}render(){if(this.div)return this.div;const e=super.render();this.#pa&&(e.setAttribute("aria-label",this.#pa),e.setAttribute("role","mark")),this.#da?e.classList.add("free"):this.div.addEventListener("keydown",this.#Ea.bind(this),{signal:this._uiManager._signal});const t=this.#la=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#ia;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),Cy(this,this.#la,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#fa,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#fa,"hovered")}#Ea(e){ES._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#ka(!0);break;case 1:case 3:this.#ka(!1)}}#ka(e){if(!this.#ta)return;const t=window.getSelection();e?t.setPosition(this.#ta,this.#na):t.setPosition(this.#sa,this.#oa)}select(){super.select(),this.#fa&&(this.parent?.drawLayer.removeClass(this.#fa,"hovered"),this.parent?.drawLayer.addClass(this.#fa,"selected"))}unselect(){super.unselect(),this.#fa&&(this.parent?.drawLayer.removeClass(this.#fa,"selected"),this.#da||this.#ka(!1))}get _mustFixPosition(){return!this.#da}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(this.#y,e),this.parent.drawLayer.show(this.#fa,e))}#Sa(){return this.#da?this.rotation:0}#Ca(){if(this.#da)return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,i=this.#ra,a=new Float32Array(8*i.length);let s=0;for(const{x:o,y:l,width:c,height:d}of i){const i=o*e+n,u=(1-l-d)*t+r;a[s]=a[s+4]=i,a[s+1]=a[s+3]=u,a[s+2]=a[s+6]=i+c*e,a[s+5]=a[s+7]=u+d*t,s+=8}return a}#_a(e){return this.#ca.serialize(e,this.#Sa())}static startHighlighting(e,t,n){let{target:r,x:i,y:a}=n;const{x:s,y:o,width:l,height:c}=r.getBoundingClientRect(),d=new AbortController,u=e.combinedSignal(d),h=t=>{d.abort(),this.#Ta(e,t)};window.addEventListener("blur",h,{signal:u}),window.addEventListener("pointerup",h,{signal:u}),window.addEventListener("pointerdown",(e=>{e.preventDefault(),e.stopPropagation()}),{capture:!0,passive:!1,signal:u}),window.addEventListener("contextmenu",gy,{signal:u}),r.addEventListener("pointermove",this.#Pa.bind(this,e),{signal:u}),this._freeHighlight=new xS({x:i,y:a},[s,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static#Pa(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#Ta(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,n){const r=super.deserialize(e,t,n),{rect:[i,a,s,o],color:l,quadPoints:c}=e;r.color=zv.makeHexColor(...l),r.#ha=e.opacity;const[d,u]=r.pageDimensions;r.width=(s-i)/d,r.height=(o-a)/u;const h=r.#ra=[];for(let f=0;f<c.length;f+=8)h.push({x:(c[4]-s)/d,y:(o-(1-c[f+5]))/u,width:(c[f+2]-c[f])/d,height:(c[f+5]-c[f+1])/u});return r.#va(),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;const t=this.getRect(0,0),n=Ly._colorManager.convert(this.color);return{annotationType:Rb.HIGHLIGHT,color:n,opacity:this.#ha,thickness:this.#Mi,quadPoints:this.#Ca(),outlines:this.#_a(t),pageIndex:this.pageIndex,rect:t,rotation:this.#Sa(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}class kS extends Ly{#Oa=0;#Ma=0;#Ra=null;#Ia=(()=>new Path2D)();#La=!1;#Da=null;#Na=!1;#za=!1;#Fa=null;#ja=null;#Ba=0;#Ha=0;#$a=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=(()=>Rb.INK)();constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){Ly.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case Ib.INK_THICKNESS:kS._defaultThickness=t;break;case Ib.INK_COLOR:kS._defaultColor=t;break;case Ib.INK_OPACITY:kS._defaultOpacity=t/100}}updateParams(e,t){switch(e){case Ib.INK_THICKNESS:this.#wa(t);break;case Ib.INK_COLOR:this.#ii(t);break;case Ib.INK_OPACITY:this.#Wa(t)}}static get defaultPropertiesToUpdate(){return[[Ib.INK_THICKNESS,kS._defaultThickness],[Ib.INK_COLOR,kS._defaultColor||Ly._defaultLineColor],[Ib.INK_OPACITY,Math.round(100*kS._defaultOpacity)]]}get propertiesToUpdate(){return[[Ib.INK_THICKNESS,this.thickness||kS._defaultThickness],[Ib.INK_COLOR,this.color||kS._defaultColor||Ly._defaultLineColor],[Ib.INK_OPACITY,Math.round(100*(this.opacity??kS._defaultOpacity))]]}#wa(e){const t=e=>{this.thickness=e,this.#Ua()},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#ii(e){const t=e=>{this.color=e,this.#Va()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#Wa(e){const t=e=>{this.opacity=e,this.#Va()};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ib.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(this.#qa(),this.#Ga()),this.isAttachedToDOM||(this.parent.add(this),this.#Xa()),this.#Ua()))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#Ra&&(clearTimeout(this.#Ra),this.#Ra=null),this.#Fa?.disconnect(),this.#Fa=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){this.#La||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.#Ya())}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#Ka())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#Qa(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}#Ja(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:a}=this;e.lineWidth=r*i/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n)}`}#Za(e,t){this.canvas.addEventListener("contextmenu",gy,{signal:this._uiManager._signal}),this.#Ka(),this.#Da=new AbortController;const n=this._uiManager.combinedSignal(this.#Da);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,this.#za||(this.#za=!0,this.#Xa(),this.thickness||=kS._defaultThickness,this.color||=kS._defaultColor||Ly._defaultLineColor,this.opacity??=kS._defaultOpacity),this.currentPath.push([e,t]),this.#Na=!1,this.#Ja(),this.#$a=()=>{this.#es(),this.#$a&&window.requestAnimationFrame(this.#$a)},window.requestAnimationFrame(this.#$a)}#ts(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let a=this.#Ia;if(i.push([e,t]),this.#Na=!0,i.length<=2)return a.moveTo(...i[0]),void a.lineTo(e,t);3===i.length&&(this.#Ia=a=new Path2D,a.moveTo(...i[0])),this.#ns(a,...i.at(-3),...i.at(-2),e,t)}#rs(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);this.#Ia.lineTo(...e)}#is(e,t){let n;if(this.#$a=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#ts(e,t),this.#rs(),1!==this.currentPath.length)n=this.#as();else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=this.#Ia,i=this.currentPath;this.currentPath=[],this.#Ia=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#qa(),this.#Ga()),this.#Ua())},mustExec:!0})}#es(){if(!this.#Na)return;this.#Na=!1;const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),r=t.map((e=>e[1])),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)i.stroke(a);i.stroke(this.#Ia),i.restore()}#ns(e,t,n,r,i,a,s){const o=(t+r)/2,l=(n+i)/2,c=(r+a)/2,d=(i+s)/2;e.bezierCurveTo(o+2*(r-o)/3,l+2*(i-l)/3,c+2*(r-c)/3,d+2*(i-d)/3,c,d)}#as(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[a,s]=e[n],[o,l]=e[n+1],c=(a+o)/2,d=(s+l)/2,u=[r+2*(a-r)/3,i+2*(s-i)/3],h=[c+2*(a-c)/3,d+2*(s-d)/3];t.push([[r,i],u,h,[c,d]]),[r,i]=[c,d]}const[a,s]=e[n],[o,l]=e[n+1],c=[r+2*(a-r)/3,i+2*(s-i)/3],d=[o+2*(a-o)/3,l+2*(s-l)/3];return t.push([[r,i],c,d,[o,l]]),t}#Va(){if(this.isEmpty())return void this.#ss();this.#Ja();const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#ss();for(const n of this.bezierPath2D)t.stroke(n)}commit(){this.#La||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#La=!0,this.div.classList.add("disabled"),this.#Ua(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#Ya(){if(this.#ja)return;this.#ja=new AbortController;const e=this._uiManager.combinedSignal(this.#ja);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#Ka(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#La&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#Za(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#ts(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#os(e)}canvasPointerleave(e){this.#os(e)}#os(e){this.#Da?.abort(),this.#Da=null,this.#Ya(),this.#Ra&&clearTimeout(this.#Ra),this.#Ra=setTimeout((()=>{this.#Ra=null,this.canvas.removeEventListener("contextmenu",gy)}),10),this.#is(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#qa(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#Ga(){this.#Fa=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),this.#Fa.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Fa?.disconnect(),this.#Fa=null}),{once:!0})}get isResizable(){return!this.isEmpty()&&this.#La}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,a]=this.#Qa();if(this.setAt(n,r,0,0),this.setDims(i,a),this.#qa(),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),this.#za=!0,this.#Xa(),this.setDims(this.width*n,this.height*r),this.#Va(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#Ga(),this.div}#Xa(){if(!this.#za)return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#ss()}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(this.#Ba===n&&this.#Ha===r)return;this.#Ba=n,this.#Ha=r,this.canvas.style.visibility="hidden";const[i,a]=this.parentDimensions;this.width=e/i,this.height=t/a,this.fixAndSetPosition(),this.#La&&this.#ls(e,t),this.#Xa(),this.#Va(),this.canvas.style.visibility="visible",this.fixDims()}#ls(e,t){const n=this.#cs(),r=(e-n)/this.#Ma,i=(t-n)/this.#Oa;this.scaleFactor=Math.min(r,i)}#ss(){const e=this.#cs()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#ds(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,a,s]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],a[0],a[1],s[0],s[1])}return t}static#us(e,t,n){const[r,i,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}static#hs(e,t,n){const[r,i,a,s]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=s-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=a-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}#fs(e,t,n,r){const i=[],a=this.thickness/2,s=e*t+a,o=e*n+a;for(const l of this.paths){const t=[],n=[];for(let r=0,i=l.length;r<i;r++){const[a,c,d,u]=l[r];if(a[0]===u[0]&&a[1]===u[1]&&1===i){const r=e*a[0]+s,i=e*a[1]+o;t.push(r,i),n.push(r,i);break}const h=e*a[0]+s,f=e*a[1]+o,p=e*c[0]+s,m=e*c[1]+o,g=e*d[0]+s,b=e*d[1]+o,v=e*u[0]+s,y=e*u[1]+o;0===r&&(t.push(h,f),n.push(h,f)),t.push(p,m,g,b,v,y),n.push(p,m),r===i-1&&n.push(v,y)}i.push({bezier:kS.#us(t,r,this.rotation),points:kS.#us(n,r,this.rotation)})}return i}#ps(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const i of this.paths)for(const[a,s,o,l]of i){const i=zv.bezierBoundingBox(...a,...s,...o,...l);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),r=Math.max(r,i[3])}return[e,n,t,r]}#cs(){return this.#La?Math.ceil(this.thickness*this.parentScale):0}#Ua(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!this.#La)return void this.#Va();const t=this.#ps(),n=this.#cs();this.#Ma=Math.max(Ly.MIN_SIZE,t[2]-t[0]),this.#Oa=Math.max(Ly.MIN_SIZE,t[3]-t[1]);const r=Math.ceil(n+this.#Ma*this.scaleFactor),i=Math.ceil(n+this.#Oa*this.scaleFactor),[a,s]=this.parentDimensions;this.width=r/a,this.height=i/s,this.setAspectRatio(r,i);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#Xa(),this.#Va(),this.#Ba=r,this.#Ha=i,this.setDims(r,i);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}static deserialize(e,t,n){if(e instanceof lS)return null;const r=super.deserialize(e,t,n);r.thickness=e.thickness,r.color=zv.makeHexColor(...e.color),r.opacity=e.opacity;const[i,a]=r.pageDimensions,s=r.width*i,o=r.height*a,l=r.parentScale,c=e.thickness/2;r.#La=!0,r.#Ba=Math.round(s),r.#Ha=Math.round(o);const{paths:d,rect:u,rotation:h}=e;for(let{bezier:p}of d){p=kS.#hs(p,u,h);const e=[];r.paths.push(e);let t=l*(p[0]-c),n=l*(p[1]-c);for(let r=2,a=p.length;r<a;r+=6){const i=l*(p[r]-c),a=l*(p[r+1]-c),s=l*(p[r+2]-c),o=l*(p[r+3]-c),d=l*(p[r+4]-c),u=l*(p[r+5]-c);e.push([[t,n],[i,a],[s,o],[d,u]]),t=d,n=u}const i=this.#ds(e);r.bezierPath2D.push(i)}const f=r.#ps();return r.#Ma=Math.max(Ly.MIN_SIZE,f[2]-f[0]),r.#Oa=Math.max(Ly.MIN_SIZE,f[3]-f[1]),r.#ls(s,o),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=Ly._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Rb.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#fs(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class CS extends Ly{#ms=null;#gs=null;#bs=null;#vs=null;#ys=null;#ws="";#xs=null;#Fa=null;#Ss=null;#As=!1;#Es=!1;static _type="stamp";static _editorType=(()=>Rb.STAMP)();constructor(e){super({...e,name:"stampEditor"}),this.#vs=e.bitmapUrl,this.#ys=e.bitmapFile}static initialize(e,t){Ly.initialize(e,t)}static get supportedTypes(){return Av(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>`image/${e}`)))}static get supportedTypesStr(){return Av(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(Rb.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#ks(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(this.#ms=e.bitmap,t||(this.#gs=e.id,this.#As=e.isSvg),e.file&&(this.#ws=e.file.name),this.#qa()):this.remove()}#Cs(){if(this.#bs=null,this._uiManager.enableWaiting(!1),this.#xs){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#ms)return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#ms){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:i,height:a}=e||this.copyCanvas(null,!0).imageData,s=await n.guess({name:"altText",request:{data:r,width:i,height:a,channels:r.length/(i*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}#_s(){if(this.#gs)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#gs).then((e=>this.#ks(e,!0))).finally((()=>this.#Cs()));if(this.#vs){const e=this.#vs;return this.#vs=null,this._uiManager.enableWaiting(!0),void(this.#bs=this._uiManager.imageManager.getFromUrl(e).then((e=>this.#ks(e))).finally((()=>this.#Cs())))}if(this.#ys){const e=this.#ys;return this.#ys=null,this._uiManager.enableWaiting(!0),void(this.#bs=this._uiManager.imageManager.getFromFile(e).then((e=>this.#ks(e))).finally((()=>this.#Cs())))}const e=document.createElement("input");e.type="file",e.accept=CS.supportedTypesStr;const t=this._uiManager._signal;this.#bs=new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#ks(t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>this.#Cs())),e.click()}remove(){this.#gs&&(this.#ms=null,this._uiManager.imageManager.deleteId(this.#gs),this.#xs?.remove(),this.#xs=null,this.#Fa?.disconnect(),this.#Fa=null,this.#Ss&&(clearTimeout(this.#Ss),this.#Ss=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#gs&&null===this.#xs&&this.#_s(),this.isAttachedToDOM||this.parent.add(this))):this.#gs&&this.#_s()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#bs||this.#ms||this.#vs||this.#ys||this.#gs)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#ms?this.#qa():this.#_s(),this.width){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}#qa(){const{div:e}=this;let{width:t,height:n}=this.#ms;const[r,i]=this.pageDimensions,a=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>a*r||n>a*i){const e=Math.min(a*r/t,a*i/n);t*=e,n*=e}const[s,o]=this.parentDimensions;this.setDims(t*s/r,n*o/i),this._uiManager.enableWaiting(!1);const l=this.#xs=document.createElement("canvas");e.append(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow||(e.hidden=!1),this.#Ts(t,n),this.#Ga(),this.#Es||(this.parent.addUndoableEditor(this),this.#Es=!0),this._reportTelemetry({action:"inserted_image"}),this.#ws&&l.setAttribute("aria-label",this.#ws)}copyCanvas(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=224);const{width:n,height:r}=this.#ms,i=document.createElement("canvas");let a=this.#ms,s=n,o=r;if(n>e||r>e){const t=Math.min(e/n,e/r);s=Math.floor(n*t),o=Math.floor(r*t),this.#As||(a=this.#Ps(s,o))}i.width=s,i.height=o;const l=i.getContext("2d");l.filter=this._uiManager.hcmFilter;let c="white",d="#cfcfd8";"none"!==this._uiManager.hcmFilter?d="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(c="#8f8f9d",d="#42414d");const u=15,h=new OffscreenCanvas(30,30),f=h.getContext("2d");if(f.fillStyle=c,f.fillRect(0,0,30,30),f.fillStyle=d,f.fillRect(0,0,u,u),f.fillRect(u,u,u,u),l.fillStyle=l.createPattern(h,"repeat"),l.fillRect(0,0,s,o),t){const e=new OffscreenCanvas(s,o),t=e.getContext("2d",{willReadFrequently:!0});t.drawImage(a,0,0,a.width,a.height,0,0,s,o);const n=t.getImageData(0,0,s,o).data;return l.drawImage(e,0,0),{canvas:i,imageData:{width:s,height:o,data:n}}}return l.drawImage(a,0,0,a.width,a.height,0,0,s,o),{canvas:i,imageData:null}}#Os(e,t){const[n,r]=this.parentDimensions;this.width=e/n,this.height=t/r,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==this.#Ss&&clearTimeout(this.#Ss);this.#Ss=setTimeout((()=>{this.#Ss=null,this.#Ts(e,t)}),200)}#Ps(e,t){const{width:n,height:r}=this.#ms;let i=n,a=r,s=this.#ms;for(;i>2*e||a>2*t;){const n=i,r=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(i,a);o.getContext("2d").drawImage(s,0,0,n,r,0,0,i,a),s=o.transferToImageBitmap()}return s}#Ts(e,t){e=Math.ceil(e),t=Math.ceil(t);const n=this.#xs;if(!n||n.width===e&&n.height===t)return;n.width=e,n.height=t;const r=this.#As?this.#ms:this.#Ps(e,t),i=n.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(r,0,0,r.width,r.height,0,0,e,t)}getImageForAltText(){return this.#xs}#Ms(e){if(e){if(this.#As){const e=this._uiManager.imageManager.getSvgUrl(this.#gs);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#ms);return e.getContext("2d").drawImage(this.#ms,0,0),e.toDataURL()}if(this.#As){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*ry.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*ry.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(this.#ms,0,0,this.#ms.width,this.#ms.height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(this.#ms)}#Ga(){this._uiManager._signal&&(this.#Fa=new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.#Os(t.width,t.height)})),this.#Fa.observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{this.#Fa?.disconnect(),this.#Fa=null}),{once:!0}))}static deserialize(e,t,n){if(e instanceof fS)return null;const r=super.deserialize(e,t,n),{rect:i,bitmapUrl:a,bitmapId:s,isSvg:o,accessibilityData:l}=e;s&&n.imageManager.isValidId(s)?r.#gs=s:r.#vs=a,r.#As=o;const[c,d]=r.pageDimensions;return r.width=(i[2]-i[0])/c,r.height=(i[3]-i[1])/d,l&&(r.altTextData=l),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;const n={annotationType:Rb.STAMP,bitmapId:this.#gs,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#As,structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=this.#Ms(!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:r,altText:i}=this.serializeAltText(!1);if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),null===t)return n;t.stamps||=new Map;const a=this.#As?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#gs)){if(this.#As){const e=t.stamps.get(this.#gs);a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=this.#Ms(!1))}}else t.stamps.set(this.#gs,{area:a,serialized:n}),n.bitmap=this.#Ms(!1);return n}}class _S{#Xr;#Rs=!1;#Is=null;#Ls=null;#Ds=null;#Ns=(()=>new Map)();#zs=!1;#Fs=!1;#js=!1;#Bs=null;#Hs=null;#m;static _initialized=!1;static#B=(()=>new Map([bS,kS,CS,ES].map((e=>[e._editorType,e]))))();constructor(e){let{uiManager:t,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:a,drawLayer:s,textLayer:o,viewport:l,l10n:c}=e;const d=[..._S.#B.values()];if(!_S._initialized){_S._initialized=!0;for(const e of d)e.initialize(c,t)}t.registerEditorTypes(d),this.#m=t,this.pageIndex=n,this.div=r,this.#Xr=i,this.#Is=a,this.viewport=l,this.#Bs=o,this.drawLayer=s,this.#m.addLayer(this)}get isEmpty(){return 0===this.#Ns.size}get isInvisible(){return this.isEmpty&&this.#m.getMode()===Rb.NONE}updateToolbar(e){this.#m.updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.#m.getMode();switch(this.#$s(),e){case Rb.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Rb.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Rb.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of _S.#B.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#Bs?.div}addInkEditorIfNeeded(e){if(this.#m.getMode()!==Rb.INK)return;if(!e)for(const t of this.#Ns.values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){this.#m.setEditingState(e)}addCommands(e){this.#m.addCommands(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.#Is?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of this.#Ns.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#m.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#Is)return;const t=this.#Is.getEditableAnnotations();for(const n of t){if(n.hide(),this.#m.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){this.#js=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const r of this.#Ns.values())r.disableEditing(),r.annotationElementId&&(null===r.serialize()?(t.set(r.annotationElementId,r),this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()):e.set(r.annotationElementId,r));if(this.#Is){const n=this.#Is.getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(this.#m.isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=e.get(n),i&&(this.#m.addChangedExistingAnnotation(i),i.renderAnnotationElement(r),i.show(!1)),r.show())}}this.#$s(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of _S.#B.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#js=!1}getEditableAnnotation(e){return this.#Is?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#m.getActive()!==e&&this.#m.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#Bs?.div&&!this.#Hs){this.#Hs=new AbortController;const e=this.#m.combinedSignal(this.#Hs);this.#Bs.div.addEventListener("pointerdown",this.#Ws.bind(this),{signal:e}),this.#Bs.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#Bs?.div&&this.#Hs&&(this.#Hs.abort(),this.#Hs=null,this.#Bs.div.classList.remove("highlighting"))}#Ws(e){this.#m.unselectAll();const{target:t}=e;if(t===this.#Bs.div||t.classList.contains("endOfContent")&&this.#Bs.div.contains(t)){const{isMac:t}=Dv.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#m.showAllEditors("highlight",!0,!0),this.#Bs.div.classList.add("free"),this.toggleDrawing(),ES.startHighlighting(this,"ltr"===this.#m.direction,e),this.#Bs.div.addEventListener("pointerup",(()=>{this.#Bs.div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:this.#m._signal}),e.preventDefault()}}enableClick(){if(this.#Ls)return;this.#Ls=new AbortController;const e=this.#m.combinedSignal(this.#Ls);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){this.#Ls?.abort(),this.#Ls=null}attach(e){this.#Ns.set(e.id,e);const{annotationElementId:t}=e;t&&this.#m.isDeletedAnnotationElement(t)&&this.#m.removeDeletedAnnotationElement(e)}detach(e){this.#Ns.delete(e.id),this.#Xr?.removePointerInTextLayer(e.contentDiv),!this.#js&&e.annotationElementId&&this.#m.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#m.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#Fs||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#m.addDeletedAnnotationElement(e.annotationElementId),Ly.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#m.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),this.#m.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#Ds&&(e._focusEventsAllowed=!1,this.#Ds=setTimeout((()=>{this.#Ds=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this.#m._signal}),t.focus())}),0)),e._structTreeParentId=this.#Xr?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#m.getId()}get#Us(){return _S.#B.get(this.#m.getMode())}combinedSignal(e){return this.#m.combinedSignal(e)}#Vs(e){const t=this.#Us;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#Us?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#m.updateToolbar(e),this.#m.updateMode(e);const{offsetX:n,offsetY:r}=this.#qs(),i=this.getNextId(),a=this.#Vs({parent:this,id:i,x:n,y:r,uiManager:this.#m,isCentered:!0,...t});a&&this.add(a)}deserialize(e){return _S.#B.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#m)||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=this.#Vs({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#m,isCentered:t,...n});return i&&this.add(i),i}#qs(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[s,o]:[o,s];return{offsetX:l,offsetY:c}}addNewEditor(){this.createAndAddNewEditor(this.#qs(),!0)}setSelected(e){this.#m.setSelected(e)}toggleSelected(e){this.#m.toggleSelected(e)}isSelected(e){return this.#m.isSelected(e)}unselect(e){this.#m.unselect(e)}pointerup(e){const{isMac:t}=Dv.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#zs&&(this.#zs=!1,this.#Rs?this.#m.getMode()!==Rb.STAMP?this.createAndAddNewEditor(e,!1):this.#m.unselectAll():this.#Rs=!0)}pointerdown(e){if(this.#m.getMode()===Rb.HIGHLIGHT&&this.enableTextSelection(),this.#zs)return void(this.#zs=!1);const{isMac:t}=Dv.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;this.#zs=!0;const n=this.#m.getActive();this.#Rs=!n||n.isEmpty()}findNewParent(e,t,n){const r=this.#m.findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){this.#m.getActive()?.parent===this&&(this.#m.commitOrRemove(),this.#m.setActiveEditor(null)),this.#Ds&&(clearTimeout(this.#Ds),this.#Ds=null);for(const e of this.#Ns.values())this.#Xr?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#Ns.clear(),this.#m.removeLayer(this)}#$s(){this.#Fs=!0;for(const e of this.#Ns.values())e.isEmpty()&&e.remove();this.#Fs=!1}render(e){let{viewport:t}=e;this.viewport=t,Ay(this.div,t);for(const n of this.#m.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;this.#m.commitOrRemove(),this.#$s();const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Ay(this.div,{rotation:r}),n!==r)for(const i of this.#Ns.values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#m.viewParameters.realScale}}class TS{#Tr=null;#y=0;#Gs=(()=>new Map)();#Xs=(()=>new Map)();constructor(e){let{pageIndex:t}=e;this.pageIndex=t}setParent(e){if(this.#Tr){if(this.#Tr!==e){if(this.#Gs.size>0)for(const t of this.#Gs.values())t.remove(),e.append(t);this.#Tr=e}}else this.#Tr=e}static get _svgFactory(){return Av(this,"_svgFactory",new oy)}static#Ys(e){let{x:t=0,y:n=0,width:r=1,height:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:a}=e;a.top=100*n+"%",a.left=100*t+"%",a.width=100*r+"%",a.height=100*i+"%"}#Ks(e){const t=TS._svgFactory.create(1,1,!0);return this.#Tr.append(t),t.setAttribute("aria-hidden",!0),TS.#Ys(t,e),t}#Qs(e,t){const n=TS._svgFactory.createElement("clipPath");e.append(n);const r=`clip_${t}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=TS._svgFactory.createElement("use");return n.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),r}highlight(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this.#y++,a=this.#Ks(e.box);a.classList.add("highlight"),e.free&&a.classList.add("free");const s=TS._svgFactory.createElement("defs");a.append(s);const o=TS._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("d",e.toSVGPath()),r&&this.#Xs.set(i,o);const c=this.#Qs(s,l),d=TS._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",n),d.setAttribute("href",`#${l}`),this.#Gs.set(i,a),{id:i,clipPathId:`url(#${c})`}}highlightOutline(e){const t=this.#y++,n=this.#Ks(e.box);n.classList.add("highlightOutline");const r=TS._svgFactory.createElement("defs");n.append(r);const i=TS._svgFactory.createElement("path");r.append(i);const a=`path_p${this.pageIndex}_${t}`;let s;if(i.setAttribute("id",a),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke"),e.free){n.classList.add("free");const e=TS._svgFactory.createElement("mask");r.append(e),s=`mask_p${this.pageIndex}_${t}`,e.setAttribute("id",s),e.setAttribute("maskUnits","objectBoundingBox");const i=TS._svgFactory.createElement("rect");e.append(i),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("fill","white");const o=TS._svgFactory.createElement("use");e.append(o),o.setAttribute("href",`#${a}`),o.setAttribute("stroke","none"),o.setAttribute("fill","black"),o.setAttribute("fill-rule","nonzero"),o.classList.add("mask")}const o=TS._svgFactory.createElement("use");n.append(o),o.setAttribute("href",`#${a}`),s&&o.setAttribute("mask",`url(#${s})`);const l=o.cloneNode();return n.append(l),o.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#Gs.set(t,n),t}finalizeLine(e,t){const n=this.#Xs.get(e);this.#Xs.delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#Gs.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#Xs.delete(e)}updatePath(e,t){this.#Xs.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){TS.#Ys(this.#Gs.get(e),t)}show(e,t){this.#Gs.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#Gs.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#Gs.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#Gs.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#Gs.get(e).classList.add(t)}removeClass(e,t){this.#Gs.get(e).classList.remove(t)}remove(e){null!==this.#Tr&&(this.#Gs.get(e).remove(),this.#Gs.delete(e))}destroy(){this.#Tr=null;for(const e of this.#Gs.values())e.remove();this.#Gs.clear()}}var PS=vb.getDocument;vb.GlobalWorkerOptions.workerSrc="pdf.worker.min.mjs";const OS=function(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(null),[a,s]=(0,r.useState)(""),o=e=>{let t="";const n=e.items;n.sort(((e,t)=>e.transform[5]-t.transform[5]));let r=null;for(const i of n)if(i.str.trim().length>0){const e=i.transform[5];null!==r&&Math.abs(e-r)>20&&(t+="\n");t+=`${i.transform[4]>50?"  ":""}${i.str}`,r=e}return t};return(0,Cg.jsxs)($i,{padding:"md",shadow:"xs",mt:"md",radius:"md",withBorder:!0,children:[(0,Cg.jsx)(Qg,{accept:".pdf",onChange:e=>(e=>{e&&i(e)})(e),placeholder:"Upload PDF file",mt:"md"}),(0,Cg.jsx)(kg,{onClick:()=>{n&&(async e=>{const n=new FileReader;n.onload=async()=>{const e=new Uint8Array(n.result);try{const n=await PS(e).promise,r=n.numPages;let i="";for(let e=1;e<=r;e++){const t=await n.getPage(e),r=await t.getTextContent();i+=o(r)+"\n"}t(i),s("")}catch(r){console.error("Error extracting text from PDF:",r),s("Error extracting text from PDF.")}},n.readAsArrayBuffer(e)})(n)},mt:"md",children:"Extract Text "}),a&&(0,Cg.jsx)(gb,{title:"Notice",color:"blue",mt:"md",children:a}),(0,Cg.jsx)(Gm,{value:e,onChange:e=>t(e.target.value),mt:"md",minRows:10,placeholder:"Extracted text will appear here"}),(0,Cg.jsxs)(xp,{mt:"md",children:[(0,Cg.jsx)(kg,{variant:"light",onClick:()=>{navigator.clipboard.writeText(e).then((()=>{s("Text copied to clipboard.")})).catch((()=>{s("Failed to copy text to clipboard.")}))},disabled:!e,children:"Copy to Clipboard"}),(0,Cg.jsx)(kg,{variant:"light",color:"red",onClick:()=>{const t=new Blob([e],{type:"text/plain;charset=utf-8"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="extracted-text.txt",r.click(),URL.revokeObjectURL(n)},disabled:!e,children:"Download as File"})]})]})};const MS=function(){const[e,t]=(0,r.useState)("text-to-speech");return(0,Cg.jsx)(Bt,{theme:{colorScheme:"dark"},withGlobalStyles:!0,withNormalizeCSS:!0,children:(0,Cg.jsxs)(Wn,{children:[(0,Cg.jsx)(Kn,{h:"20px"}),(0,Cg.jsx)(zr,{order:1,align:"center",mb:"lg",children:"i-hate-paywalls"}),(0,Cg.jsx)(Or,{align:"center",children:"A bare bones web-app with stuff that I commonly use."}),(0,Cg.jsx)(Kn,{h:"20px"}),(0,Cg.jsx)(hi,{value:e,onChange:t,data:[{label:"Text-to-Speech",value:"text-to-speech"},{label:"PDF-Text-Extractor",value:"pdf-extractor"},{label:"Goo-Goo-Ga-Ga",value:"goo-goo"}]}),"goo-goo"===e&&(0,Cg.jsx)(Pg,{}),"pdf-extractor"===e&&(0,Cg.jsx)(OS,{}),"text-to-speech"===e&&(0,Cg.jsx)(Tg,{})]})})},RS=document.getElementById("root");console.log(RS),RS?a.render((0,Cg.jsx)(r.StrictMode,{children:(0,Cg.jsx)(MS,{})}),RS):console.error("Target container is not a DOM element.")})();
//# sourceMappingURL=main.681d1bcb.js.map